"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2320],{9491:(j,v,l)=>{l.d(v,{j:()=>k});var g=l(177),_=l(9465),r=l(9417),f=l(4646),d=l(68),m=l(3953);let k=(()=>{var h;class t{}return(h=t).\u0275fac=function(b){return new(b||h)},h.\u0275mod=m.$C({type:h}),h.\u0275inj=m.G2t({imports:[g.MD,_.bv,r.YN,r.X1,f.X,d.k]}),t})()},2320:(j,v,l)=>{l.r(v),l.d(v,{ContactsListPageModule:()=>Dt});var g=l(177),_=l(9417),r=l(9465),f=l(5188),d=l(467),m=l(9969),k=l(1413),h=l(152),t=l(3953),F=l(4501),b=l(9333),y=l(9710),I=l(8397),T=l(2081),x=l(5970),C=l(3955),E=l(8392),$=l(6069),S=l(5484),M=l(7310),G=l(4954);const D=i=>({"crm-item-tag-active":i});function U(i,s){if(1&i){const o=t.RV6();t.j41(0,"div",23)(1,"ion-checkbox",24),t.bIt("ionChange",function(n){const a=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.onCheckboxChange(a,n,"contactType"))}),t.k0s(),t.j41(2,"div",25),t.EFF(3),t.k0s()()}if(2&i){const o=s.$implicit,e=t.XpG();t.R7$(),t.Y8G("value",o.value)("checked",e.filterData.contactType.includes(o.value)),t.R7$(2),t.SpI(" ",o.name," ")}}function P(i,s){if(1&i&&(t.j41(0,"ion-select-option",26),t.EFF(1),t.k0s()),2&i){const o=s.$implicit;t.Y8G("value",o.value),t.R7$(),t.JRh(o.label)}}function A(i,s){if(1&i&&(t.j41(0,"ion-select-option",26),t.EFF(1),t.k0s()),2&i){const o=s.$implicit;t.Y8G("value",o.code),t.R7$(),t.SpI(" ",o.name,"")}}function N(i,s){if(1&i&&(t.j41(0,"div",27)(1,"div",28)(2,"div",29),t.nrm(3,"img",30),t.k0s(),t.j41(4,"div",31)(5,"div",32),t.EFF(6),t.k0s(),t.j41(7,"div",33),t.EFF(8),t.k0s()()()()),2&i){const o=t.XpG();t.R7$(3),t.Y8G("src",o.selectedAgency.photoUrl||"assets/images/building.png",t.B4B),t.R7$(3),t.SpI(" ",o.selectedAgency.name," "),t.R7$(2),t.SpI(" ",o.selectedAgency.email," ")}}function B(i,s){if(1&i&&(t.j41(0,"div",27)(1,"div",28)(2,"div",29),t.nrm(3,"img",30),t.k0s(),t.j41(4,"div",31)(5,"div",32),t.EFF(6),t.k0s(),t.j41(7,"div",33),t.EFF(8),t.k0s()()()()),2&i){const o=t.XpG();t.R7$(3),t.Y8G("src",o.selectedUser.photoUrl||"assets/images/avatar.png",t.B4B),t.R7$(3),t.SpI(" ",o.selectedUser.name," "),t.R7$(2),t.SpI(" ",o.selectedUser.email," ")}}function Y(i,s){if(1&i){const o=t.RV6();t.j41(0,"div",23)(1,"ion-checkbox",24),t.bIt("ionChange",function(n){const a=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.onCheckboxChange(a,n,"gender"))}),t.k0s(),t.j41(2,"div",25),t.EFF(3),t.k0s()()}if(2&i){const o=s.$implicit,e=t.XpG();t.R7$(),t.Y8G("value",o.value)("checked",e.filterData.gender.includes(o.value)),t.R7$(2),t.SpI(" ",o.name," ")}}function L(i,s){if(1&i){const o=t.RV6();t.j41(0,"div",34),t.bIt("click",function(){const n=t.eBV(o).$implicit,a=t.XpG();return t.Njj(a.onToggleTag(n))}),t.EFF(1),t.k0s()}if(2&i){const o=s.$implicit;t.Y8G("ngClass",t.eq3(2,D,o.active)),t.R7$(),t.SpI(" ",null==o?null:o.text," ")}}let X=(()=>{var i;class s{constructor(e,n){this.tagsEditorService=e,this.api=n,this.onFilter=new t.bkB,this.allTags=[],this.selectedOrigin="",this.selectedNationality="",this.nationalities=$.X,this.agencyName="",this.selectedAgency=null,this.selectedUser=null,this.contactTypes=[{name:"Cliente potencial",value:"potential_client"},{name:"Cliente",value:"client"}],this.origins=E.R.origin,this.genders=[{name:"Hombre",value:"male"},{name:"Mujer",value:"female"},{name:"Otro",value:"other"}],this.filterData={name:"",contactType:[],origin:[],dniPassport:"",nationality:[],birthdateFrom:"",birthdateTo:"",gender:[],alias:"",address:"",phoneNumber:"",emailAddress:"",urlFacebook:"",urlInstagram:"",urlLinkedIn:"",associatedUser:"",createdAtFrom:"",createdAtTo:"",tags:[],agencyRegisteredId:""},this.baseFilters=null,this.sort=null,this.pagination={page:0,itemsPerPage:25},this.linkedAgencies=[],this.linkedAgenciesCopy=[],this.showDropdown=!1,this.baseFilters=JSON.parse(JSON.stringify(this.filterData))}searchAgencies(){clearInterval(this.debounceTime),this.linkedAgencies=this.linkedAgenciesCopy;let e=[];setTimeout(()=>{for(let n=0;n<this.linkedAgencies.length;n++){const a=this.linkedAgencies[n];a.name.includes(this.agencyName)&&e.push(a)}0!=e.length?(this.linkedAgencies=e,this.showDropdown=!0):this.showDropdown=!1},500)}getLinkedAgencies(){var e=this;return(0,d.A)(function*(){const a=(yield e.api.getCurrentPromoter()).success.data.id,c=yield e.api.getAgency({},e.sort,e.pagination,{promoters:{apply:!0,filter:{id:{equals:a}},onlyCount:!1,negativeFiler:!1}});e.linkedAgencies=c.success.data,e.linkedAgenciesCopy=e.linkedAgencies})()}selectAgency(e){this.agencyName=e.name,this.filterData.agencyRegisteredId=e.id}ngOnInit(){this.getLinkedAgencies(),this.selectedOrigin="",this.filterData.origin.push(this.selectedOrigin),this.selectedNationality="",this.filterData.nationality.push(this.selectedNationality),this.filterData={name:"",contactType:[],origin:[],dniPassport:"",nationality:[],birthdateFrom:"",birthdateTo:"",gender:[],alias:"",address:"",phoneNumber:"",emailAddress:"",urlFacebook:"",urlInstagram:"",urlLinkedIn:"",associatedUser:"",createdAtFrom:"",createdAtTo:"",agencyRegisteredId:""},this.savedFilters&&(this.filterData=this.savedFilters),this.getTags()}setOriginFilter(e){this.filterData.origin=e.detail.value}setNationalityFilter(e){this.filterData.nationality=e.detail.value}getTags(){var e=this;return(0,d.A)(function*(){e.allTags=yield e.tagsEditorService.getAllTags()})()}onClickFilter(){let e=!1;Object.keys(this.filterData).forEach(n=>{JSON.stringify(this.filterData[n])!==JSON.stringify(this.baseFilters[n])&&(e=!0)}),this.onFilter.emit(e?this.filterData:null)}onResetFilters(){this.agencyName="",this.selectedOrigin="",this.filterData.origin.push(this.selectedOrigin),this.selectedNationality="",this.filterData.nationality.push(this.selectedNationality),this.filterData={name:"",contactType:[],origin:[],dniPassport:"",nationality:[],birthdateFrom:"",birthdateTo:"",gender:[],alias:"",address:"",phoneNumber:"",emailAddress:"",urlFacebook:"",urlInstagram:"",urlLinkedIn:"",associatedUser:"",createdAtFrom:"",createdAtTo:"",agencyRegisteredId:""},this.selectedAgency=null,this.selectedUser=null,this.onFilter.emit(null)}onCheckboxChange(e,n,a){if(n.detail.checked)this.filterData[a].push(e.value);else{const c=this.filterData[a].indexOf(e.value);c>-1&&this.filterData[a].splice(c,1)}}onToggleTag(e){this.allTags=this.tagsEditorService.toggleTag(e,this.allTags),this.filterData.tags=[],this.allTags.forEach(n=>{null!=n&&n.active&&this.filterData.tags.push(n)})}onSelectAgency(e){this.selectedAgency=null,this.filterData.agencyRegisteredId="",e&&(this.selectedAgency=e,console.log("Selected agency:",e),this.filterData.agencyRegisteredId=e.id)}onSelectUserFilter(e){this.selectedUser=null,this.filterData.associatedUser="",e&&(this.selectedUser=e,this.filterData.associatedUser=e.id)}}return(i=s).\u0275fac=function(e){return new(e||i)(t.rXU(S.H),t.rXU(T.i))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-filters-block"]],inputs:{savedFilters:"savedFilters"},outputs:{onFilter:"onFilter"},decls:64,vars:11,consts:[[2,"position","relative"],[1,"crm-header-modal","crm-header-modal-fixed-top"],[1,"crm-modal-header-title"],[1,"crm-buttons-group"],[1,"crm-button",3,"click"],[1,"crm-button-secondary","crm-button-secondary-red",3,"click"],[1,"crm-block-inputs","crm-block-filters-inputs"],[1,"crm-input"],[1,"crm-input-label"],[1,"crm-input-checkboxes"],["class","crm-input-checkbox",4,"ngFor","ngForOf"],["toggleIcon","chevron-down-outline","justify","end","interface","popover","multiple","true",1,"crm-select-item",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"selectedAgency","ignoreIncludes"],["class","crm-item-associated-user",4,"ngIf"],[3,"userSelected"],[1,"crm-section-inputs-double-input"],[1,"crm-input-input"],["type","date","placeholder","Desde","name","createdAtFrom",3,"ngModelChange","ngModel"],["type","date","placeholder","Hasta","name","createdAtTo",3,"ngModelChange","ngModel"],[1,"crm-section-small-title"],[1,"crm-section-tags"],[1,"crm-item-tag",3,"ngClass"],[1,"crm-input-checkbox"],[3,"ionChange","value","checked"],[1,"crm-input-checkbox-label"],[3,"value"],[1,"crm-item-associated-user"],[1,"crm-item-associated-user-left"],[1,"crm-item-associated-user-left-image"],["alt","",3,"src"],[1,"crm-item-associated-user-left-info"],[1,"crm-item-associated-user-left-info-name"],[1,"crm-item-associated-user-left-info-email"],[1,"crm-item-tag",3,"click","ngClass"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3,"Filtrar"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return n.onClickFilter()}),t.EFF(6,"Filtrar"),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return n.onResetFilters()}),t.EFF(8," Reiniciar "),t.k0s()()(),t.j41(9,"div",6)(10,"div",7)(11,"div",8),t.EFF(12,"Tipo de contacto"),t.k0s(),t.j41(13,"div",9),t.DNE(14,U,4,3,"div",10),t.k0s()(),t.j41(15,"div",7)(16,"div",8),t.EFF(17,"Origen"),t.k0s(),t.j41(18,"ion-list")(19,"ion-item")(20,"ion-select",11),t.mxI("ngModelChange",function(c){return t.DH7(n.selectedOrigin,c)||(n.selectedOrigin=c),c}),t.bIt("ionChange",function(c){return n.setOriginFilter(c)}),t.DNE(21,P,2,2,"ion-select-option",12),t.k0s()()()(),t.j41(22,"div",7)(23,"div",8),t.EFF(24,"Nacionalidades"),t.k0s(),t.j41(25,"ion-list")(26,"ion-item")(27,"ion-select",11),t.mxI("ngModelChange",function(c){return t.DH7(n.selectedNationality,c)||(n.selectedNationality=c),c}),t.bIt("ionChange",function(c){return n.setNationalityFilter(c)}),t.DNE(28,A,2,2,"ion-select-option",12),t.k0s()()()(),t.j41(29,"div",7)(30,"div",8),t.EFF(31,"Registrado por"),t.k0s(),t.j41(32,"app-agencies-searchbar",13),t.bIt("selectedAgency",function(c){return n.onSelectAgency(c)}),t.k0s()(),t.DNE(33,N,9,3,"div",14),t.j41(34,"div",7)(35,"div",8),t.EFF(36,"Usuario relacionado"),t.k0s(),t.j41(37,"app-agents-searchbar",15),t.bIt("userSelected",function(c){return n.onSelectUserFilter(c)}),t.k0s()(),t.DNE(38,B,9,3,"div",14),t.j41(39,"div",16)(40,"div",7)(41,"div",8),t.EFF(42,"Creado desde"),t.k0s(),t.j41(43,"div",17)(44,"input",18),t.mxI("ngModelChange",function(c){return t.DH7(n.filterData.createdAtFrom,c)||(n.filterData.createdAtFrom=c),c}),t.k0s()()(),t.j41(45,"div",7)(46,"div",8),t.EFF(47,"Creado hasta"),t.k0s(),t.j41(48,"div",17)(49,"input",19),t.mxI("ngModelChange",function(c){return t.DH7(n.filterData.createdAtTo,c)||(n.filterData.createdAtTo=c),c}),t.k0s()()()(),t.j41(50,"div",7)(51,"div",8),t.EFF(52,"G\xe9nero"),t.k0s(),t.j41(53,"div",9),t.DNE(54,Y,4,3,"div",10),t.k0s()(),t.j41(55,"div",20),t.EFF(56,"Filtrar por etiquetas"),t.k0s(),t.j41(57,"div",21),t.Z7z(58,L,2,4,"div",22,t.fX1),t.k0s(),t.nrm(60,"br")(61,"br")(62,"br")(63,"br"),t.k0s()()),2&e&&(t.R7$(14),t.Y8G("ngForOf",n.contactTypes),t.R7$(6),t.R50("ngModel",n.selectedOrigin),t.R7$(),t.Y8G("ngForOf",n.origins),t.R7$(6),t.R50("ngModel",n.selectedNationality),t.R7$(),t.Y8G("ngForOf",n.nationalities),t.R7$(4),t.Y8G("ignoreIncludes",!0),t.R7$(),t.Y8G("ngIf",n.selectedAgency),t.R7$(5),t.Y8G("ngIf",n.selectedUser),t.R7$(6),t.R50("ngModel",n.filterData.createdAtFrom),t.R7$(5),t.R50("ngModel",n.filterData.createdAtTo),t.R7$(5),t.Y8G("ngForOf",n.genders),t.R7$(4),t.Dyx(n.allTags))},dependencies:[g.YU,g.Sq,g.bT,r.eY,r.uz,r.nf,r.Nm,r.Ip,r.hB,r.Je,_.me,_.BC,_.vS,M.s,G.R],styles:[".crm-select-item[_ngcontent-%COMP%]{font-size:var(--crm-input-input-font-size)}.crm-select-item[_ngcontent-%COMP%]   ion-select-option[_ngcontent-%COMP%]{font-size:var(--crm-input-input-font-size)}.agency-autocomplete-dropdown[_ngcontent-%COMP%]{width:100%;height:125px;overflow-y:auto;z-index:3;box-shadow:2px 2px 6px var(--crm-font-color-lighter);margin-top:5px}.agency-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:95%;height:50px;border-bottom:1px solid var(--crm-font-color-lighter);margin:0 auto}.agency-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--crm-font-size);margin:0}.agency-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--crm-background-light-color-hover)}.show-agency-dropdown[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;height:125px;transition:.3s}.hide-agency-dropdown[_ngcontent-%COMP%]{transform:translateY(-20px);opacity:0;height:0px;visibility:hidden;transition:.3s}"]}),s})();var O=l(4420),w=l(6552);const V=i=>({"crm-card-user-active":i});function J(i,s){1&i&&(t.j41(0,"div",0)(1,"div",2)(2,"div",3),t.nrm(3,"ion-skeleton-text",4),t.k0s()(),t.j41(4,"div",5)(5,"div",6),t.nrm(6,"ion-skeleton-text",7),t.k0s(),t.j41(7,"div",8),t.nrm(8,"ion-skeleton-text",9),t.k0s()(),t.j41(9,"div",10)(10,"div",11)(11,"div",12)(12,"div",13),t.nrm(13,"ion-skeleton-text",14),t.j41(14,"span",15),t.nrm(15,"ion-skeleton-text",16),t.k0s()(),t.j41(16,"div",17),t.nrm(17,"ion-skeleton-text",18),t.k0s(),t.j41(18,"div",19),t.nrm(19,"ion-skeleton-text",18),t.k0s()(),t.j41(20,"div",20)(21,"div",21)(22,"div",22),t.nrm(23,"ion-skeleton-text",9),t.k0s(),t.j41(24,"div",23),t.nrm(25,"ion-skeleton-text",24),t.k0s()(),t.j41(26,"div",21)(27,"div",22),t.nrm(28,"ion-skeleton-text",9),t.k0s(),t.j41(29,"div",23),t.nrm(30,"ion-skeleton-text",24),t.k0s()(),t.j41(31,"div",25)(32,"div",22),t.nrm(33,"ion-skeleton-text",9),t.k0s(),t.j41(34,"div",23),t.nrm(35,"ion-skeleton-text",14),t.k0s()(),t.j41(36,"div",21)(37,"div",22),t.nrm(38,"ion-skeleton-text",9),t.k0s(),t.j41(39,"div",23),t.nrm(40,"ion-skeleton-text",18),t.k0s()(),t.j41(41,"div",26)(42,"div",22),t.nrm(43,"ion-skeleton-text",9),t.k0s(),t.j41(44,"div",27),t.nrm(45,"i",28)(46,"ion-skeleton-text",18),t.k0s()(),t.j41(47,"div",25)(48,"div",22),t.nrm(49,"ion-skeleton-text",9),t.k0s(),t.j41(50,"div",23),t.nrm(51,"ion-skeleton-text",14),t.k0s()()()(),t.j41(52,"div",29)(53,"div",30),t.nrm(54,"ion-skeleton-text",18)(55,"ion-skeleton-text",9),t.k0s()()()()),2&i&&(t.R7$(3),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(5),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(4),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(2),t.Y8G("animated",!0),t.R7$(3),t.Y8G("animated",!0),t.R7$(),t.Y8G("animated",!0))}function z(i,s){if(1&i&&(t.j41(0,"span",15),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.SpI(" (",null==o.contact?null:o.contact.alias,") ")}}function H(i,s){if(1&i&&(t.j41(0,"div",45)(1,"div",46)(2,"div",47),t.nrm(3,"span",48),t.k0s()()()),2&i){let o,e;const n=t.XpG().$implicit,a=t.XpG(3);t.R7$(3),t.HbH(null==(o=a.utils.getLanguageInfo(n))?null:o.flagClass),t.Y8G("title",null==(e=a.utils.getLanguageInfo(n))?null:e.name)}}function W(i,s){1&i&&t.DNE(0,H,4,3,"div",45),2&i&&t.vxM(s.$index<4?0:-1)}function Z(i,s){if(1&i&&(t.j41(0,"div",36),t.EFF(1),t.k0s()),2&i){const o=t.XpG(3);t.R7$(),t.SpI(" +",(null==o.contact?null:o.contact.languages.length)-4," ")}}function K(i,s){if(1&i&&(t.j41(0,"div",44),t.Z7z(1,W,1,1,null,null,t.fX1),t.k0s(),t.DNE(3,Z,2,1,"div",36)),2&i){const o=t.XpG(2);t.R7$(),t.Dyx(null==o.contact?null:o.contact.languages),t.R7$(2),t.vxM((null==o.contact?null:o.contact.languages.length)>4?3:-1)}}function Q(i,s){1&i&&t.nrm(0,"div",36)}function q(i,s){1&i&&(t.j41(0,"span"),t.EFF(1,"s"),t.k0s())}function tt(i,s){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.JRh(null==o.contact||null==o.contact.phones?null:o.contact.phones[0])}}function et(i,s){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.JRh(null==o.contact||null==o.contact.phones?null:o.contact.phones[1])}}function nt(i,s){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.SpI("+",(null==o.contact||null==o.contact.phones?null:o.contact.phones.length)-2,"")}}function it(i,s){1&i&&(t.j41(0,"span"),t.EFF(1,"s"),t.k0s())}function ot(i,s){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.JRh(null==o.contact||null==o.contact.emails?null:o.contact.emails[0])}}function at(i,s){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.JRh(null==o.contact||null==o.contact.emails?null:o.contact.emails[1])}}function st(i,s){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(),t.SpI("+",(null==o.contact||null==o.contact.emails?null:o.contact.emails.length)-2,"")}}function ct(i,s){if(1&i&&(t.j41(0,"div",23)(1,"div",49)(2,"div",50),t.EFF(3),t.k0s()()()),2&i){const o=s.$implicit;t.R7$(3),t.SpI(" ",null==o||null==o.contact?null:o.contact.name," ")}}function lt(i,s){if(1&i&&(t.j41(0,"div",23)(1,"div",49)(2,"div",50),t.EFF(3),t.k0s()()()),2&i){const o=s.$implicit;t.R7$(3),t.SpI(" ",null==o||null==o.contactRelated?null:o.contactRelated.name," ")}}function rt(i,s){if(1&i&&(t.j41(0,"div",25)(1,"div",22),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.Z7z(4,ct,4,1,"div",23,t.fX1),t.Z7z(6,lt,4,1,"div",23,t.fX1),t.k0s()),2&i){const o=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,1,"contacts.card.related_with")),t.R7$(2),t.Dyx(o.contact.contactsRelated),t.R7$(2),t.Dyx(o.contact.contactsRelation)}}function dt(i,s){if(1&i&&(t.j41(0,"div",38),t.EFF(1),t.k0s()),2&i){const o=s.$implicit;t.R7$(),t.SpI(" ",null==o?null:o.text," ")}}function ut(i,s){if(1&i&&(t.j41(0,"div",41)(1,"div",51),t.nrm(2,"img",33),t.k0s(),t.j41(3,"div",52)(4,"div",53),t.EFF(5),t.k0s(),t.j41(6,"div",54),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()),2&i){const o=t.XpG(2);t.R7$(2),t.Y8G("src",(null==o.contact||null==o.contact.responsableUsers||null==o.contact.responsableUsers[0]?null:o.contact.responsableUsers[0].photoUrl)||"assets/images/avatar.png",t.B4B)("alt",null==o.contact||null==o.contact.responsableUsers||null==o.contact.responsableUsers[0]?null:o.contact.responsableUsers[0].photoUrl),t.R7$(3),t.SpI(" ",null==o.contact||null==o.contact.responsableUsers||null==o.contact.responsableUsers[0]?null:o.contact.responsableUsers[0].name," "),t.R7$(2),t.SpI(" ",t.bMT(8,4,"contacts.card.responsible")," ")}}function mt(i,s){if(1&i){const o=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"ion-checkbox",31),t.mxI("ngModelChange",function(n){t.eBV(o);const a=t.XpG();return t.DH7(a.contact.checked,n)||(a.contact.checked=n),t.Njj(n)}),t.bIt("ngModelChange",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onToggleContactCheckbox())}),t.k0s()()(),t.j41(4,"div",32),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onNavigateToContact())}),t.j41(5,"div",6),t.nrm(6,"img",33),t.k0s(),t.j41(7,"div",8),t.EFF(8),t.k0s()(),t.j41(9,"div",10)(10,"div",11)(11,"div",12)(12,"div",34),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onNavigateToContact())}),t.EFF(13),t.DNE(14,z,2,1,"span",35),t.k0s(),t.j41(15,"div",17),t.EFF(16),t.k0s(),t.j41(17,"div",19),t.DNE(18,K,4,1)(19,Q,1,0,"div",36),t.k0s()(),t.j41(20,"div",20)(21,"div",21)(22,"div",22),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"div",23)(26,"div"),t.EFF(27),t.k0s()()(),t.j41(28,"div",25)(29,"div",22),t.EFF(30),t.nI1(31,"translate"),t.DNE(32,q,2,0,"span",37),t.k0s(),t.j41(33,"div",23),t.DNE(34,tt,2,1,"div",37)(35,et,2,1,"div",37)(36,nt,2,1,"div",37),t.k0s()(),t.j41(37,"div",25)(38,"div",22),t.EFF(39),t.nI1(40,"translate"),t.DNE(41,it,2,0,"span",37),t.k0s(),t.j41(42,"div",23),t.DNE(43,ot,2,1,"div",37)(44,at,2,1,"div",37)(45,st,2,1,"div",37),t.k0s()(),t.j41(46,"div",21)(47,"div",22),t.EFF(48),t.nI1(49,"translate"),t.k0s(),t.j41(50,"div",23)(51,"div"),t.EFF(52),t.nI1(53,"translate"),t.k0s()()(),t.j41(54,"div",26)(55,"div",22),t.EFF(56),t.nI1(57,"translate"),t.k0s(),t.j41(58,"div",27),t.nrm(59,"i",28),t.EFF(60),t.k0s()(),t.DNE(61,rt,8,3,"div",25),t.k0s()(),t.j41(62,"div",29)(63,"div",30),t.Z7z(64,dt,2,1,"div",38,t.fX1),t.j41(66,"div",39),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onEditTags())}),t.nrm(67,"i",40),t.EFF(68),t.nI1(69,"translate"),t.k0s()()()(),t.DNE(70,ut,9,6,"div",41),t.j41(71,"div",42)(72,"div",43)(73,"div",22),t.EFF(74),t.nI1(75,"translate"),t.nI1(76,"date"),t.k0s()()()()}if(2&i){let o;const e=t.XpG();t.Y8G("ngClass",t.eq3(50,V,null==e.contact?null:e.contact.checked)),t.R7$(3),t.R50("ngModel",e.contact.checked),t.R7$(3),t.Y8G("src",(null==e.contact?null:e.contact.photoUrl)||"assets/images/avatar.png",t.B4B)("alt",null==e.contact?null:e.contact.photoUrl),t.R7$(2),t.SpI(" #",(null==e.contact?null:e.contact.byvaroId)||""," "),t.R7$(5),t.SpI(" ",null==e.contact?null:e.contact.name," "),t.R7$(),t.Y8G("ngIf",null==e.contact?null:e.contact.alias),t.R7$(2),t.SpI(" ",null==e.contact?null:e.contact.contactType," "),t.R7$(2),t.vxM(null!=e.contact&&e.contact.languages&&(null==e.contact?null:e.contact.languages.length)>0?18:19),t.R7$(5),t.JRh(t.bMT(24,31,"contacts.card.nationality")),t.R7$(4),t.JRh(null==(o=e.utils.getCountryInfo(null==e.contact?null:e.contact.nationality))?null:o.name),t.R7$(3),t.SpI(" ",t.bMT(31,33,"contacts.card.phone"),""),t.R7$(2),t.Y8G("ngIf",(null==e.contact||null==e.contact.emails?null:e.contact.emails.length)>1),t.R7$(2),t.Y8G("ngIf",null==e.contact||null==e.contact.phones?null:e.contact.phones[0]),t.R7$(),t.Y8G("ngIf",null==e.contact||null==e.contact.phones?null:e.contact.phones[0]),t.R7$(),t.Y8G("ngIf",(null==e.contact||null==e.contact.phones?null:e.contact.phones.length)>2),t.R7$(3),t.SpI(" ",t.bMT(40,35,"contacts.card.email"),""),t.R7$(2),t.Y8G("ngIf",(null==e.contact||null==e.contact.emails?null:e.contact.emails.length)>1),t.R7$(2),t.Y8G("ngIf",null==e.contact||null==e.contact.emails?null:e.contact.emails[0]),t.R7$(),t.Y8G("ngIf",null==e.contact||null==e.contact.emails?null:e.contact.emails[0]),t.R7$(),t.Y8G("ngIf",(null==e.contact||null==e.contact.emails?null:e.contact.emails.length)>2),t.R7$(3),t.JRh(t.bMT(49,37,"contacts.card.origin")),t.R7$(4),t.JRh(t.bMT(53,39,"text."+(null==e.contact?null:e.contact.origin))),t.R7$(4),t.JRh(t.bMT(57,41,"contacts.card.operations")),t.R7$(4),t.Lme(" ",null==e.contact||null==e.contact.operations?null:e.contact.operations.length," / ",null==e.contact||null==e.contact.operations?null:e.contact.operations.length," "),t.R7$(),t.vxM((null==e.contact||null==e.contact.contactsRelation?null:e.contact.contactsRelation.length)>0||(null==e.contact||null==e.contact.contactsRelated?null:e.contact.contactsRelated.length)>0?61:-1),t.R7$(3),t.Dyx(e.contact.tags),t.R7$(4),t.SpI(" \xa0 ",t.bMT(69,43,"contacts.card.edit_tags")," "),t.R7$(2),t.vxM(null!=e.contact&&null!=e.contact.responsableUsers&&null!=e.contact.responsableUsers[0]&&e.contact.responsableUsers[0].name?70:-1),t.R7$(4),t.Lme("",t.bMT(75,45,"contacts.card.created_at")," ",t.i5U(76,47,null==e.contact?null:e.contact.createdAt,"dd/MM/yyyy HH:mm"),"")}}let pt=(()=>{var i;class s{constructor(e,n){this.router=e,this.utils=n,this.isSkeleton=!1,this.toggleContactCheckbox=new t.bkB,this.editTags=new t.bkB,this.activeOperations=0}ngOnInit(){}onToggleContactCheckbox(){this.toggleContactCheckbox.emit()}onNavigateToContact(){this.router.navigate([`/contacts/${this.contact.id}`])}onEditTags(){this.editTags.emit(this.contact)}setActiveOportunities(){}}return(i=s).\u0275fac=function(e){return new(e||i)(t.rXU(f.Ix),t.rXU(w.T))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-card-user"]],inputs:{isSkeleton:"isSkeleton",contact:"contact"},outputs:{toggleContactCheckbox:"toggleContactCheckbox",editTags:"editTags"},decls:2,vars:1,consts:[[1,"crm-card-contact"],[1,"crm-card-contact",3,"ngClass"],[1,"crm-card-contact-checkbox"],[1,"crm-input-checkbox"],[2,"width","20px","height","20px",3,"animated"],[1,"crm-card-contact-left"],[1,"crm-card-contact-left-img"],[2,"width","50px","height","50px","border-radius","50%",3,"animated"],[1,"crm-card-contact-left-reference"],[2,"width","80px",3,"animated"],[1,"crm-card-contact-right"],[1,"crm-card-contact-right-top"],[1,"crm-card-contact-main-data"],[1,"crm-card-contact-name"],[2,"width","150px",3,"animated"],[1,"crm-card-contact-reference"],[2,"width","50px",3,"animated"],[1,"crm-card-contact-subtitle"],[2,"width","100px",3,"animated"],[1,"crm-card-contact-flags"],[1,"crm-block-info-horizontal"],[1,"crm-info","crm-info-size-small"],[1,"crm-info-title"],[1,"crm-info-content"],[2,"width","120px",3,"animated"],[1,"crm-info","crm-info-size-medium"],[1,"crm-info"],[1,"crm-info-content","crm-info-content-with-icon"],[1,"fas","fa-bullseye"],[1,"crm-card-contact-right-bottom"],[1,"crm-section-tags"],[3,"ngModelChange","ngModel"],[1,"crm-card-contact-left",3,"click"],[3,"src","alt"],[1,"crm-card-contact-name",3,"click"],["class","crm-card-contact-reference",4,"ngIf"],[1,"crm-info-content-langs-plus"],[4,"ngIf"],[1,"crm-item-tag"],[1,"crm-item-tag",3,"click"],[1,"fas","fa-edit"],[1,"crm-card-user-header","small","crm-card-contact-floating-user"],[1,"crm-card-contact-floating-creation-date"],[1,"crm-info","crm-info-size-large"],[1,"crm-info-content-langs-langs"],[1,"crm-item-option","crm-item-option-lang"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[3,"title"],[1,"crm-item-reference"],[1,"crm-item-reference-text"],[1,"crm-card-user-header-photo"],[1,"crm-card-user-header-data"],[1,"crm-card-user-header-data-name"],[1,"crm-card-user-header-data-subtitle"]],template:function(e,n){1&e&&t.DNE(0,J,56,21,"div",0)(1,mt,77,52,"div",1),2&e&&t.vxM(n.isSkeleton?0:1)},dependencies:[g.YU,g.bT,_.BC,_.vS,r.eY,r.ds,r.hB,g.vh,C.D9]}),s})();const gt=i=>({"crm-button-secondary-primary":i}),R=i=>({count:i});function _t(i,s){if(1&i){const o=t.RV6();t.j41(0,"button",38),t.nrm(1,"i",39),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",40),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onEditContactTags())}),t.nrm(5,"i",41),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",42),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onDeleteContacts())}),t.nrm(9,"i",43),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.nrm(12,"div",44)}2&i&&(t.Y8G("@fadeSlideIn",void 0),t.R7$(2),t.SpI(" ",t.bMT(3,6,"contacts.list.export")," "),t.R7$(2),t.Y8G("@fadeSlideIn",void 0),t.R7$(2),t.SpI(" ",t.bMT(7,8,"contacts.list.edit_tags")," "),t.R7$(2),t.Y8G("@fadeSlideIn",void 0),t.R7$(2),t.SpI(" ",t.bMT(11,10,"contacts.list.delete")," "))}function ht(i,s){1&i&&(t.nrm(0,"i",45),t.EFF(1," Cerrar filtros "))}function ft(i,s){1&i&&(t.nrm(0,"i",46),t.EFF(1," Filtros activados "))}function vt(i,s){1&i&&(t.nrm(0,"i",46),t.EFF(1," Filtrar "))}function Ct(i,s){if(1&i&&t.DNE(0,ft,2,0)(1,vt,2,0),2&i){const o=t.XpG();t.vxM(o.filters?0:1)}}function kt(i,s){if(1&i&&(t.j41(0,"div",30),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i){const o=t.XpG();t.R7$(),t.SpI(" ",t.i5U(2,1,"contacts.list.selected_label",t.eq3(4,R,o.checkedContacts))," ")}}function Ft(i,s){1&i&&t.nrm(0,"app-card-user",47)(1,"app-card-user",47)(2,"app-card-user",47),2&i&&(t.Y8G("isSkeleton",!0),t.R7$(),t.Y8G("isSkeleton",!0),t.R7$(),t.Y8G("isSkeleton",!0))}function bt(i,s){if(1&i){const o=t.RV6();t.j41(0,"app-card-user",50),t.bIt("toggleContactCheckbox",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.onToggleContactCheckbox())})("editTags",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.onEditContactTags(n))}),t.k0s()}2&i&&t.Y8G("contact",s.$implicit)}function Tt(i,s){1&i&&(t.j41(0,"div",49),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"contacts.list.empty_list")," "))}function Rt(i,s){if(1&i&&(t.j41(0,"div",36),t.Z7z(1,bt,1,1,"app-card-user",48,t.fX1),t.DNE(3,Tt,3,3,"div",49),t.k0s()),2&i){const o=t.XpG();t.R7$(),t.Dyx(o.contacts),t.R7$(2),t.vxM(0===o.contacts.length?3:-1)}}function jt(i,s){if(1&i){const o=t.RV6();t.j41(0,"app-filters-block",53),t.bIt("onFilter",function(n){t.eBV(o);const a=t.XpG(2);return t.Njj(a.onFilter(n))}),t.k0s()}if(2&i){const o=t.XpG(2);t.Y8G("savedFilters",o.filters)}}function yt(i,s){if(1&i){const o=t.RV6();t.j41(0,"app-tags-editor-block",54),t.bIt("updateContacts",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.onUpdateContactsTags())})("closeAside",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.onCloseAside())})("uncheckAllContacts",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.uncheckAllContacts())}),t.k0s()}if(2&i){const o=t.XpG(2);t.Y8G("contacts",o.contacts)}}function It(i,s){if(1&i&&(t.j41(0,"div",37),t.DNE(1,jt,1,1,"app-filters-block",51)(2,yt,1,1,"app-tags-editor-block",52),t.k0s()),2&i){const o=t.XpG();t.Y8G("@biggerFadeSlideIn",void 0),t.R7$(),t.vxM("filters"===(null==o.aside?null:o.aside.type)?1:-1),t.R7$(),t.vxM("tags"===(null==o.aside?null:o.aside.type)?2:-1)}}const xt=[{path:"",component:(()=>{var i;class s{constructor(e,n,a,c,u,p,Ut,Pt){this.headerService=e,this.contactsService=n,this.modalsService=a,this.toastService=c,this.router=u,this.api=p,this.popoversService=Ut,this.translate=Pt,this.contacts=[],this.allSystemContactsCount=0,this.checkedContacts=0,this.searchString="",this.searchSubject=new k.B,this.aside={visible:!1},this.showFilters=!1,this.filters=null,this.sort=null,this.pagination={page:0,itemsPerPage:25},this.loadingList=!1}ngOnInit(){this.searchSubject.pipe((0,h.B)(800)).subscribe(e=>{this.onSearchChanged(e)}),this.filters=localStorage.getItem("byvaroContactsFilters")?JSON.parse(localStorage.getItem("byvaroContactsFilters")):null,this.sort=localStorage.getItem("byvaroContactsSort")?JSON.parse(localStorage.getItem("byvaroContactsSort")):null}ionViewWillEnter(){this.headerService.setConfig({title:"contacts"}),this.getData()}getData(){var e=this;return(0,d.A)(function*(){try{e.loadingList=!0;const n=yield e.getContacts();if(null!=n&&n.errors)throw new Error("Error fetching contacts");e.contacts=null==n?void 0:n.data,e.allSystemContactsCount=null==n?void 0:n.metadata,e.setNumberOfCheckedContacts(),e.updatePagination(),e.loadingList=!1}catch{e.toastService.showToast({text:e.translate.instant("contacts.list.error_fetching_contacts"),theme:"red",time:1e4}),e.loadingList=!1}})()}getContacts(){var e=this;return(0,d.A)(function*(){var n,a;const c=null===(n=e.filters)||void 0===n?void 0:n.associatedUser;console.log("ASSOCIATED USER ID:",c),c&&(null===(a=e.filters)||void 0===a||delete a.associatedUser);const u=e.contactsService.transformFilterDataToFilterI(e.filters,e.searchString);console.log("transformedFilters:",u);let p=e.filters?e.contactsService.createJoinTablesForTags(e.filters):null;return c&&(p||(p={}),console.log("joinTables before:",c),p.responsableUsers={apply:!0,filter:{id:{equals:c}},onlyCount:!1}),console.log("joinTables:",p),e.contactsService.getContacts(u,e.sort,e.pagination,p)})()}deleteContact(e){var n=this;return(0,d.A)(function*(){yield n.contactsService.deleteContact(e)})()}onSearchInputChange(e){this.searchSubject.next(e.target.value)}onSearchChanged(e){this.searchString=e,this.pagination.page=0,this.getData()}onToggleContactCheckbox(){this.setNumberOfCheckedContacts()}onToggleAllCheckboxes(e){this.contacts.forEach(n=>n.checked=e.detail.checked),this.setNumberOfCheckedContacts()}onClickMoreTools(e){var n=this;return(0,d.A)(function*(){const a=yield n.popoversService.onShowMenuPopover(e,"contacts-list-more-tools");console.log("Popover result:",a),"import-users"===(null==a?void 0:a.data)&&n.openImportContactsModal()})()}openImportContactsModal(){var e=this;return(0,d.A)(function*(){yield e.modalsService.onShowImportContactsModal(),e.getData()})()}onSort(e){var n=this;return(0,d.A)(function*(){const a=yield n.popoversService.onShowMenuPopover(e,"list-order");if(console.log("Popover result:",a),null!=a&&a.data){const c=a.data;if(c.includes("_")){const u=c.split("_")[0],p=c.split("_")[1];n.sort={field:u,order:p}}else n.sort={field:c,order:"asc"};localStorage.setItem("byvaroContactsSort",JSON.stringify(n.sort)),n.getData()}})()}onShowMenuSelectAll(e){var n=this;return(0,d.A)(function*(){const a=yield n.popoversService.onShowMenuPopover(e,"select-all");null!=a&&a.data&&"selectAll"===a.data&&(n.checkedContacts=n.allSystemContactsCount,n.contacts.forEach(u=>u.checked=!0))})()}updatePagination(){return{startIndex:this.pagination.page*this.pagination.itemsPerPage+1,endIndex:Math.min((this.pagination.page+1)*this.pagination.itemsPerPage,this.allSystemContactsCount)}}onGoNextPage(){(this.pagination.page+1)*this.pagination.itemsPerPage<this.allSystemContactsCount&&(this.pagination.page++,this.getData())}onGoPreviousPage(){this.pagination.page>0&&(this.pagination.page--,this.getData())}onDeleteContacts(){var e=this;return(0,d.A)(function*(){const n=yield e.modalsService.openConfirmationModal({title:e.translate.instant("contacts.list.delete_contacts_title"),message:e.translate.instant("contacts.list.delete_contacts_message"),icon:"fas fa-trash",iconTheme:"red",buttons:[{text:e.translate.instant("contacts.list.delete_contacts_cancel"),theme:"btn-secondary",id:"cancel"},{text:e.translate.instant("contacts.list.delete_contacts_confirm"),theme:"btn-red",id:"delete"}]});if("delete"===(null==n?void 0:n.data)){const a=yield e.toastService.showToast({text:e.translate.instant("contacts.list.deleting_contacts"),loading:!0});yield a.present(),e.contacts.filter(u=>u.checked).forEach(function(){var u=(0,d.A)(function*(p){return yield e.deleteContact(p.id)});return function(p){return u.apply(this,arguments)}}()),yield a.dismiss(),e.toastService.showToast({text:e.translate.instant("contacts.list.contacts_deleted_success"),theme:"success",time:3e3}),e.getData()}})()}onFilter(e){e||(this.searchString=""),this.filters=e,this.getData()}onToggleAside(e){this.aside.visible&&this.aside.type===e&&"filters"===e?this.aside.visible=!1:(this.aside.visible=!0,this.aside.type=e)}onCloseAside(){this.aside.visible=!1,this.aside.type=void 0}onEditContactTags(e){var n=this;return(0,d.A)(function*(){var a;e&&n.checkContact(e),n.setNumberOfCheckedContacts();const c=yield n.modalsService.onShowTagsEditorModal(n.contacts.filter(u=>u.checked));console.log("Popover result:",c),null!=c&&null!==(a=c.data)&&void 0!==a&&a.reload&&n.getData()})()}onUpdateContactsTags(){this.getData(),this.toastService.showToast({text:this.translate.instant("contacts.list.tags_updated_success"),theme:"success",time:3e3})}uncheckAllContacts(){this.contacts.forEach(e=>e.checked=!1),this.setNumberOfCheckedContacts()}checkContact(e){this.contacts.forEach(n=>{n.checked=n.id===e.id})}setNumberOfCheckedContacts(){this.checkedContacts=this.contacts.filter(e=>e.checked).length}}return(i=s).\u0275fac=function(e){return new(e||i)(t.rXU(F.d),t.rXU(b.F),t.rXU(y.M),t.rXU(I.f),t.rXU(f.Ix),t.rXU(T.i),t.rXU(x.m),t.rXU(C.c$))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-contacts-list"]],decls:54,vars:32,consts:[[3,"fullscreen","scrollY"],[1,"crm-block-content"],[1,"crm-block-body"],[1,"crm-block-body-fixed"],[1,"crm-header-modal"],[1,"crm-input"],[1,"crm-input-input","crm-input-input-searchbar"],[1,"fas","fa-search"],["type","text",3,"input","value","placeholder"],[1,"crm-buttons-group"],[1,"crm-button",3,"routerLink"],[1,"fa","fa-plus"],[1,"crm-button-secondary",3,"click","ngClass"],[1,"crm-button-secondary","crm-button-secondary-icon-solo",3,"click"],[1,"fa","fa-ellipsis"],[1,"crm-block-pagination-selectors"],[1,"crm-button-pagination"],[1,"crm-button-pagination-text"],[1,"crm-button-pagination-buttons"],[1,"crm-button-pagination-arrow","crm-button-icon-solo",3,"click"],[1,"fas","fa-arrow-left"],[1,"crm-button-pagination-number"],[1,"fas","fa-arrow-right"],[1,"crm-dropdown",3,"click"],[1,"crm-dropdown-text"],[1,"crm-dropdown-right"],[1,"crm-dropdown-value"],[1,"crm-dropdown-arrow"],[1,"fas","fa-chevron-down"],[1,"crm-input-checkbox"],[1,"crm-input-checkbox-pre-label"],[3,"ionChange"],[1,"crm-input-checkbox-label"],[1,"crm-button-pagination-arrow","crm-button-icon-solo",2,"margin-left","4px",3,"click"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"crm-block-body-blue-content",2,"overflow-x","auto"],[1,"crm-card-user-list"],[1,"crm-block-content-aside"],[1,"crm-button-secondary"],[1,"fa-solid","fa-file-export"],[1,"crm-button-secondary",3,"click"],[1,"fa-solid","fa-tag"],[1,"crm-button-secondary","crm-button-secondary-red",3,"click"],[1,"fas","fa-trash"],[1,"crm-vertical-separator"],[1,"fa","fa-times"],[1,"fa","fa-filter"],[3,"isSkeleton"],[3,"contact"],[1,"crm-empty-list","crm-text"],[3,"toggleContactCheckbox","editTags","contact"],[3,"savedFilters"],[3,"contacts"],[3,"onFilter","savedFilters"],[3,"updateContacts","closeAside","uncheckAllContacts","contacts"]],template:function(e,n){1&e&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"i",7),t.j41(8,"input",8),t.nI1(9,"translate"),t.bIt("input",function(c){return n.onSearchInputChange(c)}),t.k0s()()(),t.j41(10,"div",9),t.DNE(11,_t,13,12),t.j41(12,"button",10),t.nrm(13,"i",11),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"button",12),t.bIt("click",function(){return n.onToggleAside("filters")}),t.DNE(17,ht,2,0)(18,Ct,2,1),t.k0s(),t.j41(19,"button",13),t.bIt("click",function(c){return n.onClickMoreTools(c)}),t.nrm(20,"i",14),t.k0s()()(),t.j41(21,"div",15)(22,"div",16)(23,"div",17),t.EFF(24),t.k0s(),t.j41(25,"div",18)(26,"button",19),t.bIt("click",function(){return n.onGoPreviousPage()}),t.nrm(27,"i",20),t.k0s(),t.j41(28,"div",21),t.EFF(29),t.k0s(),t.j41(30,"button",19),t.bIt("click",function(){return n.onGoNextPage()}),t.nrm(31,"i",22),t.k0s()(),t.j41(32,"div",23),t.bIt("click",function(c){return n.onSort(c)}),t.j41(33,"div",24),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"div",25)(37,"div",26),t.EFF(38),t.k0s(),t.j41(39,"div",27),t.nrm(40,"i",28),t.k0s()()()(),t.j41(41,"div")(42,"div",29),t.DNE(43,kt,3,6,"div",30),t.j41(44,"ion-checkbox",31),t.bIt("ionChange",function(c){return n.onToggleAllCheckboxes(c)}),t.k0s(),t.j41(45,"div",32),t.EFF(46),t.nI1(47,"translate"),t.k0s(),t.j41(48,"button",33),t.bIt("click",function(c){return n.onShowMenuSelectAll(c)}),t.nrm(49,"i",34),t.k0s()()()()(),t.j41(50,"div",35),t.DNE(51,Ft,3,3)(52,Rt,4,1,"div",36),t.k0s()(),t.DNE(53,It,3,3,"div",37),t.k0s()()),2&e&&(t.Y8G("fullscreen",!0)("scrollY",!1),t.R7$(8),t.Y8G("value",n.searchString)("placeholder",t.bMT(9,19,"contacts.list.search_placeholder")),t.R7$(3),t.vxM(n.checkedContacts?11:-1),t.R7$(),t.Y8G("routerLink","/contacts/create"),t.R7$(2),t.SpI(" ",t.bMT(15,21,"contacts.list.add_contact")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(28,gt,!("filters"===(null==n.aside?null:n.aside.type)&&null!=n.aside&&n.aside.visible)&&n.filters)),t.R7$(),t.vxM("filters"===(null==n.aside?null:n.aside.type)&&null!=n.aside&&n.aside.visible?17:18),t.R7$(7),t.E5c(" ",n.updatePagination().startIndex," - ",n.updatePagination().endIndex," de ",n.allSystemContactsCount," "),t.R7$(5),t.SpI(" P\xe1g ",n.pagination.page+1," "),t.R7$(5),t.SpI(" ",t.bMT(35,23,"contacts.list.order_by")," "),t.R7$(4),t.SpI(" ",null!=n.sort&&n.sort.field?(null==n.sort?null:n.sort.field)+" "+(null==n.sort?null:n.sort.order):"Fecha de creaci\xf3n"," "),t.R7$(5),t.vxM(n.checkedContacts?43:-1),t.R7$(3),t.SpI(" ",t.i5U(47,25,"contacts.list.select_all_label",t.eq3(30,R,null==n.contacts?null:n.contacts.length))," "),t.R7$(5),t.vxM(n.loadingList?51:52),t.R7$(2),t.vxM(null!=n.aside&&n.aside.visible?53:-1))},dependencies:[g.YU,r.eY,r.W9,r.hB,r.N7,f.Wk,X,O.T,pt,C.D9],data:{animation:[(0,m.hZ)("fadeSlideIn",[(0,m.kY)(":enter",[(0,m.iF)({opacity:0,transform:"translateX(30px)"}),(0,m.i0)("150ms ease-out",(0,m.iF)({opacity:1,transform:"translateX(0)"}))])]),(0,m.hZ)("biggerFadeSlideIn",[(0,m.kY)(":enter",[(0,m.iF)({opacity:0,transform:"translateX(150px)"}),(0,m.i0)("100ms ease-out",(0,m.iF)({opacity:1,transform:"translateX(0)"}))])])]}}),s})()}];let Et=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[f.iI.forChild(xt),f.iI]}),s})();var $t=l(9491),St=l(5641);let Mt=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[g.MD,_.YN]}),s})();var Gt=l(7754);let Dt=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[g.MD,_.YN,r.bv,Et,$t.j,St.D,Mt,Gt.X,C.h]}),s})()}}]);