"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1815],{7141:(W,w,d)=>{d.d(w,{S:()=>o});var C=d(3953);let o=(()=>{var D;class P{constructor(E,I){this.el=E,this.renderer=I,this.disabled=!1}ngAfterViewInit(){this.updateVisibility()}ngOnChanges(E){this.updateVisibility()}updateVisibility(){if(!this.disabled)return this.renderer.setStyle(this.el.nativeElement,"display","block"),void this.renderer.removeStyle(this.el.nativeElement,"height");this.disabled&&this.isEmpty(this.value)?(this.renderer.setStyle(this.el.nativeElement,"display","none"),this.renderer.setStyle(this.el.nativeElement,"height","0")):(this.renderer.setStyle(this.el.nativeElement,"display","block"),this.renderer.removeStyle(this.el.nativeElement,"height"))}isEmpty(E){return null==E||""===E||Array.isArray(E)&&0===E.length||"object"==typeof E&&0===Object.keys(E).length}}return(D=P).\u0275fac=function(E){return new(E||D)(C.rXU(C.aKT),C.rXU(C.sFG))},D.\u0275dir=C.FsC({type:D,selectors:[["","appHideIfNoData",""]],inputs:{value:[0,"appHideIfNoData","value"],disabled:"disabled"},standalone:!0,features:[C.OA$]}),P})()},9083:(W,w,d)=>{d.d(w,{E:()=>v});var C=d(177),o=d(9417),D=d(9465),P=d(969),e=d(2652),E=d(3955),I=d(6279),y=d(5768),G=d(2306),j=d(3953);let v=(()=>{var S;class V{}return(S=V).\u0275fac=function(x){return new(x||S)},S.\u0275mod=j.$C({type:S}),S.\u0275inj=j.G2t({imports:[C.MD,o.YN,o.X1,D.bv,P.rJ,e.T,E.h,I.F,y.$,G.T]}),V})()},293:(W,w,d)=>{d.d(w,{N:()=>K});var C=d(9417),o=d(3953),D=d(177),P=d(9465),e=d(969),E=d(1792),I=d(7141),y=d(3955);const G=["addressInput"],j=(_,h)=>({"crm-section-disabled-inputs":_,"crm-section-invisible":h}),v=_=>({"text-error":_}),S=_=>({"border-error":_});function V(_,h){1&_&&o.nrm(0,"ion-icon",4)}function $(_,h){1&_&&o.nrm(0,"ion-icon",5)}function x(_,h){if(1&_&&(o.j41(0,"option",33),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&_){const F=h.$implicit;o.Y8G("value",F),o.R7$(),o.SpI(" ",o.bMT(2,2,"promotion_constructionType_texts."+F)," ")}}function U(_,h){if(1&_&&(o.EFF(0),o.nI1(1,"translate")),2&_){const F=o.XpG();o.SpI(" ",o.bMT(1,1,"promotion_constructionType_texts."+F.promotionStepOne.constructionType+"-text")," ")}}function A(_,h){1&_&&o.EFF(0," Selecciona un tipo de promoci\xf3n para ver m\xe1s informaci\xf3n ")}function L(_,h){if(1&_&&(o.j41(0,"option",33),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&_){const F=h.$implicit;o.Y8G("value",F),o.R7$(),o.SpI(" ",o.bMT(2,2,"promotion_constructionType_texts."+F)," ")}}function N(_,h){1&_&&o.nrm(0,"ion-icon",4)}function B(_,h){1&_&&o.nrm(0,"ion-icon",5)}function O(_,h){if(1&_){const F=o.RV6();o.j41(0,"google-map",34),o.bIt("mapClick",function(t){o.eBV(F);const g=o.XpG();return o.Njj(g.onMapClick(t))}),o.j41(1,"map-marker",35),o.bIt("click",function(t){o.eBV(F);const g=o.XpG();return o.Njj(g.onMarkerDragEnd(t))}),o.k0s()()}if(2&_){const F=o.XpG();o.Y8G("center",F.mapCenter)("zoom",F.mapZoom)("options",F.mapOptions),o.R7$(),o.Y8G("position",F.markerPosition)("options",F.markerOptions)}}function Y(_,h){1&_&&o.nrm(0,"ion-icon",4)}function H(_,h){1&_&&o.nrm(0,"ion-icon",5)}let K=(()=>{var _;class h{constructor(T,t){this.ngZone=T,this.fb=t,this.disabled=!1,this.requiredFields=[],this.promotionStepOne={projectName:null,constructionType:null,constructionSubType:null,constructionStatus:null,constructionYear:null,constructionStart:null,commercializationStart:null,keyDeliveryDate:null,country:null,province:null,city:null,neighborhood:null,address:null,postalCode:null,number:null,showAddressPublicly:!1,showGeoreferencePublicly:!1,energyEfficiencyCertificate:null,co2EmissionsCertificate:null,energyEfficiencyValue:null,co2EmissionsValue:null},this.promotionKeys=["edificio-multifamiliar","promocion-villas-individuales","promocion-conjunto-villas","promocion-residencial-mixta"],this.subPromotionKeys=["promocion-residencial","promocion-rehabilitacion","promocion-protegida","complejo-turistico","branded-residence"],this.mapCenter={lat:40.416775,lng:-3.70379},this.mapZoom=6,this.markerPosition=this.mapCenter,this.markerOptions={draggable:!0},this.mapOptions={disableDefaultUI:!1,styles:[{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]}]},this.dropdownSections={general:!0,location:!0,energy:!0}}ngOnInit(){this.createPromotionForm()}createPromotionForm(){this.promotionForm=this.fb.group({projectName:["",C.k0.required],constructionType:["",C.k0.required],constructionSubType:["",C.k0.required],constructionStatus:["",C.k0.required],address:["",C.k0.required]})}ngAfterViewInit(){this.autocomplete=new google.maps.places.Autocomplete(this.addressInput.nativeElement,{types:["geocode"],componentRestrictions:{country:"es"}}),this.autocomplete.addListener("place_changed",()=>{this.ngZone.run(()=>{const t=this.autocomplete.getPlace();null==t.geometry||(this.mapCenter={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()},this.markerPosition=this.mapCenter,this.mapZoom=17,this.promotionStepOne.address=t.formatted_address||t.name,this.addressInput.nativeElement.value=this.promotionStepOne.address,this.extractAddressComponents(t.address_components))})})}onMapClick(T){T.latLng&&(this.markerPosition=T.latLng.toJSON(),this.mapCenter=this.markerPosition,this.getAddressFromCoordinates(this.markerPosition.lat,this.markerPosition.lng))}onMarkerDragEnd(T){T.latLng&&(this.markerPosition=T.latLng.toJSON(),this.getAddressFromCoordinates(this.markerPosition.lat,this.markerPosition.lng))}getAddressFromCoordinates(T,t){(new google.maps.Geocoder).geocode({location:{lat:T,lng:t}},(b,u)=>{"OK"===u&&b[0]&&this.ngZone.run(()=>{this.promotionStepOne.address=b[0].formatted_address,this.addressInput.nativeElement.value=this.promotionStepOne.address,this.extractAddressComponents(b[0].address_components)})})}extractAddressComponents(T){if(T)for(const t of T){const g=t.types;g.indexOf("locality")>-1&&(this.promotionStepOne.city=t.long_name),g.indexOf("administrative_area_level_2")>-1&&(this.promotionStepOne.province=t.long_name),g.indexOf("postal_code")>-1&&(this.promotionStepOne.postalCode=t.long_name),g.indexOf("street_number")>-1&&(this.promotionStepOne.number=t.long_name),g.indexOf("route")}}}return(_=h).\u0275fac=function(T){return new(T||_)(o.rXU(o.SKi),o.rXU(C.ok))},_.\u0275cmp=o.VBU({type:_,selectors:[["app-step-one-promotion-form"]],viewQuery:function(T,t){if(1&T&&o.GBs(G,5),2&T){let g;o.mGM(g=o.lsd())&&(t.addressInput=g.first)}},inputs:{disabled:"disabled",requiredFields:"requiredFields"},decls:112,vars:105,consts:[["addressInput",""],[1,"crm-block-dropdown","small",3,"click"],[1,"crm-block-dropdown-title"],[1,"crm-block-dropdown-icon"],["name","chevron-up-outline"],["name","chevron-down-outline"],[1,"crm-section",3,"ngClass"],[1,"crm-section-inputs","crm-section-inputs-bigger-gap","crm-section-margin-top","crm-section-margin-bottom"],[1,"crm-input"],[1,"crm-input-label",3,"ngClass"],[1,"crm-input-input",3,"appInputViewMode","ngClass"],["type","text","placeholder","Nombre",3,"ngModelChange","disabled","ngModel"],[1,"crm-input",3,"appHideIfNoData","disabled"],["placeholder","Seleccione",3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"crm-text"],[1,"crm-section-inputs","crm-section-inputs-bigger-gap"],[1,"crm-input","crm-section-margin-top","crm-section-margin-bottom",3,"appHideIfNoData","disabled"],["id","addressInput","type","text","placeholder","Nombre",3,"ngModelChange","disabled","ngModel"],["height","300px","width","100%",2,"border-radius","12px",3,"center","zoom","options"],[1,"crm-section-inputs-grid-2-cols","crm-section-margin-top","crm-section-margin-bottom"],["value","A"],["value","B"],["value","C"],["value","D"],["value","E"],["value","F"],["value","G"],["value","exento"],["value","en-tramite"],[1,"crm-input",3,"appHideIfNoData","disabled","ngClass"],[1,"crm-input-label"],[1,"crm-input-input-symbol"],[3,"value"],["height","300px","width","100%",2,"border-radius","12px",3,"mapClick","center","zoom","options"],[3,"click","position","options"]],template:function(T,t){if(1&T){const g=o.RV6();o.j41(0,"div",1),o.bIt("click",function(){return o.eBV(g),o.Njj(t.dropdownSections.general=!t.dropdownSections.general)}),o.j41(1,"div",2),o.EFF(2," Caracter\xedsticas generales "),o.k0s(),o.j41(3,"div",3),o.DNE(4,V,1,0,"ion-icon",4)(5,$,1,0,"ion-icon",5),o.k0s()(),o.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),o.EFF(10," Nombre de la promoci\xf3n "),o.k0s(),o.j41(11,"div",10)(12,"input",11),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.projectName,u)||(t.promotionStepOne.projectName=u),o.Njj(u)}),o.k0s()()(),o.j41(13,"div",12)(14,"div",9),o.EFF(15," Tipo de promoci\xf3n "),o.k0s(),o.j41(16,"div",10)(17,"select",13),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.constructionType,u)||(t.promotionStepOne.constructionType=u),o.Njj(u)}),o.DNE(18,x,3,4,"option",14),o.k0s()(),o.j41(19,"div",15),o.DNE(20,U,2,3)(21,A,1,0),o.k0s()(),o.j41(22,"div",12)(23,"div",9),o.EFF(24," Subtipo de promoci\xf3n "),o.k0s(),o.j41(25,"div",10)(26,"select",13),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.constructionSubType,u)||(t.promotionStepOne.constructionSubType=u),o.Njj(u)}),o.DNE(27,L,3,4,"option",14),o.k0s()()()()(),o.j41(28,"div",1),o.bIt("click",function(){return o.eBV(g),o.Njj(t.dropdownSections.location=!t.dropdownSections.location)}),o.j41(29,"div",2),o.EFF(30," Ubicaci\xf3n "),o.k0s(),o.j41(31,"div",3),o.DNE(32,N,1,0,"ion-icon",4)(33,B,1,0,"ion-icon",5),o.k0s()(),o.j41(34,"div",6)(35,"div",16)(36,"div",17)(37,"div",9),o.EFF(38,"Direcci\xf3n"),o.k0s(),o.j41(39,"div",10)(40,"input",18,0),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.address,u)||(t.promotionStepOne.address=u),o.Njj(u)}),o.k0s()()(),o.DNE(42,O,2,5,"google-map",19),o.k0s()(),o.j41(43,"div",1),o.bIt("click",function(){return o.eBV(g),o.Njj(t.dropdownSections.energy=!t.dropdownSections.energy)}),o.j41(44,"div",2),o.EFF(45," Certificaci\xf3n energ\xe9tica "),o.k0s(),o.j41(46,"div",3),o.DNE(47,Y,1,0,"ion-icon",4)(48,H,1,0,"ion-icon",5),o.k0s()(),o.j41(49,"div",6)(50,"div",16)(51,"div",20)(52,"div",12)(53,"div",9),o.EFF(54," Certificado eficiencia energ\xe9tica "),o.k0s(),o.j41(55,"div",10)(56,"select",13),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.energyEfficiencyCertificate,u)||(t.promotionStepOne.energyEfficiencyCertificate=u),o.Njj(u)}),o.j41(57,"option",21),o.EFF(58,"A"),o.k0s(),o.j41(59,"option",22),o.EFF(60,"B"),o.k0s(),o.j41(61,"option",23),o.EFF(62,"C"),o.k0s(),o.j41(63,"option",24),o.EFF(64,"D"),o.k0s(),o.j41(65,"option",25),o.EFF(66,"E"),o.k0s(),o.j41(67,"option",26),o.EFF(68,"F"),o.k0s(),o.j41(69,"option",27),o.EFF(70,"G"),o.k0s(),o.j41(71,"option",28),o.EFF(72,"Exento"),o.k0s(),o.j41(73,"option",29),o.EFF(74,"En tr\xe1mite"),o.k0s()()()(),o.j41(75,"div",12)(76,"div",9),o.EFF(77," Certificado emisiones CO2 "),o.k0s(),o.j41(78,"div",10)(79,"select",13),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.co2EmissionsCertificate,u)||(t.promotionStepOne.co2EmissionsCertificate=u),o.Njj(u)}),o.j41(80,"option",21),o.EFF(81,"A"),o.k0s(),o.j41(82,"option",22),o.EFF(83,"B"),o.k0s(),o.j41(84,"option",23),o.EFF(85,"C"),o.k0s(),o.j41(86,"option",24),o.EFF(87,"D"),o.k0s(),o.j41(88,"option",25),o.EFF(89,"E"),o.k0s(),o.j41(90,"option",26),o.EFF(91,"F"),o.k0s(),o.j41(92,"option",27),o.EFF(93,"G"),o.k0s(),o.j41(94,"option",28),o.EFF(95,"Exento"),o.k0s(),o.j41(96,"option",29),o.EFF(97,"En tr\xe1mite"),o.k0s()()()(),o.j41(98,"div",30)(99,"div",31),o.EFF(100," Certificado eficiencia energ\xe9tica "),o.k0s(),o.j41(101,"div",10)(102,"input",11),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.energyEfficiencyValue,u)||(t.promotionStepOne.energyEfficiencyValue=u),o.Njj(u)}),o.k0s(),o.j41(103,"div",32),o.EFF(104," kWh/m2 "),o.k0s()()(),o.j41(105,"div",12)(106,"div",9),o.EFF(107," Certificado emisiones CO2 "),o.k0s(),o.j41(108,"div",10)(109,"input",11),o.mxI("ngModelChange",function(u){return o.eBV(g),o.DH7(t.promotionStepOne.co2EmissionsValue,u)||(t.promotionStepOne.co2EmissionsValue=u),o.Njj(u)}),o.k0s(),o.j41(110,"div",32),o.EFF(111," kgCO2/m2 "),o.k0s()()()()()()}2&T&&(o.R7$(4),o.vxM(t.dropdownSections.general?4:5),o.R7$(2),o.Y8G("ngClass",o.l_i(64,j,t.disabled,!t.dropdownSections.general)),o.R7$(3),o.Y8G("ngClass",o.eq3(67,v,t.requiredFields.includes("projectName"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(69,S,t.requiredFields.includes("projectName"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.projectName),o.R7$(),o.Y8G("appHideIfNoData",t.promotionStepOne.constructionType)("disabled",t.disabled),o.R7$(),o.Y8G("ngClass",o.eq3(71,v,t.requiredFields.includes("constructionType"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(73,S,t.requiredFields.includes("constructionType"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.constructionType),o.R7$(),o.Y8G("ngForOf",t.promotionKeys),o.R7$(2),o.vxM(t.promotionStepOne.constructionType?20:21),o.R7$(2),o.Y8G("appHideIfNoData",t.promotionStepOne.constructionSubType)("disabled",t.disabled),o.R7$(),o.Y8G("ngClass",o.eq3(75,v,t.requiredFields.includes("constructionSubType"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(77,S,t.requiredFields.includes("constructionSubType"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.constructionSubType),o.R7$(),o.Y8G("ngForOf",t.subPromotionKeys),o.R7$(5),o.vxM(t.dropdownSections.location?32:33),o.R7$(2),o.Y8G("ngClass",o.l_i(79,j,t.disabled,!t.dropdownSections.location)),o.R7$(2),o.Y8G("appHideIfNoData",t.promotionStepOne.address)("disabled",t.disabled),o.R7$(),o.Y8G("ngClass",o.eq3(82,v,t.requiredFields.includes("address"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(84,S,t.requiredFields.includes("address"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.address),o.R7$(2),o.vxM(t.disabled?-1:42),o.R7$(5),o.vxM(t.dropdownSections.energy?47:48),o.R7$(2),o.Y8G("ngClass",o.l_i(86,j,t.disabled,!t.dropdownSections.energy)),o.R7$(3),o.Y8G("appHideIfNoData",t.promotionStepOne.energyEfficiencyCertificate)("disabled",t.disabled),o.R7$(),o.Y8G("ngClass",o.eq3(89,v,t.requiredFields.includes("energyEfficiencyCertificate"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(91,S,t.requiredFields.includes("energyEfficiencyCertificate"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.energyEfficiencyCertificate),o.R7$(19),o.Y8G("appHideIfNoData",t.promotionStepOne.co2EmissionsCertificate)("disabled",t.disabled),o.R7$(),o.Y8G("ngClass",o.eq3(93,v,t.requiredFields.includes("co2EmissionsCertificate"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(95,S,t.requiredFields.includes("co2EmissionsCertificate"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.co2EmissionsCertificate),o.R7$(19),o.Y8G("appHideIfNoData",t.promotionStepOne.energyEfficiencyValue)("disabled",t.disabled)("ngClass",o.eq3(97,v,t.requiredFields.includes("energyEfficiencyValue"))),o.R7$(3),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(99,S,t.requiredFields.includes("energyEfficiencyValue"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.energyEfficiencyValue),o.R7$(3),o.Y8G("appHideIfNoData",t.promotionStepOne.co2EmissionsValue)("disabled",t.disabled),o.R7$(),o.Y8G("ngClass",o.eq3(101,v,t.requiredFields.includes("co2EmissionsValue"))),o.R7$(2),o.Y8G("appInputViewMode",t.disabled)("ngClass",o.eq3(103,S,t.requiredFields.includes("co2EmissionsValue"))),o.R7$(),o.Y8G("disabled",t.disabled),o.R50("ngModel",t.promotionStepOne.co2EmissionsValue))},dependencies:[D.YU,D.Sq,C.xH,C.y7,C.me,C.wz,C.BC,C.vS,P.iq,e.u6,e.fU,E.M,I.S,y.D9]}),h})()},8857:(W,w,d)=>{d.d(w,{f:()=>p});var C=d(467),o=d(6069),D=d(7376),e=d(3953),E=d(6552),I=d(2081),y=d(177),G=d(9417),j=d(9465),v=d(1792),S=d(6279),V=d(7141);const $=["fileUploaderManagerComponent"],x=["planosFileUploadManagerComponent"],U=["catalogsFileUploadManagerComponent"],A=["videosFileUploadManagerComponent"],L=(n,r)=>({"crm-section-invisible":n,"crm-section-disabled-inputs":r}),N=n=>({"text-error":n}),B=n=>({"border-error":n}),O=n=>({"crm-section-invisible":n}),Y=n=>({active:n});function H(n,r){1&n&&e.nrm(0,"ion-icon",7)}function K(n,r){1&n&&e.nrm(0,"ion-icon",8)}function _(n,r){1&n&&(e.j41(0,"div",10),e.EFF(1," Esta informaci\xf3n ser\xe1 para la promoci\xf3n y en cada unidad podr\xe1s elegir si se muestra o no. "),e.k0s())}function h(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",28),e.bIt("click",function(){const s=e.eBV(l).$implicit,f=e.XpG(2);return e.Njj(f.onSelectLang(s,"title"))}),e.nrm(1,"span"),e.j41(2,"div",29),e.EFF(3),e.k0s()()}if(2&n){const l=r.$implicit,c=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Y,l===c.selectedLangsToEdit.title)),e.R7$(),e.ZvI("fi fi-","en"===l?"gb":l,""),e.R7$(2),e.SpI(" ",c.toUpperCase(l)," ")}}function F(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(l);const s=e.XpG();return e.Njj(s.onTranslateText("title"))}),e.EFF(2," Traducir "),e.k0s(),e.j41(3,"div",26),e.Z7z(4,h,4,7,"div",27,e.fX1),e.k0s()()}if(2&n){const l=e.XpG();e.R7$(4),e.Dyx(l.langs)}}function T(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",18)(1,"ion-textarea",30),e.mxI("ngModelChange",function(s){e.eBV(l);const f=e.XpG();return e.DH7(f.promotionStepThree["description_"+f.selectedLangsToEdit.description],s)||(f.promotionStepThree["description_"+f.selectedLangsToEdit.description]=s),e.Njj(s)}),e.k0s()()}if(2&n){const l=e.XpG();e.Y8G("ngClass",e.eq3(3,B,l.requiredFields.includes("description_es"))),e.R7$(),e.Y8G("autoGrow",!0),e.R50("ngModel",l.promotionStepThree["description_"+l.selectedLangsToEdit.description])}}function t(n,r){if(1&n&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&n){const l=e.XpG();e.R7$(),e.SpI(" ",l.promotionStepThree["description_"+l.selectedLangsToEdit.description]||"Sin informaci\xf3n"," ")}}function g(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",28),e.bIt("click",function(){const s=e.eBV(l).$implicit,f=e.XpG(2);return e.Njj(f.onSelectLang(s,"description"))}),e.nrm(1,"span"),e.j41(2,"div",29),e.EFF(3),e.k0s()()}if(2&n){const l=r.$implicit,c=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Y,l===c.selectedLangsToEdit.description)),e.R7$(),e.ZvI("fi fi-","en"===l?"gb":l,""),e.R7$(2),e.SpI(" ",c.toUpperCase(l)," ")}}function b(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(l);const s=e.XpG();return e.Njj(s.onTranslateText("description"))}),e.EFF(2," Traducir "),e.k0s(),e.j41(3,"div",26),e.Z7z(4,g,4,7,"div",27,e.fX1),e.k0s()()}if(2&n){const l=e.XpG();e.R7$(4),e.Dyx(l.langs)}}function u(n,r){1&n&&e.nrm(0,"ion-icon",7)}function q(n,r){1&n&&e.nrm(0,"ion-icon",8)}function z(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",4),e.bIt("click",function(){e.eBV(l);const s=e.XpG();return e.Njj(s.dropdownSections.images=!s.dropdownSections.images)}),e.j41(1,"div",31),e.EFF(2," Im\xe1genes "),e.k0s(),e.j41(3,"div",6),e.DNE(4,u,1,0,"ion-icon",7)(5,q,1,0,"ion-icon",8),e.k0s()()}if(2&n){const l=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(2,N,l.requiredFields.includes("images"))),e.R7$(3),e.vxM(l.dropdownSections.images?4:5)}}function Z(n,r){1&n&&e.nrm(0,"ion-icon",7)}function J(n,r){1&n&&e.nrm(0,"ion-icon",8)}function Q(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",4),e.bIt("click",function(){e.eBV(l);const s=e.XpG();return e.Njj(s.dropdownSections.plans=!s.dropdownSections.plans)}),e.j41(1,"div",5),e.EFF(2," Planos "),e.k0s(),e.j41(3,"div",6),e.DNE(4,Z,1,0,"ion-icon",7)(5,J,1,0,"ion-icon",8),e.k0s()()}if(2&n){const l=e.XpG();e.R7$(4),e.vxM(l.dropdownSections.plans?4:5)}}function oo(n,r){1&n&&e.nrm(0,"ion-icon",7)}function eo(n,r){1&n&&e.nrm(0,"ion-icon",8)}function no(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",4),e.bIt("click",function(){e.eBV(l);const s=e.XpG();return e.Njj(s.dropdownSections.catalogs=!s.dropdownSections.catalogs)}),e.j41(1,"div",5),e.EFF(2," Cat\xe1logos "),e.k0s(),e.j41(3,"div",6),e.DNE(4,oo,1,0,"ion-icon",7)(5,eo,1,0,"ion-icon",8),e.k0s()()}if(2&n){const l=e.XpG();e.R7$(4),e.vxM(l.dropdownSections.catalogs?4:5)}}function a(n,r){1&n&&e.nrm(0,"ion-icon",7)}function m(n,r){1&n&&e.nrm(0,"ion-icon",8)}function i(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",4),e.bIt("click",function(){e.eBV(l);const s=e.XpG();return e.Njj(s.dropdownSections.videos=!s.dropdownSections.videos)}),e.j41(1,"div",5),e.EFF(2," V\xeddeos "),e.k0s(),e.j41(3,"div",6),e.DNE(4,a,1,0,"ion-icon",7)(5,m,1,0,"ion-icon",8),e.k0s()()}if(2&n){const l=e.XpG();e.R7$(4),e.vxM(l.dropdownSections.videos?4:5)}}let p=(()=>{var n;class r{constructor(c,s){this.utils=c,this.api=s,this.disabled=!1,this.requiredFields=[],this.promotionStepThree={title_es:"",description_es:"",title_en:"",description_en:"",title_de:"",description_de:"",title_fr:"",description_fr:"",title_ru:"",description_ru:"",promotionFiles:[],deletedFilesIds:[]},this.selectedLangsToEdit={title:"es",description:"es"},this.dropdownSections={texts:!0,plans:!0,catalogs:!0,videos:!0,images:!0},this.languages=o.e,this.langs=["es","en","de","fr","ru"]}ngOnInit(){}syncFiles(){setTimeout(()=>{var c,s,f,k;const M={multiple:!0,size:"medium",showRemove:!this.disabled,showName:!0,rounded:!1,allowUpload:!this.disabled,accept:"image/*",showStar:!1,openUrlOnClick:!0,files:[]},X=D.cloneDeep(null===(c=this.promotionStepThree)||void 0===c?void 0:c.promotionFiles).filter(R=>"images"===(null==R?void 0:R.category)||!(null!=R&&R.category));this.fileUploaderManager.config={...M,filesCategory:"images",files:X},this.planosFileUploadManagerComponent.config={...M,filesCategory:"plan",accept:"image/*,application/pdf",files:this.utils.filterFilesByCategoryAndSort(null===(s=this.promotionStepThree)||void 0===s?void 0:s.promotionFiles,"plan")},this.catalogsFileUploadManagerComponent.config={...M,filesCategory:"catalog",accept:"image/*,application/pdf",files:this.utils.filterFilesByCategoryAndSort(null===(f=this.promotionStepThree)||void 0===f?void 0:f.promotionFiles,"catalog")},this.videosFileUploadManagerComponent.config={...M,filesCategory:"video",accept:"video/*",files:this.utils.filterFilesByCategoryAndSort(null===(k=this.promotionStepThree)||void 0===k?void 0:k.promotionFiles,"video")}})}disableFilesInputs(){this.fileUploaderManager.setEditingMode(!1),this.planosFileUploadManagerComponent.setEditingMode(!1),this.catalogsFileUploadManagerComponent.setEditingMode(!1),this.videosFileUploadManagerComponent.setEditingMode(!1)}toUpperCase(c){return c.toUpperCase()}onSelectLang(c,s){this.selectedLangsToEdit[s]=c}onTranslateText(c){var s=this;return(0,C.A)(function*(){const f=s.selectedLangsToEdit[c],k=s.promotionStepThree[`${c}_${f}`];if(!k)return;const M=yield Promise.all(s.langs.map(X=>X===f?Promise.resolve(k):s.api.translateText(k,X).then(R=>{var io;return(null===(io=R.success)||void 0===io?void 0:io.data)||""})));s.langs.forEach((X,R)=>{s.promotionStepThree[`${c}_${X}`]=M[R]}),console.log("Traducciones:",M)})()}}return(n=r).\u0275fac=function(c){return new(c||n)(e.rXU(E.T),e.rXU(I.i))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-step-three-promotion-form"]],viewQuery:function(c,s){if(1&c&&(e.GBs($,7),e.GBs(x,5),e.GBs(U,5),e.GBs(A,5)),2&c){let f;e.mGM(f=e.lsd())&&(s.fileUploaderManager=f.first),e.mGM(f=e.lsd())&&(s.planosFileUploadManagerComponent=f.first),e.mGM(f=e.lsd())&&(s.catalogsFileUploadManagerComponent=f.first),e.mGM(f=e.lsd())&&(s.videosFileUploadManagerComponent=f.first)}},inputs:{disabled:"disabled",requiredFields:"requiredFields"},decls:38,vars:43,consts:[["fileUploaderManagerComponent",""],["planosFileUploadManagerComponent",""],["catalogsFileUploadManagerComponent",""],["videosFileUploadManagerComponent",""],[1,"crm-block-dropdown","small",3,"click"],[1,"crm-block-dropdown-title"],[1,"crm-block-dropdown-icon"],["name","chevron-up-outline"],["name","chevron-down-outline"],[1,"crm-section",2,"gap","0",3,"ngClass"],[1,"crm-section-light-text",2,"margin-top","8px"],[1,"crm-section-inputs","crm-section-inputs-bigger-gap"],[1,"crm-input","crm-section-margin-top",3,"appHideIfNoData","disabled"],[1,"crm-input-label",3,"ngClass"],[1,"crm-input-input",3,"appInputViewMode","ngClass"],["type","text","placeholder","Introduce el t\xedtulo",3,"ngModelChange","ngModel"],["class","crm-input-translation",4,"ngIf"],[1,"crm-input",3,"appHideIfNoData","disabled"],[1,"crm-input-input","crm-input-input-textarea",3,"ngClass"],[1,"crm-input-view"],[3,"ngClass"],[1,"crm-block-dropdown","small"],[1,"crm-section","size-medium",3,"ngClass"],[1,"crm-section-margin-top"],[1,"crm-input-translation"],[1,"crm-button","crm-input-translation-btn",3,"click"],[1,"crm-input-translation-flags"],[1,"crm-input-translation-flags-flag",3,"ngClass"],[1,"crm-input-translation-flags-flag",3,"click","ngClass"],[1,"crm-input-translation-flags-flag-text"],["placeholder","Introduce la descripci\xf3n",3,"ngModelChange","autoGrow","ngModel"],[1,"crm-block-dropdown-title",3,"ngClass"]],template:function(c,s){if(1&c){const f=e.RV6();e.j41(0,"div",4),e.bIt("click",function(){return e.eBV(f),e.Njj(s.dropdownSections.texts=!s.dropdownSections.texts)}),e.j41(1,"div",5),e.EFF(2," Textos e im\xe1genes "),e.k0s(),e.j41(3,"div",6),e.DNE(4,H,1,0,"ion-icon",7)(5,K,1,0,"ion-icon",8),e.k0s()(),e.j41(6,"div",9),e.DNE(7,_,2,0,"div",10),e.j41(8,"div",11)(9,"div",12)(10,"div",13),e.EFF(11," T\xedtulo "),e.k0s(),e.j41(12,"div",14)(13,"input",15),e.mxI("ngModelChange",function(M){return e.eBV(f),e.DH7(s.promotionStepThree["title_"+s.selectedLangsToEdit.title],M)||(s.promotionStepThree["title_"+s.selectedLangsToEdit.title]=M),e.Njj(M)}),e.k0s()(),e.DNE(14,F,6,0,"div",16),e.k0s(),e.j41(15,"div",17)(16,"div",13),e.EFF(17," Texto de descripci\xf3n "),e.k0s(),e.DNE(18,T,2,5,"div",18)(19,t,2,1,"div",19)(20,b,6,0,"div",16),e.k0s()()(),e.j41(21,"div",20),e.DNE(22,z,6,4,"div",21),e.j41(23,"div",22),e.nrm(24,"app-file-uploader-manager",23,0),e.k0s()(),e.DNE(26,Q,6,1,"div",21),e.j41(27,"div",22),e.nrm(28,"app-file-uploader-manager",23,1),e.k0s(),e.DNE(30,no,6,1,"div",21),e.j41(31,"div",22),e.nrm(32,"app-file-uploader-manager",23,2),e.k0s(),e.DNE(34,i,6,1,"div",21),e.j41(35,"div",22),e.nrm(36,"app-file-uploader-manager",23,3),e.k0s()}if(2&c){const f=e.sdS(29),k=e.sdS(33),M=e.sdS(37);e.R7$(4),e.vxM(s.dropdownSections.texts?4:5),e.R7$(2),e.Y8G("ngClass",e.l_i(24,L,!s.dropdownSections.texts,s.disabled)),e.R7$(),e.vxM(s.disabled?-1:7),e.R7$(2),e.Y8G("appHideIfNoData",s.promotionStepThree["title_"+s.selectedLangsToEdit.title])("disabled",s.disabled),e.R7$(),e.Y8G("ngClass",e.eq3(27,N,s.requiredFields.includes("title_es"))),e.R7$(2),e.Y8G("appInputViewMode",s.disabled)("ngClass",e.eq3(29,B,s.requiredFields.includes("title_es"))),e.R7$(),e.R50("ngModel",s.promotionStepThree["title_"+s.selectedLangsToEdit.title]),e.R7$(),e.Y8G("ngIf",!s.disabled),e.R7$(),e.Y8G("appHideIfNoData",s.promotionStepThree["description_"+s.selectedLangsToEdit.description])("disabled",s.disabled),e.R7$(),e.Y8G("ngClass",e.eq3(31,N,s.requiredFields.includes("description_es"))),e.R7$(2),e.vxM(s.disabled?19:18),e.R7$(2),e.Y8G("ngIf",!s.disabled),e.R7$(),e.Y8G("ngClass",e.eq3(33,O,s.disabled)),e.R7$(),e.vxM((null==s.fileUploaderManager||null==s.fileUploaderManager.config||null==s.fileUploaderManager.config.files?null:s.fileUploaderManager.config.files.length)>0||!s.disabled?22:-1),e.R7$(),e.Y8G("ngClass",e.eq3(35,O,!s.dropdownSections.images||0===(null==s.fileUploaderManager||null==s.fileUploaderManager.config||null==s.fileUploaderManager.config.files?null:s.fileUploaderManager.config.files.length)&&s.disabled)),e.R7$(3),e.vxM((null==f||null==f.config||null==f.config.files?null:f.config.files.length)>0||!s.disabled?26:-1),e.R7$(),e.Y8G("ngClass",e.eq3(37,O,!s.dropdownSections.plans||0===(null==f||null==f.config||null==f.config.files?null:f.config.files.length)&&s.disabled)),e.R7$(3),e.vxM((null==k||null==k.config||null==k.config.files?null:k.config.files.length)>0||!s.disabled?30:-1),e.R7$(),e.Y8G("ngClass",e.eq3(39,O,!s.dropdownSections.catalogs||0===(null==k||null==k.config||null==k.config.files?null:k.config.files.length)&&s.disabled)),e.R7$(3),e.vxM((null==M||null==M.config||null==M.config.files?null:M.config.files.length)>0||!s.disabled?34:-1),e.R7$(),e.Y8G("ngClass",e.eq3(41,O,!s.dropdownSections.videos||0===(null==M||null==M.config||null==M.config.files?null:M.config.files.length)&&s.disabled))}},dependencies:[y.YU,y.bT,G.me,G.BC,G.vS,j.iq,j.nc,j.Gw,v.M,S.F,V.S]}),r})()},7221:(W,w,d)=>{d.d(w,{T:()=>no});var C=d(1280),o=d(3953),D=d(177),P=d(9417),e=d(9465),E=d(1792),I=d(1748),y=d(7141),G=d(3955);const j=(a,m)=>({"crm-section-invisible":a,"crm-section-disabled-inputs":m}),v=a=>({"crm-section-inputs-grid-input-100":a}),S=()=>({thousandSeparator:!0});function V(a,m){1&a&&o.nrm(0,"ion-icon",3)}function $(a,m){1&a&&o.nrm(0,"ion-icon",4)}function x(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",10)(1,"ion-checkbox",11),o.mxI("ngModelChange",function(n){const r=o.eBV(i).$implicit,l=o.XpG().$implicit,c=o.XpG(2);return o.DH7(c.promotionStepTwo["f_"+l+"_"+r],n)||(c.promotionStepTwo["f_"+l+"_"+r]=n),o.Njj(n)}),o.k0s(),o.j41(2,"div",12),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&a){const i=m.$implicit,p=o.XpG().$implicit,n=o.XpG(2);o.R7$(),o.R50("ngModel",n.promotionStepTwo["f_"+p+"_"+i]),o.R7$(2),o.JRh(o.bMT(4,2,"features."+i))}}function U(a,m){if(1&a&&(o.j41(0,"div",7)(1,"div",8),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"div",9),o.Z7z(5,x,5,4,"div",10,o.fX1),o.k0s()()),2&a){const i=m.$implicit,p=o.XpG(2);o.Y8G("appInputViewMode",p.isDisabled),o.R7$(2),o.SpI(" ",o.bMT(3,2,"features."+i),""),o.R7$(3),o.Dyx(p.propertiesFeatures[i])}}function A(a,m){if(1&a&&(o.j41(0,"div",6),o.Z7z(1,U,7,4,"div",7,o.fX1),o.k0s()),2&a){const i=o.XpG();o.Y8G("ngClass",o.eq3(1,v,!i.isDisabled)),o.R7$(),o.Dyx(i.featuresOrders.general)}}function L(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",7)(1,"div",9)(2,"div",10)(3,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_parkingComunitario,n)||(r.promotionStepTwo.fcustom_parkingComunitario=n),o.Njj(n)}),o.k0s(),o.j41(4,"div",12),o.EFF(5,"Tiene parking comunitario"),o.k0s()()()(),o.j41(6,"div",14)(7,"div",15)(8,"div",8),o.EFF(9,"Precio del parking"),o.k0s(),o.j41(10,"div",16)(11,"input",17),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_parkingPrice,n)||(r.promotionStepTwo.fcustom_parkingPrice=n),o.Njj(n)}),o.k0s(),o.j41(12,"div",18),o.EFF(13,"\u20ac"),o.k0s()()(),o.j41(14,"div",19)(15,"div",8),o.EFF(16,"Parking inclu\xeddo"),o.k0s(),o.j41(17,"div",20)(18,"div",10)(19,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_parkingIncludedInPrice,n)||(r.promotionStepTwo.fcustom_parkingIncludedInPrice=n),o.Njj(n)}),o.k0s(),o.j41(20,"div",12),o.EFF(21,"S\xed"),o.k0s()()()()()}if(2&a){const i=o.XpG(2);o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.fcustom_parkingComunitario),o.R7$(4),o.Y8G("appHideIfNoData",i.promotionStepTwo.fcustom_parkingPrice)("disabled",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled)("options",o.lJ4(13,S)),o.R7$(),o.Y8G("disabled",i.promotionStepTwo.fcustom_parkingIncludedInPrice),o.R50("ngModel",i.promotionStepTwo.fcustom_parkingPrice),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled)("appHideIfNoData",i.promotionStepTwo.fcustom_parkingIncludedInPrice)("disabled",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(2),o.R50("ngModel",i.promotionStepTwo.fcustom_parkingIncludedInPrice)}}function N(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",13),o.EFF(1," Parking "),o.k0s(),o.j41(2,"div",6)(3,"div",7)(4,"div",9)(5,"div",10)(6,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG();return o.DH7(r.promotionStepTwo.fcustom_parking,n)||(r.promotionStepTwo.fcustom_parking=n),o.Njj(n)}),o.k0s(),o.j41(7,"div",12),o.EFF(8,"Tiene parking"),o.k0s()()()(),o.DNE(9,L,22,14),o.k0s()}if(2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(4,v,!i.isDisabled)),o.R7$(),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.fcustom_parking),o.R7$(3),o.vxM(i.promotionStepTwo.fcustom_parking||i.promotionStepTwo.fcustom_parkingComunitario?9:-1)}}function B(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",7)(1,"div",9)(2,"div",10)(3,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.f_pool_comunitaria,n)||(r.promotionStepTwo.f_pool_comunitaria=n),o.Njj(n)}),o.k0s(),o.j41(4,"div",12),o.EFF(5,"Tiene piscina comunitaria"),o.k0s()()()(),o.j41(6,"div",21)(7,"div",19)(8,"div",8),o.EFF(9,"Piscina calefactable"),o.k0s(),o.j41(10,"div",9)(11,"div",10)(12,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.f_pool_privadaCalefactable,n)||(r.promotionStepTwo.f_pool_privadaCalefactable=n),o.Njj(n)}),o.k0s(),o.j41(13,"div",12),o.EFF(14,"S\xed"),o.k0s()()()(),o.j41(15,"div",19)(16,"div",8),o.EFF(17),o.k0s(),o.j41(18,"div",9)(19,"div",10)(20,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.f_pool_privadaPreInstalacionCalefaccion,n)||(r.promotionStepTwo.f_pool_privadaPreInstalacionCalefaccion=n),o.Njj(n)}),o.k0s(),o.j41(21,"div",12),o.EFF(22,"S\xed"),o.k0s()()()(),o.j41(23,"div",15)(24,"div",8),o.EFF(25,"Precio de la piscina"),o.k0s(),o.j41(26,"div",16)(27,"input",17),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.f_pool_price,n)||(r.promotionStepTwo.f_pool_price=n),o.Njj(n)}),o.k0s(),o.j41(28,"div",18),o.EFF(29,"\u20ac"),o.k0s()()(),o.j41(30,"div",19)(31,"div",8),o.EFF(32,"Piscina inclu\xedda"),o.k0s(),o.j41(33,"div",20)(34,"div",10)(35,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.f_pool_included,n)||(r.promotionStepTwo.f_pool_included=n),o.Njj(n)}),o.k0s(),o.j41(36,"div",12),o.EFF(37,"S\xed"),o.k0s()()()()()}if(2&a){const i=o.XpG(2);o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.f_pool_comunitaria),o.R7$(4),o.Y8G("appInputViewMode",i.isDisabled)("appHideIfNoData",i.promotionStepTwo.f_pool_privadaCalefactable)("disabled",i.isDisabled),o.R7$(5),o.R50("ngModel",i.promotionStepTwo.f_pool_privadaCalefactable),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled)("appHideIfNoData",i.promotionStepTwo.f_pool_privadaPreInstalacionCalefaccion||null)("disabled",i.isDisabled),o.R7$(2),o.SpI("Piscina Pre-Instalaci\xf3n Calefacci\xf3n ",i.promotionStepTwo.f_pool_privadaPreInstalacionCalefaccion,""),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.f_pool_privadaPreInstalacionCalefaccion),o.R7$(3),o.Y8G("appHideIfNoData",i.promotionStepTwo.f_pool_price)("disabled",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled)("options",o.lJ4(22,S)),o.R7$(),o.Y8G("disabled",i.promotionStepTwo.f_pool_included),o.R50("ngModel",i.promotionStepTwo.f_pool_price),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled)("appHideIfNoData",i.promotionStepTwo.f_pool_included)("disabled",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(2),o.R50("ngModel",i.promotionStepTwo.f_pool_included)}}function O(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",13),o.EFF(1," Piscina "),o.k0s(),o.j41(2,"div",6)(3,"div",7)(4,"div",9)(5,"div",10)(6,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG();return o.DH7(r.promotionStepTwo.f_pool_privada,n)||(r.promotionStepTwo.f_pool_privada=n),o.Njj(n)}),o.k0s(),o.j41(7,"div",12),o.EFF(8,"Tiene piscina"),o.k0s()()()(),o.DNE(9,B,38,23),o.k0s()}if(2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(4,v,!i.isDisabled)),o.R7$(),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.f_pool_privada),o.R7$(3),o.vxM(i.promotionStepTwo.f_pool_privada||i.promotionStepTwo.f_pool_comunitaria?9:-1)}}function Y(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",24)(1,"div",25)(2,"div",8),o.EFF(3,"Precio del trastero"),o.k0s(),o.j41(4,"div",16)(5,"input",17),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_trasteroPrice,n)||(r.promotionStepTwo.fcustom_trasteroPrice=n),o.Njj(n)}),o.k0s(),o.j41(6,"div",18),o.EFF(7,"\u20ac"),o.k0s()()(),o.j41(8,"div",7)(9,"div",8),o.EFF(10,"Trastero inclu\xeddo"),o.k0s(),o.j41(11,"div",20)(12,"div",10)(13,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_trasteroIncludedInPrice,n)||(r.promotionStepTwo.fcustom_trasteroIncludedInPrice=n),o.Njj(n)}),o.k0s(),o.j41(14,"div",12),o.EFF(15,"S\xed"),o.k0s()()()()()}if(2&a){const i=o.XpG(2);o.R7$(4),o.Y8G("appInputViewMode",i.isDisabled)("options",o.lJ4(7,S)),o.R7$(),o.Y8G("disabled",i.promotionStepTwo.fcustom_trasteroIncludedInPrice),o.R50("ngModel",i.promotionStepTwo.fcustom_trasteroPrice),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(2),o.R50("ngModel",i.promotionStepTwo.fcustom_trasteroIncludedInPrice)}}function H(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",13),o.EFF(1," Trastero "),o.k0s(),o.j41(2,"div",6)(3,"div",7)(4,"div",9)(5,"div",22)(6,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG();return o.DH7(r.promotionStepTwo.fcustom_trastero,n)||(r.promotionStepTwo.fcustom_trastero=n),o.Njj(n)}),o.k0s(),o.j41(7,"div",23),o.bIt("click",function(){o.eBV(i);const n=o.XpG();return o.Njj(n.promotionStepTwo.fcustom_trastero=!n.promotionStepTwo.fcustom_trastero)}),o.EFF(8," Tiene trastero "),o.k0s()()()(),o.DNE(9,Y,16,8,"div",24),o.k0s()}if(2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(4,v,!i.isDisabled)),o.R7$(),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.fcustom_trastero),o.R7$(3),o.vxM(i.promotionStepTwo.fcustom_trastero?9:-1)}}function K(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",24)(1,"div",25)(2,"div",8),o.EFF(3,"Precio del s\xf3tano"),o.k0s(),o.j41(4,"div",16)(5,"input",26),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_sotanoPrice,n)||(r.promotionStepTwo.fcustom_sotanoPrice=n),o.Njj(n)}),o.k0s(),o.j41(6,"div",18),o.EFF(7,"\u20ac"),o.k0s()()(),o.j41(8,"div",7)(9,"div",8),o.EFF(10,"S\xf3tano inclu\xeddo"),o.k0s(),o.j41(11,"div",20)(12,"div",10)(13,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_sotanoIncludedInPrice,n)||(r.promotionStepTwo.fcustom_sotanoIncludedInPrice=n),o.Njj(n)}),o.k0s(),o.j41(14,"div",12),o.EFF(15,"S\xed"),o.k0s()()()()()}if(2&a){const i=o.XpG(2);o.R7$(4),o.Y8G("appInputViewMode",i.isDisabled)("options",o.lJ4(7,S)),o.R7$(),o.Y8G("disabled",i.promotionStepTwo.fcustom_sotanoIncludedInPrice),o.R50("ngModel",i.promotionStepTwo.fcustom_sotanoPrice),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(2),o.R50("ngModel",i.promotionStepTwo.fcustom_sotanoIncludedInPrice)}}function _(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",13),o.EFF(1," S\xf3tano "),o.k0s(),o.j41(2,"div",6)(3,"div",7)(4,"div",9)(5,"div",10)(6,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG();return o.DH7(r.promotionStepTwo.fcustom_sotano,n)||(r.promotionStepTwo.fcustom_sotano=n),o.Njj(n)}),o.k0s(),o.j41(7,"div",12),o.EFF(8,"Tiene s\xf3tano"),o.k0s()()()(),o.DNE(9,K,16,8,"div",24),o.k0s()}if(2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(4,v,!i.isDisabled)),o.R7$(),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.fcustom_sotano),o.R7$(3),o.vxM(i.promotionStepTwo.fcustom_sotano?9:-1)}}function h(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",24)(1,"div",25)(2,"div",8),o.EFF(3,"Precio del solarium"),o.k0s(),o.j41(4,"div",16)(5,"input",27),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_solariumPrice,n)||(r.promotionStepTwo.fcustom_solariumPrice=n),o.Njj(n)}),o.k0s(),o.j41(6,"div",18),o.EFF(7,"\u20ac"),o.k0s()()(),o.j41(8,"div",7)(9,"div",8),o.EFF(10,"Solarium inclu\xeddo"),o.k0s(),o.j41(11,"div",20)(12,"div",10)(13,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG(2);return o.DH7(r.promotionStepTwo.fcustom_solariumIncludedInPrice,n)||(r.promotionStepTwo.fcustom_solariumIncludedInPrice=n),o.Njj(n)}),o.k0s(),o.j41(14,"div",12),o.EFF(15,"S\xed"),o.k0s()()()()()}if(2&a){const i=o.XpG(2);o.R7$(4),o.Y8G("appInputViewMode",i.isDisabled)("options",o.lJ4(7,S)),o.R7$(),o.Y8G("disabled",i.promotionStepTwo.fcustom_solariumIncludedInPrice),o.R50("ngModel",i.promotionStepTwo.fcustom_solariumPrice),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(2),o.R50("ngModel",i.promotionStepTwo.fcustom_solariumIncludedInPrice)}}function F(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",13),o.EFF(1," Solarium "),o.k0s(),o.j41(2,"div",6)(3,"div",7)(4,"div",9)(5,"div",10)(6,"ion-checkbox",11),o.mxI("ngModelChange",function(n){o.eBV(i);const r=o.XpG();return o.DH7(r.promotionStepTwo.fcustom_solarium,n)||(r.promotionStepTwo.fcustom_solarium=n),o.Njj(n)}),o.k0s(),o.j41(7,"div",12),o.EFF(8,"Tiene solarium"),o.k0s()()()(),o.DNE(9,h,16,8,"div",24),o.k0s()}if(2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(4,v,!i.isDisabled)),o.R7$(),o.Y8G("appInputViewMode",i.isDisabled),o.R7$(3),o.R50("ngModel",i.promotionStepTwo.fcustom_solarium),o.R7$(3),o.vxM(i.promotionStepTwo.fcustom_solarium?9:-1)}}function T(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",10)(1,"ion-checkbox",11),o.mxI("ngModelChange",function(n){const r=o.eBV(i).$implicit,l=o.XpG().$implicit,c=o.XpG(2);return o.DH7(c.promotionStepTwo["f_"+l+"_"+r],n)||(c.promotionStepTwo["f_"+l+"_"+r]=n),o.Njj(n)}),o.k0s(),o.j41(2,"div",12),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&a){const i=m.$implicit,p=o.XpG().$implicit,n=o.XpG(2);o.R7$(),o.R50("ngModel",n.promotionStepTwo["f_"+p+"_"+i]),o.R7$(2),o.JRh(o.bMT(4,2,"features."+i))}}function t(a,m){if(1&a&&(o.j41(0,"div",7)(1,"div",9),o.Z7z(2,T,5,4,"div",10,o.fX1),o.k0s()()),2&a){const i=m.$implicit,p=o.XpG(2);o.Y8G("appInputViewMode",p.isDisabled),o.R7$(2),o.Dyx(p.propertiesFeatures[i])}}function g(a,m){if(1&a&&(o.j41(0,"div",13),o.EFF(1," M\xe1s caracter\xedsticas "),o.k0s(),o.j41(2,"div",6),o.Z7z(3,t,4,1,"div",7,o.fX1),o.k0s()),2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(1,v,!i.isDisabled)),o.R7$(),o.Dyx(i.featuresOrders.caracteristicas)}}function b(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",10)(1,"ion-checkbox",11),o.mxI("ngModelChange",function(n){const r=o.eBV(i).$implicit,l=o.XpG().$implicit,c=o.XpG(2);return o.DH7(c.promotionStepTwo["f_"+l+"_"+r],n)||(c.promotionStepTwo["f_"+l+"_"+r]=n),o.Njj(n)}),o.k0s(),o.j41(2,"div",12),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&a){const i=m.$implicit,p=o.XpG().$implicit,n=o.XpG(2);o.R7$(),o.R50("ngModel",n.promotionStepTwo["f_"+p+"_"+i]),o.R7$(2),o.JRh(o.bMT(4,2,"features."+i))}}function u(a,m){if(1&a&&(o.j41(0,"div",7)(1,"div",9),o.Z7z(2,b,5,4,"div",10,o.fX1),o.k0s()()),2&a){const i=m.$implicit,p=o.XpG(2);o.Y8G("appInputViewMode",p.isDisabled),o.R7$(2),o.Dyx(p.propertiesFeatures[i])}}function q(a,m){if(1&a&&(o.j41(0,"div",13),o.EFF(1," Cercan\xeda "),o.k0s(),o.j41(2,"div",6),o.Z7z(3,u,4,1,"div",7,o.fX1),o.k0s()),2&a){const i=o.XpG();o.R7$(2),o.Y8G("ngClass",o.eq3(1,v,!i.isDisabled)),o.R7$(),o.Dyx(i.featuresOrders.cercania)}}function z(a,m){1&a&&o.nrm(0,"ion-icon",3)}function Z(a,m){1&a&&o.nrm(0,"ion-icon",4)}function J(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",10)(1,"ion-checkbox",11),o.mxI("ngModelChange",function(n){const r=o.eBV(i).$implicit,l=o.XpG().$implicit,c=o.XpG(3);return o.DH7(c.promotionStepTwo["f_"+l+"_"+r],n)||(c.promotionStepTwo["f_"+l+"_"+r]=n),o.Njj(n)}),o.k0s(),o.j41(2,"div",12),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&a){const i=m.$implicit,p=o.XpG().$implicit,n=o.XpG(3);o.R7$(),o.R50("ngModel",n.promotionStepTwo["f_"+p+"_"+i]),o.R7$(2),o.JRh(o.bMT(4,2,"features."+i))}}function Q(a,m){if(1&a&&(o.j41(0,"div",7)(1,"div",9),o.Z7z(2,J,5,4,"div",10,o.fX1),o.k0s()()),2&a){const i=m.$implicit,p=o.XpG(3);o.Y8G("appInputViewMode",p.isDisabled),o.R7$(2),o.Dyx(p.propertiesFeatures[i])}}function oo(a,m){if(1&a&&(o.j41(0,"div")(1,"div",6),o.Z7z(2,Q,4,1,"div",7,o.fX1),o.k0s()()),2&a){const i=o.XpG(2);o.R7$(),o.Y8G("ngClass",o.eq3(1,v,!i.isDisabled)),o.R7$(),o.Dyx(i.featuresOrders.urbanizacion)}}function eo(a,m){if(1&a){const i=o.RV6();o.j41(0,"div",0),o.bIt("click",function(){o.eBV(i);const n=o.XpG();return o.Njj(n.dropdownSections.urbanization=!n.dropdownSections.urbanization)}),o.j41(1,"div",1),o.EFF(2," A\xf1adir urbanizaci\xf3n "),o.k0s(),o.j41(3,"div",2),o.DNE(4,z,1,0,"ion-icon",3)(5,Z,1,0,"ion-icon",4),o.k0s()(),o.DNE(6,oo,4,3,"div",28)}if(2&a){const i=o.XpG();o.R7$(4),o.vxM(i.dropdownSections.urbanization?4:5),o.R7$(2),o.Y8G("ngIf",i.dropdownSections.urbanization)}}let no=(()=>{var a;class m{constructor(){this.isDisabled=!1,this.promotionStepTwo={orientation:null,interiorOrExterior:null},this.dropdownSections={general:!0,sizes:!0,features:!0,location:!0,texts_media:!0,images:!0,urbanization:!1},this.propertiesFeatures=C.B,this.featuresOrders=C.X}ngOnInit(){this.isDisabled&&setTimeout(()=>{this.isDisabled=!1,setTimeout(()=>{this.isDisabled=!0})})}onlog(){console.log(this.promotionStepTwo)}toggleSelection(p,n){const r=n.indexOf(p);r>-1?n.splice(r,1):n.push(p)}isChecked(p,n){return n.includes(p)}checkIfShowCheckboxesSection(p){let n=!1;for(let r of p)for(let l of C.B[r])if(this.promotionStepTwo["f_"+r+"_"+l]){n=!0;break}return n}checkIfShowFeatureCheckboxes(p){let n=!1;for(let r of C.B[p])if(this.promotionStepTwo["f_"+p+"_"+r]){n=!0;break}return n}}return(a=m).\u0275fac=function(p){return new(p||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["app-step-two-promotion-form"]],inputs:{isDisabled:"isDisabled"},decls:16,vars:14,consts:[[1,"crm-block-dropdown","small",3,"click"],[1,"crm-block-dropdown-title"],[1,"crm-block-dropdown-icon"],["name","chevron-up-outline"],["name","chevron-down-outline"],[1,"crm-section","size-medium","crm-section-margin-top",3,"ngClass"],[1,"crm-section-inputs","crm-section-inputs-grid",3,"ngClass"],[1,"crm-input",3,"appInputViewMode"],[1,"crm-input-label"],[1,"crm-input-checkboxes"],["appToggleCheckbox","",1,"crm-input-checkbox"],[3,"ngModelChange","ngModel"],[1,"crm-input-checkbox-label"],[1,"crm-section-smaller-title","crm-section-margin-top"],[1,"crm-section-inputs-grid-2-cols",2,"width","100%"],[1,"crm-input",3,"appHideIfNoData","disabled"],[1,"crm-input-input","input-disabled",3,"appInputViewMode","options"],["type","number","placeholder","Introduce el precio del parking",3,"ngModelChange","disabled","ngModel"],[1,"crm-input-input-symbol"],[1,"crm-input",3,"appInputViewMode","appHideIfNoData","disabled"],[1,"crm-input-checkboxes",3,"appInputViewMode"],[1,"crm-section-inputs-grid-2-cols"],[1,"crm-input-checkbox"],[1,"crm-input-checkbox-label",3,"click"],[1,"crm-section-inputs-double-input",2,"width","100%"],[1,"crm-input"],["type","number","placeholder","Introduce el precio del s\xf3tano",3,"ngModelChange","disabled","ngModel"],["type","number","placeholder","Introduce el precio del solarium",3,"ngModelChange","disabled","ngModel"],[4,"ngIf"]],template:function(p,n){1&p&&(o.j41(0,"div",0),o.bIt("click",function(){return n.dropdownSections.features=!n.dropdownSections.features}),o.j41(1,"div",1),o.EFF(2," Caracter\xedsticas generales "),o.k0s(),o.j41(3,"div",2),o.DNE(4,V,1,0,"ion-icon",3)(5,$,1,0,"ion-icon",4),o.k0s()(),o.j41(6,"div",5),o.DNE(7,A,3,3,"div",6)(8,N,10,6)(9,O,10,6)(10,H,10,6)(11,_,10,6)(12,F,10,6)(13,g,5,3)(14,q,5,3),o.k0s(),o.DNE(15,eo,7,2)),2&p&&(o.R7$(4),o.vxM(n.dropdownSections.features?4:5),o.R7$(2),o.Y8G("ngClass",o.l_i(11,j,!n.dropdownSections.features,n.isDisabled)),o.R7$(),o.vxM(n.isDisabled&&n.checkIfShowCheckboxesSection(null==n.featuresOrders?null:n.featuresOrders.general)||!n.isDisabled?7:-1),o.R7$(),o.vxM(n.isDisabled&&(n.promotionStepTwo.fcustom_parking||n.promotionStepTwo.fcustom_parkingComunitario)||!n.isDisabled?8:-1),o.R7$(),o.vxM(n.isDisabled&&(n.promotionStepTwo.f_pool_privada||n.promotionStepTwo.f_pool_comunitaria)||!n.isDisabled?9:-1),o.R7$(),o.vxM(n.isDisabled&&n.promotionStepTwo.fcustom_trastero||!n.isDisabled?10:-1),o.R7$(),o.vxM(n.isDisabled&&n.promotionStepTwo.fcustom_sotano||!n.isDisabled?11:-1),o.R7$(),o.vxM(n.isDisabled&&n.promotionStepTwo.fcustom_solarium||!n.isDisabled?12:-1),o.R7$(),o.vxM(n.isDisabled&&n.checkIfShowCheckboxesSection(null==n.featuresOrders?null:n.featuresOrders.caracteristicas)||!n.isDisabled?13:-1),o.R7$(),o.vxM(n.isDisabled&&n.checkIfShowCheckboxesSection(null==n.featuresOrders?null:n.featuresOrders.cercania)||!n.isDisabled?14:-1),o.R7$(),o.vxM(n.isDisabled&&n.checkIfShowCheckboxesSection(null==n.featuresOrders?null:n.featuresOrders.urbanizacion)||!n.isDisabled?15:-1))},dependencies:[D.YU,D.bT,P.me,P.Q0,P.BC,P.vS,e.eY,e.iq,e.hB,E.M,I.z,y.S,G.D9],styles:[".crm-section-inputs-grid[_ngcontent-%COMP%]{flex-direction:inherit}.crm-section-inputs-grid[_ngcontent-%COMP%]   .crm-input-disabled[_ngcontent-%COMP%], .crm-section-inputs-grid[_ngcontent-%COMP%]   .crm-input-disabled[_ngcontent-%COMP%]   .crm-input-view-checkbox[_ngcontent-%COMP%]{width:100%}"]}),m})()}}]);