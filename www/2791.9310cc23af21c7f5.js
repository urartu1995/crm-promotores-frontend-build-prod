"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2791],{2791:(li,P,p)=>{p.r(P),p.d(P,{PipelinesConfiguratorPageModule:()=>ni});var v=p(177),T=p(9417),k=p(9465),b=p(5188),u=p(467),g=p(7376),i=p(3953),$=p(5786),F=p(2081),x=p(8397),y=p(8781);let G=(()=>{var r;class d{constructor(e,t,n){this.sdk=e,this.toastService=t,this.asideService=n}getPipelineByIdWithButtonsAndSteps(e){var t=this;return(0,u.A)(function*(){var n;const o=yield t.sdk.getPipelines({id:{equals:e}},{field:"createdAt",order:"asc"},{itemsPerPage:200,page:0},{steps:{filter:null,apply:!0,onlyCount:!1},buttons:{filter:null,apply:!0,onlyCount:!1}});return null==o||null===(n=o.success)||void 0===n||null===(n=n.data)||void 0===n?void 0:n[0]})()}createPipeline(e){var t=this;return(0,u.A)(function*(){try{var n,o;const s={title:e.title},c=yield t.sdk.createPipeline(s);if(null!=c&&null!==(n=c.error)&&void 0!==n&&n.errorCode)throw"";const a=null==c||null===(o=c.success)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.id;e.id=a,yield t.createOrUpdatePipelineButtons(e),yield t.createOrUpdatePipelineSteps(e),t.asideService.updateAside$.next(!0),t.toastService.showToast({text:"Pipeline creada correctamente",theme:"success",time:2e3})}catch{t.toastService.showToast({text:"Ha ocurrido un error",theme:"red",time:1e4})}})()}updatePipeline(e){var t=this;return(0,u.A)(function*(){try{const n={title:e.title};try{yield t.sdk.updatePipelineById(null==e?void 0:e.id,n)}catch{}yield t.createOrUpdatePipelineButtons(e),yield t.createOrUpdatePipelineSteps(e),t.toastService.showToast({text:"Pipeline actualizada correctamente",theme:"success",time:2e3})}catch{t.toastService.showToast({text:"Ha ocurrido un error",theme:"red",time:1e4})}})()}createOrUpdatePipelineButtons(e){var t=this;return(0,u.A)(function*(){const n=null==e?void 0:e.buttons;for(let o of n)delete o.linkNumber,o.deleted&&(yield t.sdk.deletePipelineButtonById(null==o?void 0:o.id)),o.justCreated&&(yield t.createButton(o,e.id)),o.id&&(yield t.updateButton(o,e.id))})()}createButton(e,t){var n=this;return(0,u.A)(function*(){delete e.id,delete e.justCreated;const o={...e,pipelineId:t};yield n.sdk.createPipelineButton(o)})()}updateButton(e,t){var n=this;return(0,u.A)(function*(){const o={...e};yield n.sdk.updatePipelineButtonById(null==o?void 0:o.id,o)})()}createOrUpdatePipelineSteps(e){var t=this;return(0,u.A)(function*(){const n=null==e?void 0:e.steps;for(let o of n)delete o.linkNumber,delete o.isCompleted,o.deleted&&(yield t.sdk.deletePipelineStepById(null==o?void 0:o.id)),o.justCreated&&(yield t.createStep(o,e.id)),o.id&&(yield t.updateStep(o))})()}createStep(e,t){var n=this;return(0,u.A)(function*(){delete e.id,delete e.justCreated;const o={...e,pipelineId:t};yield n.sdk.createPipelineStep(o)})()}updateStep(e){var t=this;return(0,u.A)(function*(){const n={...e};yield t.sdk.updatePipelineStepById(null==n?void 0:n.id,n)})()}getAllStepsColors(e){return e.map(t=>t.color)}}return(r=d).\u0275fac=function(e){return new(e||r)(i.KVO(F.i),i.KVO(x.f),i.KVO(y.e))},r.\u0275prov=i.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),d})();var B=p(4501),X=p(4476);const S=(r,d)=>({"background-color":r,border:d}),j=r=>({"crm-button-icon-no-margin":r});function R(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",4)(1,"app-general-toast",8),i.bIt("closeToast",function(){i.eBV(l);const t=i.XpG();return i.Njj(t.onCloseLinkingMode())}),i.k0s()()}if(2&r){const l=i.XpG();i.R7$(),i.Y8G("options",l.toastConfig)}}function E(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",19),i.EFF(1," Tienes cambios no guardados "),i.k0s(),i.j41(2,"button",6),i.bIt("click",function(){i.eBV(l);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onSavePipeline(t))}),i.nrm(3,"i",20),i.EFF(4," Guardar "),i.k0s()}}function I(r,d){if(1&r){const l=i.RV6();i.j41(0,"button",21),i.bIt("click",function(){i.eBV(l);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onEditPipeline(t))}),i.nrm(1,"i",22),i.EFF(2," Editar "),i.k0s()}}function N(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",33),i.bIt("click",function(){i.eBV(l);const t=i.XpG(3).$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onEditStep(t,null==n?null:n.id))}),i.nrm(1,"i",34),i.k0s()}}function M(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",24)(1,"div",26),i.bIt("click",function(){i.eBV(l);const t=i.XpG(2).$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onClickStep(t,null==n?null:n.id))}),i.nrm(2,"div",27),i.j41(3,"div",28)(4,"div",29),i.EFF(5),i.k0s(),i.DNE(6,N,2,0,"div",30),i.k0s()(),i.j41(7,"button",31),i.nrm(8,"i",32),i.EFF(9),i.k0s()()}if(2&r){const l=i.XpG(2).$implicit,e=i.XpG().$implicit;i.R7$(2),i.Y8G("ngStyle",i.l_i(4,S,null==l?null:l.color,"1px solid "+(null==l?null:l.color))),i.R7$(3),i.SpI(" ",null==l?null:l.text," "),i.R7$(),i.vxM(null!=e&&e.isDefault?-1:6),i.R7$(3),i.SpI(" ",null==l?null:l.linkNumber," ")}}function A(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",33),i.bIt("click",function(){i.eBV(l);const t=i.XpG(3).$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onEditStep(t,null==n?null:n.id))}),i.nrm(1,"i",34),i.k0s()}}function D(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",26),i.bIt("click",function(){i.eBV(l);const t=i.XpG(2).$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onClickStep(t,null==n?null:n.id))}),i.nrm(1,"div",27),i.j41(2,"div",28)(3,"div",29),i.EFF(4),i.k0s(),i.DNE(5,A,2,0,"div",30),i.k0s()()}if(2&r){const l=i.XpG(2).$implicit,e=i.XpG().$implicit;i.R7$(),i.Y8G("ngStyle",i.l_i(3,S,null==l?null:l.color,"1px solid "+(null==l?null:l.color))),i.R7$(3),i.SpI(" ",null==l?null:l.text," "),i.R7$(),i.vxM(null!=e&&e.isDefault?-1:5)}}function V(r,d){if(1&r&&(i.DNE(0,M,10,7,"div",24)(1,D,6,6,"div",25),i.nrm(2,"div",23)),2&r){const l=i.XpG().$implicit;i.vxM(null!=l&&l.linkNumber?0:1)}}function L(r,d){if(1&r&&i.DNE(0,V,3,1,"div",23),2&r){const l=d.$implicit;i.vxM(null!=l&&l.deleted?-1:0)}}function U(r,d){if(1&r){const l=i.RV6();i.j41(0,"button",35),i.bIt("click",function(){i.eBV(l);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onAddStep(null==t?null:t.id))}),i.nrm(1,"i",7),i.k0s()}}function O(r,d){if(1&r){const l=i.RV6();i.EFF(0),i.j41(1,"i",41),i.bIt("click",function(t){i.eBV(l);const n=i.XpG(2).$implicit,o=i.XpG().$implicit,s=i.XpG();return i.Njj(s.onUnlinkButton(t,n,o))}),i.k0s()}if(2&r){const l=i.XpG(2).$implicit;i.SpI(" ",null==l?null:l.linkNumber," ")}}function w(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",42),i.bIt("click",function(){i.eBV(l);const t=i.XpG(2).$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onEditButton(t,null==n?null:n.id))}),i.nrm(1,"i",34),i.k0s()}}function Y(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",36)(1,"button",37),i.EFF(2),i.k0s(),i.j41(3,"button",38),i.bIt("click",function(){i.eBV(l);const t=i.XpG().$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onLink(t,null==n?null:n.id))}),i.nrm(4,"i",32),i.DNE(5,O,2,1,"i",39),i.k0s(),i.DNE(6,w,2,0,"div",40),i.k0s()}if(2&r){const l=i.XpG().$implicit,e=i.XpG().$implicit;i.R7$(2),i.SpI(" ",null==l?null:l.text," "),i.R7$(),i.Y8G("ngClass",i.eq3(4,j,!(null!=l&&l.linkNumber&&(null==l?null:l.linkNumber)>0))),i.R7$(2),i.vxM(null!=l&&l.linkNumber&&(null==l?null:l.linkNumber)>0?5:-1),i.R7$(),i.vxM(null!=e&&e.isDefault?-1:6)}}function z(r,d){if(1&r&&i.DNE(0,Y,7,6,"div",36),2&r){const l=d.$implicit;i.vxM("success"!==(null==l?null:l.type)||null!=l&&l.deleted?-1:0)}}function H(r,d){if(1&r){const l=i.RV6();i.EFF(0),i.j41(1,"i",41),i.bIt("click",function(t){i.eBV(l);const n=i.XpG(2).$implicit,o=i.XpG().$implicit,s=i.XpG();return i.Njj(s.onUnlinkButton(t,n,o))}),i.k0s()}if(2&r){const l=i.XpG(2).$implicit;i.SpI(" ",null==l?null:l.linkNumber," ")}}function W(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",42),i.bIt("click",function(){i.eBV(l);const t=i.XpG(2).$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onEditButton(t,null==n?null:n.id))}),i.nrm(1,"i",34),i.k0s()}}function Z(r,d){if(1&r){const l=i.RV6();i.j41(0,"div",36)(1,"button",43),i.EFF(2),i.k0s(),i.j41(3,"button",38),i.bIt("click",function(){i.eBV(l);const t=i.XpG().$implicit,n=i.XpG().$implicit,o=i.XpG();return i.Njj(o.onLink(t,null==n?null:n.id))}),i.nrm(4,"i",32),i.DNE(5,H,2,1,"i",39),i.k0s(),i.DNE(6,W,2,0,"div",40),i.k0s()}if(2&r){const l=i.XpG().$implicit,e=i.XpG().$implicit;i.R7$(2),i.SpI(" ",null==l?null:l.text," "),i.R7$(),i.Y8G("ngClass",i.eq3(4,j,!(null!=l&&l.linkNumber&&(null==l?null:l.linkNumber)>0))),i.R7$(2),i.vxM(null!=l&&l.linkNumber&&(null==l?null:l.linkNumber)>0?5:-1),i.R7$(),i.vxM(null!=e&&e.isDefault?-1:6)}}function K(r,d){if(1&r&&i.DNE(0,Z,7,6,"div",36),2&r){const l=d.$implicit;i.vxM("failure"!==(null==l?null:l.type)||null!=l&&l.deleted?-1:0)}}function J(r,d){if(1&r){const l=i.RV6();i.j41(0,"button",6),i.bIt("click",function(){i.eBV(l);const t=i.XpG().$implicit,n=i.XpG();return i.Njj(n.onAddButton(null==t?null:t.id))}),i.nrm(1,"i",7),i.EFF(2," A\xf1adir bot\xf3n "),i.k0s()}}function Q(r,d){if(1&r&&(i.j41(0,"div",5)(1,"div",9)(2,"div",10),i.EFF(3),i.k0s(),i.j41(4,"div",11),i.DNE(5,E,5,0)(6,I,3,0,"button",12),i.k0s()(),i.j41(7,"div",13),i.Z7z(8,L,1,1,null,null,i.fX1),i.DNE(10,U,2,0,"button",14),i.k0s(),i.j41(11,"div",15)(12,"div",16)(13,"div",17)(14,"b"),i.EFF(15,"Acci\xf3n de \xe9xito"),i.k0s()(),i.j41(16,"div",11),i.Z7z(17,z,1,1,null,null,i.fX1),i.k0s()(),i.j41(19,"div",16)(20,"div",17)(21,"b"),i.EFF(22,"Acciones de fallo"),i.k0s()(),i.j41(23,"div",11),i.Z7z(24,K,1,1,null,null,i.fX1),i.DNE(26,J,3,0,"button",18),i.k0s()()()()),2&r){const l=d.$implicit;i.R7$(3),i.SpI(" ",null==l?null:l.title," "),i.R7$(2),i.vxM(null!=l&&l.hasChanged?5:-1),i.R7$(),i.vxM(null!=l&&l.isDefault?-1:6),i.R7$(2),i.Dyx(null==l?null:l.steps),i.R7$(2),i.vxM(null!=l&&l.isDefault?-1:10),i.R7$(7),i.Dyx(null==l?null:l.buttons),i.R7$(7),i.Dyx(null==l?null:l.buttons),i.R7$(2),i.vxM(null!=l&&l.isDefault?-1:26)}}const q=[{path:"",component:(()=>{var r;class d{constructor(e,t,n,o,s,c){this.modalService=e,this.sdk=t,this.toastService=n,this.service=o,this.headerService=s,this.asideService=c,this.toastConfig={text:"Selecciona un paso para vincularlo con este bot\xf3n",theme:"primary",fitContent:!0,icon:"fas fa-link",showCloseButton:!0},this.linkingMode={active:!1,button:null,pipeline:null},this.pipelinesCopy=[],this.pipelines=[]}ionViewWillEnter(){this.headerService.setConfig({title:"pipelines"}),this.getData()}getData(){var e=this;return(0,u.A)(function*(){yield e.getPipelines()})()}getPipelines(){var e=this;return(0,u.A)(function*(){const t=yield e.sdk.getPipelines({},{field:"createdAt",order:"asc"},{itemsPerPage:200,page:0},{steps:{filter:null,apply:!0,onlyCount:!1},buttons:{filter:null,apply:!0,onlyCount:!1}});if(t.success){var n;const o=(null==t||null===(n=t.success)||void 0===n?void 0:n.data)||[];e.pipelines=o.map(s=>(s.steps.sort((c,a)=>c.order-a.order),s))}0===e.pipelines.length&&(yield e.sdk.createDefaultsPipelines(),location.reload()),e.pipelinesCopy=g.cloneDeep(e.pipelines),e.updateLinksBetweenButtonsAndSteps()})()}updatePipelineAndReplaceLocal(e,t){var n=this;return(0,u.A)(function*(){const o=yield n.service.getPipelineByIdWithButtonsAndSteps(e.id);o&&(o.steps.sort((s,c)=>s.order-c.order),n.pipelines[t]=o,n.pipelinesCopy[t]=g.cloneDeep(o),console.log("AFTER PIPELINE",o),n.updateLinksBetweenButtonsAndSteps())})()}onSavePipeline(e){var t=this;return(0,u.A)(function*(){const n=t.pipelines.findIndex(o=>o.id===e.id);console.log("PREVIOUS PIPELINE",e),null!=e&&e.justCreated?(yield t.service.createPipeline(e),t.updatePipelineAndReplaceLocal(e,n)):(yield t.service.updatePipeline(e),t.updatePipelineAndReplaceLocal(e,n))})()}onClickStep(e,t){var n;if(null!==(n=this.linkingMode)&&void 0!==n&&n.active){const o=this.pipelines.findIndex(s=>{var c;return s.id===(null===(c=this.linkingMode.pipeline)||void 0===c?void 0:c.id)});if(-1===o)return;console.log("this.pipelines[index]",this.pipelines[o],o),this.pipelines[o].buttons=this.pipelines[o].buttons.map(s=>(s.id===this.linkingMode.button.id&&(s.stepToRedirectId=e.id,s.pipelineToRedirectId=t),s)),this.pipelines[o].hasChanged=!0,this.onCloseLinkingMode(),this.updateLinksBetweenButtonsAndSteps()}}onUnlinkButton(e,t,n){e.stopPropagation(),e.preventDefault();const o=this.pipelines.findIndex(c=>c.id===n.id);this.pipelines[o].buttons=this.pipelines[o].buttons.map(c=>(c.id===t.id&&(c.stepToRedirectId=null,c.pipelineToRedirectId=null),c)),this.pipelines[o].hasChanged=!0,this.updateLinksBetweenButtonsAndSteps()}onCloseLinkingMode(){this.linkingMode={active:!1,button:null,pipeline:null},document.querySelectorAll(".crm-pipeline-step").forEach(t=>{t.classList.remove("linking-mode")})}onLink(e,t){const n=this.pipelines.find(s=>s.id===t);null!=n&&n.id&&null!=n&&n.justCreated?this.toastService.showErrorToast("Debes guardar la pipeline antes de vincular botones"):(this.linkingMode={active:!0,button:e,pipeline:this.pipelines.find(s=>s.id===t)},document.querySelectorAll(".crm-pipeline-step").forEach(s=>{s.classList.add("linking-mode")}))}onAddPipeline(){var e=this;return(0,u.A)(function*(){const t=yield e.modalService.showCreatePipelineModal();if(null!=t&&t.data){const n=t.data;n.id=Math.random().toString(36).substring(7),n.buttons=[],n.steps=[],n.hasChanged=!0,n.justCreated=!0,n.buttons.push({id:Math.random().toString(36).substring(7),type:"success",text:"Pasar a ventas",justCreated:!0}),n.buttons.push({id:Math.random().toString(36).substring(7),type:"failure",text:"Pasar a soporte",justCreated:!0}),e.pipelines.push(n),e.pipelinesCopy.push(g.cloneDeep(n))}})()}onEditPipeline(e){var t=this;return(0,u.A)(function*(){const n=yield t.modalService.showCreatePipelineModal(e);if(null!=n&&n.data){var o;if(null!=n&&null!==(o=n.data)&&void 0!==o&&o.delete)return t.pipelines=t.pipelines.filter(_=>_.id!==e.id),t.pipelinesCopy=t.pipelinesCopy.filter(_=>_.id!==e.id),yield t.sdk.deletePipelineById(e.id),yield t.toastService.showSuccessToast("Pipeline eliminada correctamente"),void t.asideService.updateAside$.next(!0);const s=n.data,c={...e,...s},a=t.pipelines.findIndex(_=>_.id===c.id);t.pipelines[a]=c}t.checkIfPipelineChanged(e.id)})()}onAddStep(e){var t=this;return(0,u.A)(function*(){var n;const o=t.service.getAllStepsColors(null===(n=t.pipelines.find(c=>c.id===e))||void 0===n?void 0:n.steps),s=yield t.modalService.showCreatePipelineStepModal(null,o);if(console.log(s),null!=s&&s.data){const c=s.data;c.id=Math.random().toString(36).substring(7),c.justCreated=!0,c.order=t.pipelines.find(_=>_.id===e).steps.length;const a=t.pipelines.find(_=>_.id===e);a&&(a.steps||(a.steps=[]),a.steps.push(c)),t.checkIfPipelineChanged(e)}})()}onEditStep(e,t){var n=this;return(0,u.A)(function*(){var o,s;const c=n.service.getAllStepsColors(null===(o=n.pipelines.find(f=>f.id===t))||void 0===o?void 0:o.steps);if(null!==(s=n.linkingMode)&&void 0!==s&&s.active)return;const a=yield n.modalService.showCreatePipelineStepModal(e,c);if(console.log(a),null!=a&&a.data){var _;if(console.log("Hola"),null!=a&&null!==(_=a.data)&&void 0!==_&&_.delete)return void n.deleteStep(e,t);const f=a.data;if(console.log("STEP FORM",f),console.log("STEP",e),(null==f?void 0:f.color)!==(null==e?void 0:e.color)||(null==f?void 0:f.text)!==(null==e?void 0:e.text)){const m={...e,...f},h=n.pipelines.find(C=>C.id===t);if(h){const C=h.steps.findIndex(oi=>oi.id===m.id);h.steps[C]=m}}n.checkIfPipelineChanged(t)}})()}onAddButton(e){var t=this;return(0,u.A)(function*(){const n=yield t.modalService.showCreatePipelineButtonModal();if(null!=n&&n.data){const o=n.data;o.id=Math.random().toString(36).substring(7),o.justCreated=!0,console.log(o);const s=t.pipelines.find(c=>c.id===e);s&&s.buttons.push(o)}t.checkIfPipelineChanged(e)})()}onEditButton(e,t){var n=this;return(0,u.A)(function*(){const o=yield n.modalService.showCreatePipelineButtonModal(e);if(null!=o&&o.data){var s;if(null!=o&&null!==(s=o.data)&&void 0!==s&&s.delete)return void n.deleteButton(e,t);const c=o.data,a={...e,...c},_=n.pipelines.find(f=>f.id===t);if(_){const f=_.buttons.findIndex(m=>m.id===a.id);_.buttons[f]=a}n.checkIfPipelineChanged(t)}})()}checkIfPipelineChanged(e){const t=this.pipelines.find(c=>c.id===e),n=this.pipelinesCopy.find(c=>c.id===e),o=JSON.stringify(t)!==JSON.stringify(n),s=this.pipelines.findIndex(c=>c.id===e);this.pipelines[s].hasChanged=o}deleteStep(e,t){const n=this.pipelines.find(o=>o.id===t);if(n){const o=n.steps.findIndex(s=>s.id===e.id);n.steps[o].deleted=!0}this.checkIfPipelineChanged(t)}deleteButton(e,t){const n=this.pipelines.find(o=>o.id===t);if(n){const o=n.buttons.findIndex(s=>s.id===e.id);n.buttons[o].deleted=!0}this.checkIfPipelineChanged(t)}updateLinksBetweenButtonsAndSteps(){this.removeAllLinks();let e=0;const t={};this.pipelines.forEach(n=>{n.buttons.forEach(o=>{o.stepToRedirectId&&(t[o.stepToRedirectId]||(e++,t[o.stepToRedirectId]=e),o.linkNumber=t[o.stepToRedirectId])})}),this.pipelines.forEach(n=>{n.steps.forEach(o=>{t[o.id]&&(o.linkNumber=t[o.id])})})}removeAllLinks(){var e=this;return(0,u.A)(function*(){e.pipelines.forEach((t,n)=>{t.buttons.forEach((o,s)=>{o.linkNumber=null}),t.steps.forEach((o,s)=>{o.linkNumber=null})})})()}}return(r=d).\u0275fac=function(e){return new(e||r)(i.rXU($.M),i.rXU(F.i),i.rXU(x.f),i.rXU(G),i.rXU(B.d),i.rXU(y.e))},r.\u0275cmp=i.VBU({type:r,selectors:[["app-pipelines-configurator"]],decls:10,vars:3,consts:[[3,"fullscreen","scrollY"],[1,"crm-block-content"],[1,"crm-block-body"],[1,"crm-block-body-blue-content"],[1,"crm-pipelines-linking-toast"],[1,"crm-box","crm-section"],[1,"crm-button",3,"click"],[1,"fas","fa-plus"],[3,"closeToast","options"],[1,"crm-header-modal","crm-header-modal-empty","crm-header-modal-no-padding"],[1,"crm-section-title"],[1,"crm-buttons-group"],[1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-pipeline-steps-line"],[1,"crm-button","crm-button-icon-no-margin"],[1,"crm-pipeline-buttons"],[1,"crm-pipeline-buttons-block"],[1,"crm-text"],[1,"crm-button"],[1,"crm-text","crm-text-red"],[1,"fas","fa-save"],[1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fas","fa-edit"],[1,"crm-horizontal-separator"],[1,"crm-pipeline-step-with-link"],[1,"crm-pipeline-step","crm-pipeline-step-no-hover"],[1,"crm-pipeline-step","crm-pipeline-step-no-hover",3,"click"],[1,"crm-pipeline-step-aside-color",3,"ngStyle"],[1,"crm-pipeline-step-content"],[1,"crm-pipeline-step-text"],[1,"crm-pipeline-step-icon"],[1,"crm-button","crm-pipeline-button-link-link"],[1,"fas","fa-link"],[1,"crm-pipeline-step-icon",3,"click"],[1,"fas","fa-pencil"],[1,"crm-button","crm-button-icon-no-margin",3,"click"],[1,"crm-pipeline-button-link"],[1,"crm-button","crm-button-success","crm-pipeline-button-link-text"],[1,"crm-button","crm-pipeline-button-link-link",3,"click","ngClass"],[1,"fas","fa-close",2,"margin-left","8px","margin-right","0","font-size","14px"],[1,"crm-pipeline-button-link-icon"],[1,"fas","fa-close",2,"margin-left","8px","margin-right","0","font-size","14px",3,"click"],[1,"crm-pipeline-button-link-icon",3,"click"],[1,"crm-button","crm-button-red","crm-pipeline-button-link-text"]],template:function(e,t){1&e&&(i.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),i.DNE(4,R,2,1,"div",4),i.Z7z(5,Q,27,5,"div",5,i.fX1),i.j41(7,"button",6),i.bIt("click",function(){return t.onAddPipeline()}),i.nrm(8,"i",7),i.EFF(9," Crear pipeline "),i.k0s()()()()()),2&e&&(i.Y8G("fullscreen",!0)("scrollY",!1),i.R7$(4),i.vxM(null!=t.linkingMode&&t.linkingMode.active?4:-1),i.R7$(),i.Dyx(t.pipelines))},dependencies:[v.YU,v.B3,k.W9,X.l]}),d})()}];let ii=(()=>{var r;class d{}return(r=d).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.$C({type:r}),r.\u0275inj=i.G2t({imports:[b.iI.forChild(q),b.iI]}),d})();var ei=p(5641),ti=p(7774);let ni=(()=>{var r;class d{}return(r=d).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.$C({type:r}),r.\u0275inj=i.G2t({imports:[v.MD,T.YN,k.bv,ii,ei.D,ti.G]}),d})()}}]);