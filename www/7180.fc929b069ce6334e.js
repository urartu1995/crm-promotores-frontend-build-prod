"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7180],{2606:(U,k,a)=>{a.d(k,{O:()=>x});var n=a(3953),g=a(3955);const b=["tabElement"];function M(e,v){if(1&e){const f=n.RV6();n.j41(0,"div",3,0),n.bIt("click",function(){const u=n.eBV(f).$index,y=n.XpG();return n.Njj(y.onClickTab(u))}),n.EFF(2),n.nI1(3,"translate"),n.k0s()}if(2&e){const f=v.$implicit;n.AVh("active",f.active),n.R7$(2),n.SpI(" ",n.bMT(3,3,"text."+(null==f?null:f.title))||(null==f?null:f.title)," ")}}let x=(()=>{var e;class v{constructor(){this.tabs=[{id:"1",title:"general_overview",active:!0},{id:"2",title:"our_team",active:!1},{id:"3",title:"agencies",active:!1}],this.tabClicked=new n.bkB}ngOnChanges(d){if(d.activeTab&&this.activeTab&&this.tabs.length>0){const u=this.tabs.findIndex(y=>y.title===this.activeTab);-1!==u&&this.onClickTab(u)}}ngAfterViewInit(){const d=this.tabs.findIndex(u=>u.active)||0;-1!==d&&this.onClickTab(d)}onClickTab(d){console.log("HEY",d),this.tabs.forEach((u,y)=>{u.active=y===d}),this.tabClicked.emit(this.tabs[d].title),this.updateActiveTab(d)}updateActiveTab(d){setTimeout(()=>{var u;const y=null===(u=this.tabElements.get(d))||void 0===u?void 0:u.nativeElement;if(y){const V=y.offsetLeft;document.documentElement.style.setProperty("--indicator-width",y.offsetWidth-12+"px"),document.documentElement.style.setProperty("--indicator-left",`${V}px`)}},0)}}return(e=v).\u0275fac=function(d){return new(d||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-tabs"]],viewQuery:function(d,u){if(1&d&&n.GBs(b,5),2&d){let y;n.mGM(y=n.lsd())&&(u.tabElements=y)}},inputs:{tabs:"tabs",activeTab:"activeTab"},outputs:{tabClicked:"tabClicked"},standalone:!0,features:[n.OA$,n.aNF],decls:3,vars:0,consts:[["tabElement",""],[1,"crm-tabs"],[1,"crm-tabs-tab",3,"active"],[1,"crm-tabs-tab",3,"click"]],template:function(d,u){1&d&&(n.j41(0,"div",1),n.Z7z(1,M,4,5,"div",2,n.fX1),n.k0s()),2&d&&(n.R7$(),n.Dyx(u.tabs))},dependencies:[g.h,g.D9]}),v})()},1129:(U,k,a)=>{a.d(k,{Z:()=>x});var n=a(3953),g=a(6069),b=a(1982);function M(e,v){if(1&e){const f=n.RV6();n.j41(0,"app-country-selector-popover",4),n.bIt("countrySelected",function(u){n.eBV(f);const y=n.XpG();return n.Njj(y.selectCountry(u))})("closePopover",function(){n.eBV(f);const u=n.XpG();return n.Njj(u.dropdownOpen=!1)}),n.k0s()}2&e&&n.Y8G("showCountryCode",!0)}let x=(()=>{var e;class v{constructor(){this.emitCountrySelected=new n.bkB,this.countries=g.X,this.selectedCountry=g.X[0],this.dropdownOpen=!1}ngOnChanges(){const d=this.extractCountryPhoneCodeFromPhoneNumber(this.selectedPhoneNumber);d!==this.extractCountryPhoneCodeFromPhoneNumber(this.selectedCountry.phoneCode)&&this.selectCountryByPhoneCode(d)}toggleDropdown(d){d.stopPropagation(),this.dropdownOpen=!this.dropdownOpen}selectCountry(d){d.event.stopPropagation(),this.selectedCountry=d.country,this.emitCountrySelected.emit(d.country),this.dropdownOpen=!1}selectCountryByPhoneCode(d){const u=this.countries.find(y=>y.phoneCode===d);u&&(this.selectedCountry=u,this.emitCountrySelected.emit(u))}extractCountryPhoneCodeFromPhoneNumber(d){return null==d?void 0:d.split(" ")[0]}}return(e=v).\u0275fac=function(d){return new(d||e)},e.\u0275cmp=n.VBU({type:e,selectors:[["app-flag-country-selector"]],inputs:{selectedPhoneNumber:"selectedPhoneNumber"},outputs:{emitCountrySelected:"emitCountrySelected"},features:[n.OA$],decls:5,vars:3,consts:[["tabindex","0",1,"flag-country-selector-container",3,"click"],[1,"selected-country"],[1,"fas","fa-caret-down","dropdown-arrow"],[3,"showCountryCode"],[3,"countrySelected","closePopover","showCountryCode"]],template:function(d,u){1&d&&(n.j41(0,"div",0),n.bIt("click",function(G){return u.toggleDropdown(G)}),n.j41(1,"div",1),n.nrm(2,"span")(3,"i",2),n.k0s(),n.DNE(4,M,1,1,"app-country-selector-popover",3),n.k0s()),2&d&&(n.R7$(2),n.HbH(null==u.selectedCountry?null:u.selectedCountry.flagClass),n.R7$(2),n.vxM(u.dropdownOpen?4:-1))},dependencies:[b.u],styles:[".flag-country-selector-container[_ngcontent-%COMP%]{position:relative;width:50px;cursor:pointer;color:#000}.selected-country[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px;width:50px}.dropdown-arrow[_ngcontent-%COMP%]{margin-left:8px}.dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:200px;z-index:9999;background-color:#fff;border:1px solid #ccc;padding:8px 0;border-radius:12px;border:1px solid var(--crm-border-light-color);color:#000;max-height:150px;overflow-y:auto}.option[_ngcontent-%COMP%]{padding:8px;display:flex;align-items:center;cursor:pointer;font-size:14px}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;display:inline-block;margin-right:8px}.option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.flag-country-selector-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:#000}.selected-country[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;width:18px;height:18px}"]}),v})()},6812:(U,k,a)=>{a.d(k,{u:()=>x});var n=a(177),g=a(9417),b=a(7754),M=a(3953);let x=(()=>{var e;class v{}return(e=v).\u0275fac=function(d){return new(d||e)},e.\u0275mod=M.$C({type:e}),e.\u0275inj=M.G2t({imports:[n.MD,g.YN,b.X]}),v})()},7754:(U,k,a)=>{a.d(k,{X:()=>e});var n=a(177),g=a(9417),b=a(9465),M=a(3955),x=a(3953);let e=(()=>{var v;class f{}return(v=f).\u0275fac=function(u){return new(u||v)},v.\u0275mod=x.$C({type:v}),v.\u0275inj=x.G2t({imports:[n.MD,g.YN,b.bv,M.h]}),f})()},4821:(U,k,a)=>{a.d(k,{e:()=>g});var n=a(3953);let g=(()=>{var b;class M{constructor(e){this.renderer=e,this.text="",this.maxLength=20,this.tooltipClass="",this.tooltipElement=null}ngOnInit(){}get trimmedText(){return this.text?this.text.length>this.maxLength?this.text.slice(0,this.maxLength)+"...":this.text:""}showTooltip(e){this.text.length<=this.maxLength||(this.tooltipElement=this.renderer.createElement("div"),this.tooltipElement.innerText=this.text,this.renderer.addClass(this.tooltipElement,"custom-tooltip"),this.tooltipClass&&this.tooltipClass.split(" ").forEach(f=>{f.trim()&&this.renderer.addClass(this.tooltipElement,f.trim())}),this.renderer.setStyle(this.tooltipElement,"position","fixed"),this.renderer.setStyle(this.tooltipElement,"top",e.clientY-30+"px"),this.renderer.setStyle(this.tooltipElement,"left",`${e.clientX}px`),this.renderer.setStyle(this.tooltipElement,"z-index","9999"),this.renderer.appendChild(document.body,this.tooltipElement))}hideTooltip(){this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}}return(b=M).\u0275fac=function(e){return new(e||b)(n.rXU(n.sFG))},b.\u0275cmp=n.VBU({type:b,selectors:[["app-tooltip-text"]],inputs:{text:"text",maxLength:"maxLength",tooltipClass:"tooltipClass"},standalone:!0,features:[n.aNF],decls:2,vars:1,consts:[[1,"text",3,"mouseenter","mouseleave"]],template:function(e,v){1&e&&(n.j41(0,"span",0),n.bIt("mouseenter",function(d){return v.showTooltip(d)})("mouseleave",function(){return v.hideTooltip()}),n.EFF(1),n.k0s()),2&e&&(n.R7$(),n.SpI(" ",v.trimmedText,"\n"))}}),M})()},7141:(U,k,a)=>{a.d(k,{S:()=>g});var n=a(3953);let g=(()=>{var b;class M{constructor(e,v){this.el=e,this.renderer=v,this.disabled=!1}ngAfterViewInit(){this.updateVisibility()}ngOnChanges(e){this.updateVisibility()}updateVisibility(){if(!this.disabled)return this.renderer.setStyle(this.el.nativeElement,"display","block"),void this.renderer.removeStyle(this.el.nativeElement,"height");this.disabled&&this.isEmpty(this.value)?(this.renderer.setStyle(this.el.nativeElement,"display","none"),this.renderer.setStyle(this.el.nativeElement,"height","0")):(this.renderer.setStyle(this.el.nativeElement,"display","block"),this.renderer.removeStyle(this.el.nativeElement,"height"))}isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length}}return(b=M).\u0275fac=function(e){return new(e||b)(n.rXU(n.aKT),n.rXU(n.sFG))},b.\u0275dir=n.FsC({type:b,selectors:[["","appHideIfNoData",""]],inputs:{value:[0,"appHideIfNoData","value"],disabled:"disabled"},standalone:!0,features:[n.OA$]}),M})()},240:(U,k,a)=>{a.r(k),a.d(k,{PromoterDetailsPageModule:()=>bt});var n=a(177),g=a(9417),b=a(9465),M=a(5188),x=a(467),e=a(3953),v=a(8397),f=a(4501),d=a(2081),u=a(3955),y=a(2606),G=a(1213),V=a(6552),H=a(9520),z=a(904),L=a(4558);const h=["scrollContainer"];function j(r,s){if(1&r&&(e.j41(0,"div",12)(1,"div",51)(2,"div",52),e.nrm(3,"span"),e.k0s()()()),2&r){let i;const o=s.$implicit,t=e.XpG();e.R7$(3),e.HbH(null==(i=t.utils.getLanguageInfo(o))?null:i.flagClass)}}function F(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.instagramUrl))}),e.nrm(1,"i",54),e.k0s()}}function _(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.facebookUrl))}),e.nrm(1,"i",55),e.k0s()}}function w(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.linkedinUrl))}),e.nrm(1,"i",56),e.k0s()}}function W(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",53),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.goToUrl(t.promoter.twitterUrl))}),e.nrm(1,"i",57),e.k0s()}}function _e(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",58)(1,"div",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",59),e.nrm(5,"img",60),e.k0s(),e.j41(6,"div",61),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onDownloadCatalogue())}),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,2,"text.discover_catalog")," "),e.R7$(5),e.SpI(" ",e.bMT(8,4,"text.download")," "))}function fe(r,s){if(1&r&&e.nrm(0,"app-card-promotion",37),2&r){const i=s.$implicit;e.Y8G("hideCheckbox",!0)("promotion",i)}}function ge(r,s){if(1&r&&e.nrm(0,"app-card-system-user",38),2&r){const i=s.$implicit;e.Y8G("showCheckbox",!1)("user",i)}}function ve(r,s){if(1&r&&(e.j41(0,"div",62)(1,"div",63)(2,"div",64),e.EFF(3),e.k0s(),e.j41(4,"div",65),e.EFF(5),e.k0s()(),e.nrm(6,"div",66),e.j41(7,"div",67)(8,"div",68),e.nrm(9,"i",69),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",68),e.nrm(13,"i",70),e.j41(14,"span"),e.EFF(15),e.k0s()(),e.j41(16,"div",68),e.nrm(17,"i",71),e.j41(18,"span"),e.EFF(19),e.k0s()()()()),2&r){const i=s.$implicit;e.R7$(3),e.SpI(" ",(null==i?null:i.city)||"Valencia"," "),e.R7$(2),e.Lme(" ",null==i?null:i.address,", ",null==i?null:i.postalCode," "),e.R7$(6),e.JRh((null==i?null:i.phoneNumber)||"+48 608 188 424"),e.R7$(4),e.JRh((null==i?null:i.email)||"office.poland@luxinmo.pl"),e.R7$(4),e.JRh((null==i?null:i.web)||"www.luxinmo.com")}}let he=(()=>{var r;class s{constructor(o,t,l){this.byvaroState=o,this.utils=t,this.api=l,this.promoter=null,this.user=null,this.users=[],this.canEdit=!1,this.sort=null,this.pagination={page:0,itemsPerPage:50},this.promoterCountry=null}ngOnInit(){var o=this;this.byvaroState.getState().subscribe(function(){var t=(0,x.A)(function*(l){var m,c;o.user=l.user,(null==l||null===(m=l.user)||void 0===m?void 0:m.promoterId)===(null===(c=o.promoter)||void 0===c?void 0:c.id)&&(o.canEdit=!0)});return function(l){return t.apply(this,arguments)}}()),this.getData()}getData(){var o=this;return(0,x.A)(function*(){try{var t,l;let m={};o.promoterCountry=o.utils.getCountryInfo(null===(t=o.promoter)||void 0===t?void 0:t.country);const c=yield o.api.getUser(m,o.sort,o.pagination);null!=c&&null!==(l=c.success)&&void 0!==l&&l.data&&(o.users=c.success.data)}catch(m){console.error(m)}})()}goToUrl(o){window.open(o,"_blank")}scrollLeft(){this.scrollContainer.nativeElement.scrollBy({left:-550,behavior:"smooth"})}scrollRight(){this.scrollContainer.nativeElement.scrollBy({left:550,behavior:"smooth"})}onDownloadCatalogue(){var o;const t=null===(o=this.promoter)||void 0===o||null===(o=o.promoterFiles)||void 0===o?void 0:o.find(l=>"catalog"===l.category);t&&window.open(t.url,"_blank")}}return(r=s).\u0275fac=function(o){return new(o||r)(e.rXU(G.c),e.rXU(V.T),e.rXU(d.i))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details-presentation"]],viewQuery:function(o,t){if(1&o&&e.GBs(h,5),2&o){let l;e.mGM(l=e.lsd())&&(t.scrollContainer=l.first)}},inputs:{promoter:"promoter"},decls:138,vars:74,consts:[[1,"crm-section",2,"gap","16px","padding","20px"],[1,"promoter-banner"],[1,"promoter-banner-img"],["alt","",3,"src"],[1,"promoter-banner-bottom"],[1,"promoter-banner-bottom-image"],[1,"promoter-banner-bottom-info"],[2,"display","flex","flex-direction","column","gap","4px"],[1,"crm-block-photo-and-info-info-title"],[1,"crm-block-photo-and-info-info-footer"],[1,"fa-solid","fa-calendar"],[1,"crm-info-content-langs-langs",2,"overflow","hidden"],[1,"crm-item-option","crm-item-option-lang"],[1,"promoter-block"],[1,"promoter-block-title"],[1,"promoter-block-rowdata"],[1,"promoter-block-rowdata-text"],[2,"display","flex","align-items","center","gap","8px"],[1,"fa-solid","fa-location-dot"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"promoter-block-rowdata-text",2,"width","fit-content"],["style","cursor: pointer;",3,"click",4,"ngIf"],[1,"promoter-block","promoter-block-empty"],[1,"promoter-number-quantities"],[1,"promoter-number-quantities-block"],[1,"promoter-number-quantities-block-title"],[1,"promoter-number-quantities-block-number"],[1,"promoter-block-helper-text"],[1,"promoter-block","promoter-about-us"],[2,"display","flex","flex-direction","column","gap","16px","flex","1"],[1,"promoter-about-us-block"],[1,"promoter-block-text"],["class","promoter-about-us-catalogue",4,"ngIf"],[1,"promoter-block","promoter-block-empty",2,"gap","16px"],[1,"crm-section-inline-cards-wrapper"],[1,"crm-section-inline-cards"],[2,"border","none !important",3,"hideCheckbox","promotion"],[3,"showCheckbox","user"],[1,"promoter-block-double"],[1,"promoter-offices-list"],["class","promoter-office-card",4,"ngFor","ngForOf"],[1,"promoter-portals-grid"],["src","https://logo.clearbit.com/habitaclia.com","alt","habitaclia"],["src","https://logo.clearbit.com/tucasa.com","alt","tucasa"],["src","https://logo.clearbit.com/wallapop.com","alt","wallapop"],["src","https://logo.clearbit.com/idealista.com","alt","idealista"],["src","https://logo.clearbit.com/fotocasa.es","alt","fotocasa"],["src","https://logo.clearbit.com/enalquiler.com","alt","enalquiler"],["src","https://logo.clearbit.com/yaencontre.com","alt","yaencontre"],["src","https://logo.clearbit.com/pisos.com","alt","pisos"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[2,"cursor","pointer",3,"click"],[1,"fa-brands","fa-instagram",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-facebook",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-linkedin",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"fa-brands","fa-twitter",2,"font-family","'Font Awesome 6 Brands' !important","font-size","18px"],[1,"promoter-about-us-catalogue"],[1,"catalogue-image"],["src","assets/images/catalogue.png","alt",""],[1,"crm-button-secondary",3,"click"],[1,"promoter-office-card"],[1,"promoter-office-header"],[1,"promoter-office-title"],[1,"promoter-office-address"],[1,"promoter-office-separator"],[1,"promoter-office-contact"],[1,"promoter-office-contact-item"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-globe"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"div",5),e.nrm(6,"img",3),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"div",8),e.EFF(10),e.k0s(),e.j41(11,"div",9),e.nrm(12,"i",10),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div")(16,"div",11),e.Z7z(17,j,4,2,"div",12,e.fX1),e.k0s()()()()(),e.j41(19,"div",13)(20,"div",14),e.EFF(21),e.k0s(),e.j41(22,"div",15)(23,"div",16)(24,"div",17),e.nrm(25,"i",18),e.EFF(26),e.k0s(),e.j41(27,"div"),e.EFF(28),e.k0s()(),e.j41(29,"div",16)(30,"div"),e.EFF(31),e.k0s(),e.j41(32,"div"),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"div",16)(36,"div",17),e.nrm(37,"i",19),e.EFF(38),e.k0s(),e.j41(39,"div",17),e.nrm(40,"i",20),e.EFF(41),e.k0s()(),e.j41(42,"div",21)(43,"div",17),e.DNE(44,F,2,0,"div",22)(45,_,2,0,"div",22)(46,w,2,0,"div",22)(47,W,2,0,"div",22),e.k0s(),e.j41(48,"div"),e.EFF(49),e.k0s()()()(),e.j41(50,"div",23)(51,"div",24)(52,"div",25)(53,"div",26),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"div",27),e.EFF(57),e.nI1(58,"thousandSeparator"),e.k0s()(),e.j41(59,"div",25)(60,"div",26),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"div",27),e.EFF(64),e.nI1(65,"thousandSeparator"),e.k0s()(),e.j41(66,"div",25)(67,"div",26),e.EFF(68),e.nI1(69,"translate"),e.k0s(),e.j41(70,"div",27),e.EFF(71),e.k0s()(),e.j41(72,"div",25)(73,"div",26),e.EFF(74),e.nI1(75,"translate"),e.k0s(),e.j41(76,"div",27),e.EFF(77),e.k0s()(),e.j41(78,"div",25)(79,"div",26),e.EFF(80),e.nI1(81,"translate"),e.k0s(),e.j41(82,"div",27),e.EFF(83),e.k0s()()(),e.j41(84,"div",28),e.EFF(85),e.nI1(86,"translate"),e.k0s()(),e.j41(87,"div",29)(88,"div",30)(89,"div",31)(90,"div",14),e.EFF(91),e.nI1(92,"translate"),e.k0s(),e.j41(93,"div",32),e.EFF(94),e.k0s()(),e.j41(95,"div",31)(96,"div",14),e.EFF(97),e.nI1(98,"translate"),e.k0s(),e.j41(99,"div",32),e.EFF(100),e.k0s()()(),e.DNE(101,_e,9,6,"div",33),e.k0s(),e.j41(102,"div",34)(103,"div",14),e.EFF(104),e.nI1(105,"translate"),e.k0s(),e.j41(106,"div",35)(107,"div",36),e.Z7z(108,fe,1,2,"app-card-promotion",37,e.fX1),e.k0s()()(),e.j41(110,"div",13)(111,"div",14),e.EFF(112),e.nI1(113,"translate"),e.k0s(),e.j41(114,"div",35)(115,"div",36),e.Z7z(116,ge,1,2,"app-card-system-user",38,e.fX1),e.k0s()()(),e.j41(118,"div",39)(119,"div",34)(120,"div",14),e.EFF(121),e.nI1(122,"translate"),e.k0s(),e.j41(123,"div",40),e.DNE(124,ve,20,6,"div",41),e.k0s()(),e.j41(125,"div",34)(126,"div",14),e.EFF(127),e.nI1(128,"translate"),e.k0s(),e.j41(129,"div",42),e.nrm(130,"img",43)(131,"img",44)(132,"img",45)(133,"img",46)(134,"img",47)(135,"img",48)(136,"img",49)(137,"img",50),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("src",(null==t.promoter?null:t.promoter.bannerUrl)||"assets/images/banner-agency-model.png",e.B4B),e.R7$(3),e.Y8G("src",(null==t.promoter?null:t.promoter.photoUrl)||"assets/images/agency-photo-model.png",e.B4B),e.R7$(4),e.SpI(" ",null==t.promoter?null:t.promoter.name," "),e.R7$(3),e.LHq(" ",e.bMT(14,42,"text.founded_in")," ",null==t.promoter?null:t.promoter.foundationYear," / ",null==t.promoter?null:t.promoter.city," / ",null==t.promoterCountry?null:t.promoterCountry.name," "),e.R7$(4),e.Dyx(null==t.promoter?null:t.promoter.languages),e.R7$(4),e.SpI(" ",(null==t.promoter?null:t.promoter.legalName)||"Luxinmo Real State SLU"," "),e.R7$(5),e.Lme(" ",(null==t.promoterCountry?null:t.promoterCountry.name)||""," / ",(null==t.promoter?null:t.promoter.city)||""," "),e.R7$(2),e.SpI(" ",(null==t.promoter?null:t.promoter.address)||""," "),e.R7$(3),e.SpI(" NIF/CIF: ",(null==t.promoter?null:t.promoter.nifCif)||""," "),e.R7$(2),e.Lme(" ",e.bMT(34,44,"text.postal_code"),": ",(null==t.promoter?null:t.promoter.postalCode)||""," "),e.R7$(5),e.SpI(" ",(null==t.promoter||null==t.promoter.phones?null:t.promoter.phones[0])||""," "),e.R7$(3),e.SpI(" ",(null==t.promoter||null==t.promoter.emails?null:t.promoter.emails[0])||""," "),e.R7$(3),e.Y8G("ngIf",null==t.promoter?null:t.promoter.instagramUrl),e.R7$(),e.Y8G("ngIf",null==t.promoter?null:t.promoter.facebookUrl),e.R7$(),e.Y8G("ngIf",null==t.promoter?null:t.promoter.linkedinUrl),e.R7$(),e.Y8G("ngIf",null==t.promoter?null:t.promoter.twitterUrl),e.R7$(2),e.SpI(" ",null==t.promoter?null:t.promoter.webUrl," "),e.R7$(5),e.SpI(" ",e.bMT(55,46,"text.annual_sales")," "),e.R7$(3),e.SpI(" +",e.bMT(58,48,null==t.promoter?null:t.promoter.annualSales)||"-"," "),e.R7$(4),e.SpI(" ",e.bMT(62,50,"text.annual_revenue")," "),e.R7$(3),e.SpI(" +",e.bMT(65,52,null==t.promoter?null:t.promoter.annualRevenue)||"-"," "),e.R7$(4),e.SpI(" ",e.bMT(69,54,"text.portfolio_size")," "),e.R7$(3),e.SpI(" ",(null==t.promoter?null:t.promoter.portfolioSize)||"-"," "),e.R7$(3),e.SpI(" ",e.bMT(75,56,"text.agents")," "),e.R7$(3),e.SpI(" ",(null==t.users?null:t.users.length)||"-"," "),e.R7$(3),e.SpI(" ",e.bMT(81,58,"text.offices")," "),e.R7$(3),e.SpI(" ",(null==t.promoter||null==t.promoter.promoterOffices?null:t.promoter.promoterOffices.length)||"-"," "),e.R7$(2),e.SpI(" ",e.bMT(86,60,"text.info_provided_by_promoter")," "),e.R7$(6),e.SpI(" ",e.bMT(92,62,"text.about_us")," "),e.R7$(3),e.SpI(" ",null==t.promoter?null:t.promoter.aboutUs," "),e.R7$(3),e.SpI(" ",e.bMT(98,64,"text.our_history")," "),e.R7$(3),e.SpI(" ",null==t.promoter?null:t.promoter.storyAboutUs," "),e.R7$(),e.Y8G("ngIf",(null==t.promoter||null==t.promoter.promoterFiles?null:t.promoter.promoterFiles.length)>0),e.R7$(3),e.SpI(" ",e.bMT(105,66,"text.featured_promotions")," "),e.R7$(4),e.Dyx(null==t.promoter?null:t.promoter.promotions),e.R7$(4),e.SpI(" ",e.bMT(113,68,"text.team")," "),e.R7$(4),e.Dyx(null==t.promoter?null:t.promoter.users),e.R7$(5),e.JRh(e.bMT(122,70,"text.offices")),e.R7$(3),e.Y8G("ngForOf",null==t.promoter?null:t.promoter.promoterOffices),e.R7$(3),e.JRh(e.bMT(128,72,"text.following_real_estate_portals")))},dependencies:[n.Sq,n.bT,H.k,z.X,L.w,u.D9],styles:[".promoter-block[_ngcontent-%COMP%]{padding:20px;border-radius:12px;background:#fff;max-width:1000px;border:none;gap:16px;display:flex;flex-direction:column}.promoter-block-empty[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--crm-border-light-color);gap:0}.promoter-block[_ngcontent-%COMP%]   .crm-section-inline-cards[_ngcontent-%COMP%]{display:flex;gap:16px;overflow-x:auto;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none;white-space:nowrap;max-width:100%;padding:8px 0;flex-wrap:nowrap}.promoter-block[_ngcontent-%COMP%]   .crm-section-inline-cards[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.promoter-block-helper-text[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:var(--crm-font-color-light);width:100%;text-align:right}.promoter-block-title[_ngcontent-%COMP%]{font-size:var(--crm-font-size);font-weight:600}.promoter-block-text[_ngcontent-%COMP%]{font-size:var(--crm-font-size);font-weight:400;color:var(--crm-font-color-light);line-height:1.5}.promoter-number-quantities[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:60%}.promoter-number-quantities-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.promoter-number-quantities-block-title[_ngcontent-%COMP%]{font-size:12px}.promoter-number-quantities-block-number[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.promoter-block-rowdata[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.promoter-block-rowdata-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:25%;font-size:var(--crm-font-size);font-weight:400;color:var(--crm-font-color-light)}.promoter-block-rowdata-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.promoter-banner[_ngcontent-%COMP%]{max-width:1000px}.promoter-banner-img[_ngcontent-%COMP%]{max-width:1000px;border-top-right-radius:12px;border-top-left-radius:12px;height:220px}.promoter-banner-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-right-radius:12px;border-top-left-radius:12px}.promoter-banner-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-bottom-right-radius:12px;border-bottom-left-radius:12px;padding-bottom:12px}.promoter-banner-bottom-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1;padding:16px}.promoter-banner-bottom-info[_ngcontent-%COMP%]   .crm-info-content-langs-langs[_ngcontent-%COMP%]{background:#ebebeb;border-radius:100px;padding:5px 8px}.promoter-banner-bottom-info[_ngcontent-%COMP%]   .crm-info-content-langs-langs[_ngcontent-%COMP%]   .crm-item-option-flag[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:1.333333em;height:auto;font-size:13px}.promoter-banner-bottom-image[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border:2px solid #fff;margin-top:-50px;margin-left:24px;background:#fff}.promoter-banner-bottom-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.promoter-about-us[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:nowrap;flex-direction:row}.promoter-about-us-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.promoter-about-us-catalogue[_ngcontent-%COMP%]{border:1px solid var(--crm-border-light-color);padding:12px;border-radius:8px;max-width:230px;min-width:230px;flex:1;display:flex;flex-direction:column;gap:12px}.promoter-about-us-catalogue[_ngcontent-%COMP%]   .crm-button-secondary[_ngcontent-%COMP%]{margin:auto}.catalogue-image[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;border-radius:8px;overflow:hidden;position:relative}.catalogue-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%;object-fit:cover;max-width:180px}.promotion-card__content[_ngcontent-%COMP%]{border:none!important}.promoter-block-double[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:nowrap;max-width:1000px}.promoter-block-double[_ngcontent-%COMP%]   .promoter-block[_ngcontent-%COMP%]{width:50%}.promoter-offices-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.promoter-office-card[_ngcontent-%COMP%]{max-width:280px;width:100%;background:#fff;border-radius:12px;padding:16px;display:flex;flex-direction:column;gap:12px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--crm-font-color)}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-address[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:var(--crm-font-color-light);line-height:1.4}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-separator[_ngcontent-%COMP%]{border-top:1px solid #eaeaea;margin:4px 0}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--crm-font-color)}.promoter-office-card[_ngcontent-%COMP%]   .promoter-office-contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:var(--crm-font-color-light)}.promoter-portals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:12px}.promoter-portals-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:90px;height:auto;object-fit:contain;border-radius:8px;background:#f9f9f9;padding:6px;box-shadow:0 0 0 1px #eee}"]}),s})();var S=a(7376),be=a(5312);let Ce=(()=>{var r;class s{constructor(o){this.fb=o,this.initForm()}initForm(){this.promoterForm=this.fb.group({name:["",g.k0.required],facebookUrl:[""],instagramUrl:[""],linkedinUrl:[""],twitterUrl:[""],webUrl:[""],aboutUs:[""],storyAboutUs:[""],legalName:[""],foundationYear:[null],nifCif:[""],annualSales:[null],annualRevenue:[null],portfolioSize:[null],country:[""],city:[""],address:[""],postalCode:[""],province:[""],extraHtmlWeb:[""],webH1:[""],webH2:[""],webDescription:[""],webClientsCount:[null],webCitiesCount:[null],webYearsCount:[null],phones:this.fb.array([this.createPhoneGroup()]),emails:this.fb.array([this.createEmailGroup()])})}populateForm(o){var t,l,m,c,P,E,D,T,$,I,B,X,O,Y,p,C,R,A,Q,q,ee,te,oe,ne,re,ie,le,ae;this.promoterForm.patchValue({name:null!==(t=o.name)&&void 0!==t?t:"",facebookUrl:null!==(l=o.facebookUrl)&&void 0!==l?l:"",instagramUrl:null!==(m=o.instagramUrl)&&void 0!==m?m:"",linkedinUrl:null!==(c=o.linkedinUrl)&&void 0!==c?c:"",twitterUrl:null!==(P=o.twitterUrl)&&void 0!==P?P:"",webUrl:null!==(E=o.webUrl)&&void 0!==E?E:"",aboutUs:null!==(D=o.aboutUs)&&void 0!==D?D:"",storyAboutUs:null!==(T=o.storyAboutUs)&&void 0!==T?T:"",legalName:null!==($=o.legalName)&&void 0!==$?$:"",foundationYear:null!==(I=o.foundationYear)&&void 0!==I?I:null,nifCif:null!==(B=o.nifCif)&&void 0!==B?B:"",annualSales:null!==(X=o.annualSales)&&void 0!==X?X:null,annualRevenue:null!==(O=o.annualRevenue)&&void 0!==O?O:null,portfolioSize:null!==(Y=o.portfolioSize)&&void 0!==Y?Y:null,country:null!==(p=o.country)&&void 0!==p?p:"",city:null!==(C=o.city)&&void 0!==C?C:"",address:null!==(R=o.address)&&void 0!==R?R:"",postalCode:null!==(A=o.postalCode)&&void 0!==A?A:"",province:null!==(Q=o.province)&&void 0!==Q?Q:"",extraHtmlWeb:null!==(q=o.extraHtmlWeb)&&void 0!==q?q:"",webH1:null!==(ee=o.webH1)&&void 0!==ee?ee:"",webH2:null!==(te=o.webH2)&&void 0!==te?te:"",webDescription:null!==(oe=o.webDescription)&&void 0!==oe?oe:"",webClientsCount:null!==(ne=o.webClientsCount)&&void 0!==ne?ne:null,webCitiesCount:null!==(re=o.webCitiesCount)&&void 0!==re?re:null,webYearsCount:null!==(ie=o.webYearsCount)&&void 0!==ie?ie:null}),this.phones.clear(),null===(le=o.phones)||void 0===le||le.forEach(se=>{this.phones.push(this.fb.group({phoneNumber:[se,[g.k0.pattern(/^\d+$/)]]}))}),this.emails.clear(),null===(ae=o.emails)||void 0===ae||ae.forEach(se=>{this.emails.push(this.fb.group({emailAddress:[se,[g.k0.email]]}))})}createPhoneGroup(){return this.fb.group({phoneNumber:["",[g.k0.pattern(/^\d+$/)]]})}createEmailGroup(){return this.fb.group({emailAddress:["",[g.k0.email]]})}get phones(){return this.promoterForm.get("phones")}get emails(){return this.promoterForm.get("emails")}addPhone(){this.phones.push(this.createPhoneGroup())}removePhone(o){this.phones.removeAt(o)}addEmail(){this.emails.push(this.createEmailGroup())}removeEmail(o){this.emails.removeAt(o)}onSelectCountry(o,t){var l;null===(l=this.phones.at(t).get("country"))||void 0===l||l.setValue(o)}}return(r=s).\u0275fac=function(o){return new(o||r)(e.KVO(g.ok))},r.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();var Ie=a(5970),xe=a(1792),Me=a(1129),de=a(6279),ye=a(7141);const Fe=["fileUploaderManagerComponent"],Pe=["bannerFileUploaderManagerComponent"],ke=["catalogFileUploaderManagerComponent"],Re=["imagesUploaderManagerComponent"],Ee=["mainImageUploaderManagerComponent"],J=r=>({"crm-section-disabled-inputs":r}),K=r=>({"crm-input-input-error":r}),Z=r=>({field:r}),pe=r=>({"crm-section-invisible":r}),Te=r=>({edit:r}),ce=r=>({number:r}),me=r=>({item:r}),N=()=>({standalone:!0});function je(r,s){if(1&r){const i=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onSaveUser())}),e.nrm(1,"i",58),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.save")," "))}function De(r,s){if(1&r){const i=e.RV6();e.j41(0,"button",59),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onEditUser())}),e.nrm(1,"i",60),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.edit")," "))}function $e(r,s){if(1&r&&e.DNE(0,je,4,3,"button",55)(1,De,4,3,"button",56),2&r){const i=e.XpG();e.vxM(i.editing?0:1)}}function we(r,s){1&r&&(e.j41(0,"div",10),e.EFF(1," Banner "),e.k0s())}function Se(r,s){1&r&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.catalog")," "))}function Oe(r,s){1&r&&(e.j41(0,"div",61),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function Ue(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",66),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$implicit,l=e.XpG();return e.Njj(l.onRemoveLanguage(t))}),e.nrm(1,"i",67),e.k0s()}}function Ge(r,s){if(1&r&&(e.j41(0,"div",21)(1,"div",62)(2,"div",63),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",64),e.EFF(5),e.k0s()(),e.DNE(6,Ue,2,0,"div",65),e.k0s()),2&r){let i,o;const t=s.$implicit,l=e.XpG();e.Y8G("ngClass",e.eq3(5,Te,!l.disabled)),e.R7$(3),e.HbH(null==(i=l.getLanguageInfo(t))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(o=l.getLanguageInfo(t))?null:o.name," "),e.R7$(),e.vxM(l.disabled?-1:6)}}function Ne(r,s){if(1&r){const i=e.RV6();e.j41(0,"button",68),e.bIt("click",function(t){e.eBV(i);const l=e.XpG();return e.Njj(l.onAddLanguage(t))}),e.nrm(1,"i",69),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.add_language")," "))}function Ye(r,s){if(1&r&&(e.j41(0,"div",24),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.SpI(" ",i.promoterForm.controls.aboutUs.value," ")}}function Ve(r,s){if(1&r&&(e.j41(0,"div",25),e.nrm(1,"textarea",70),e.nI1(2,"translate"),e.k0s()),2&r){const i=e.XpG();e.Y8G("appInputViewMode",i.disabled),e.R7$(),e.FS9("placeholder",e.bMT(2,2,"text.input_placeholder_about_us"))}}function Be(r,s){if(1&r&&(e.j41(0,"div",24),e.EFF(1),e.k0s()),2&r){const i=e.XpG();e.R7$(),e.SpI(" ",i.promoterForm.controls.storyAboutUs.value," ")}}function Xe(r,s){if(1&r&&(e.j41(0,"div",25),e.nrm(1,"textarea",71),e.nI1(2,"translate"),e.k0s()),2&r){const i=e.XpG();e.Y8G("appInputViewMode",i.disabled),e.R7$(),e.FS9("placeholder",e.bMT(2,2,"text.input_placeholder_our_story"))}}function Ae(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",72)(1,"div",62)(2,"div",63),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",64),e.EFF(5),e.k0s()(),e.j41(6,"div",66),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onRemoveNationality())}),e.nrm(7,"i",67),e.k0s()()}if(2&r){let i,o;const t=e.XpG(2);e.R7$(3),e.HbH(null==(i=t.getCountryInfo(null==(i=t.promoterForm.get("country"))?null:i.value))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(o=t.getCountryInfo(null==(o=t.promoterForm.get("country"))?null:o.value))?null:o.name," ")}}function He(r,s){if(1&r){const i=e.RV6();e.j41(0,"button",68),e.bIt("click",function(t){e.eBV(i);const l=e.XpG(2);return e.Njj(l.onAddNationality(t))}),e.nrm(1,"i",69),e.EFF(2),e.nI1(3,"translate"),e.k0s()}2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.select_country")," "))}function ze(r,s){if(1&r&&e.DNE(0,Ae,8,3,"div",72)(1,He,4,3,"button",22),2&r){let i;const o=e.XpG();e.vxM(null!=(i=o.promoterForm.get("country"))&&i.value?0:1)}}function Le(r,s){if(1&r&&(e.j41(0,"div",73)(1,"div",62)(2,"div",63),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",64),e.EFF(5),e.k0s()()()),2&r){let i,o;const t=e.XpG(2);e.R7$(3),e.HbH(null==(i=t.getCountryInfo(null==(i=t.promoterForm.get("country"))?null:i.value))?null:i.flagClass),e.R7$(2),e.SpI(" ",null==(o=t.getCountryInfo(null==(o=t.promoterForm.get("country"))?null:o.value))?null:o.name," ")}}function We(r,s){if(1&r&&e.DNE(0,Le,6,3,"div",73),2&r){let i;const o=e.XpG();e.vxM(null!=(i=o.promoterForm.get("country"))&&i.value?0:-1)}}function Je(r,s){1&r&&(e.j41(0,"div",46)(1,"div",74),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",75),e.nrm(5,"ion-icon",76),e.k0s()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"text.images_web")," "))}function Ke(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",83),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemovePhone(t))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.delete")," "))}function Ze(r,s){1&r&&(e.j41(0,"div",61),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function Qe(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",50)(1,"div",14)(2,"div",15),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",77)(6,"div",78)(7,"app-flag-country-selector",79),e.bIt("emitCountrySelected",function(t){const l=e.eBV(i).$index,m=e.XpG();return e.Njj(m.onSelectCountry(t,l))}),e.k0s(),e.nrm(8,"input",80),e.nI1(9,"translate"),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",81),e.DNE(12,Ke,3,3,"div",82),e.k0s()(),e.DNE(13,Ze,3,3,"div",18),e.k0s()()}if(2&r){const i=s.$implicit,o=s.$index,t=e.XpG();e.Y8G("formGroup",i),e.R7$(3),e.SpI(" ",e.i5U(4,7,"text.phone_loop_label",e.eq3(15,ce,o+1))," "),e.R7$(3),e.Y8G("appInputViewMode",t.disabled)("ngClass",e.eq3(17,K,t.isPhoneControlInvalid(o))),e.R7$(2),e.Y8G("placeholder",e.i5U(10,12,"text.input_placeholder",e.eq3(19,Z,e.bMT(9,10,"text.phone")))),e.R7$(4),e.vxM(o>0?12:-1),e.R7$(),e.Y8G("ngIf",t.isPhoneControlInvalid(o))}}function qe(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",51)(1,"div",84)(2,"button",68),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onAddPhone())}),e.nrm(3,"i",69),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.i5U(6,3,"text.add_item",e.eq3(6,me,e.bMT(5,1,"text.phone")))," "))}function et(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",83),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemoveEmail(t))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"text.delete")," "))}function tt(r,s){1&r&&(e.j41(0,"div",61),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"errors.required")," "))}function ot(r,s){if(1&r&&(e.j41(0,"div",50)(1,"div",14)(2,"div",15),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",85)(6,"div",86),e.nrm(7,"input",87),e.nI1(8,"translate"),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",81),e.DNE(11,et,3,3,"div",82),e.k0s()(),e.DNE(12,tt,3,3,"div",18),e.k0s()()),2&r){const i=s.$implicit,o=s.$index,t=e.XpG();e.Y8G("formGroup",i),e.R7$(3),e.SpI(" ",e.i5U(4,7,"text.email_loop_label",e.eq3(15,ce,o+1))," "),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("ngClass",e.eq3(17,K,t.isEmailControlInvalid(o))),e.R7$(),e.Y8G("placeholder",e.i5U(9,12,"text.input_placeholder",e.eq3(19,Z,e.bMT(8,10,"text.email")))),e.R7$(4),e.vxM(o>0?11:-1),e.R7$(),e.Y8G("ngIf",t.isEmailControlInvalid(o))}}function nt(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",51)(1,"div",84)(2,"button",68),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onAddEmail())}),e.nrm(3,"i",69),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.i5U(6,3,"text.add_item",e.eq3(6,me,e.bMT(5,1,"text.email")))," "))}function rt(r,s){if(1&r){const i=e.RV6();e.j41(0,"button",96),e.bIt("click",function(){e.eBV(i);const t=e.XpG().$index,l=e.XpG();return e.Njj(l.onRemoveOffice(t))}),e.nrm(1,"i",67),e.k0s()}}function it(r,s){if(1&r){const i=e.RV6();e.j41(0,"app-flag-country-selector",79),e.bIt("emitCountrySelected",function(t){e.eBV(i);const l=e.XpG().$index,m=e.XpG();return e.Njj(m.onSelectCountry(t,null,l))}),e.k0s()}}function lt(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",53)(1,"div",88)(2,"div",89),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",6),e.DNE(6,rt,2,0,"button",90),e.k0s()(),e.j41(7,"div",91)(8,"div",92)(9,"div",23)(10,"div",15),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",26)(14,"input",93),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.name,t)||(l.name=t),e.Njj(t)}),e.k0s()()(),e.j41(15,"div",23)(16,"div",15),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",26)(20,"input",93),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.address,t)||(l.address=t),e.Njj(t)}),e.k0s()()(),e.j41(21,"div",23)(22,"div",15),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",26)(26,"input",93),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.city,t)||(l.city=t),e.Njj(t)}),e.k0s()()(),e.j41(27,"div",23)(28,"div",15),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",26)(32,"input",93),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.postalCode,t)||(l.postalCode=t),e.Njj(t)}),e.k0s()()(),e.j41(33,"div",23)(34,"div",15),e.EFF(35,"Email"),e.k0s(),e.j41(36,"div",26)(37,"input",94),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.email,t)||(l.email=t),e.Njj(t)}),e.k0s()()(),e.j41(38,"div",23)(39,"div",15),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"div",26),e.DNE(43,it,1,0,"app-flag-country-selector",95),e.j41(44,"input",93),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.phoneNumber,t)||(l.phoneNumber=t),e.Njj(t)}),e.k0s()()(),e.j41(45,"div",23)(46,"div",15),e.EFF(47,"Web"),e.k0s(),e.j41(48,"div",26)(49,"input",93),e.mxI("ngModelChange",function(t){const l=e.eBV(i).$implicit;return e.DH7(l.web,t)||(l.web=t),e.Njj(t)}),e.k0s()()()()()()}if(2&r){const i=s.$implicit,o=s.$index,t=e.XpG();e.R7$(3),e.Lme(" ",e.bMT(4,44,"text.office")," ",o+1," "),e.R7$(3),e.Y8G("ngIf",!t.disabled),e.R7$(3),e.Y8G("appHideIfNoData",i.name)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(12,46,"text.name")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.name),e.Y8G("ngModelOptions",e.lJ4(56,N)),e.R7$(),e.Y8G("appHideIfNoData",i.address)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(18,48,"text.address")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.address),e.Y8G("ngModelOptions",e.lJ4(57,N)),e.R7$(),e.Y8G("appHideIfNoData",i.city)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(24,50,"text.country")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.city),e.Y8G("ngModelOptions",e.lJ4(58,N)),e.R7$(),e.Y8G("appHideIfNoData",i.postalCode)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(30,52,"text.postal_code")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.postalCode),e.Y8G("ngModelOptions",e.lJ4(59,N)),e.R7$(),e.Y8G("appHideIfNoData",i.email)("disabled",t.disabled),e.R7$(3),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.email),e.Y8G("ngModelOptions",e.lJ4(60,N)),e.R7$(),e.Y8G("appHideIfNoData",i.phoneNumber)("disabled",t.disabled),e.R7$(2),e.JRh(e.bMT(41,54,"text.phone")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("ngIf",!t.disabled),e.R7$(),e.R50("ngModel",i.phoneNumber),e.Y8G("ngModelOptions",e.lJ4(61,N)),e.R7$(),e.Y8G("appHideIfNoData",i.web)("disabled",t.disabled),e.R7$(3),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.R50("ngModel",i.web),e.Y8G("ngModelOptions",e.lJ4(62,N))}}function at(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",51)(1,"div",84)(2,"button",68),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onAddOffice())}),e.nrm(3,"i",69),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()}2&r&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"text.add_office")," "))}let st=(()=>{var r;class s{constructor(o,t,l,m,c,P,E,D){this.fb=o,this.promoterFormService=t,this.popoverService=l,this.state=m,this.api=c,this.toastService=P,this.utils=E,this.translate=D,this.reloadData=new e.bkB,this.byvaroEnvironment=be.c,this.editing=!1,this.disabled=!0,this.promoterOffices=[{name:"Oficina Central",address:"Calle Ejemplo, 123",web:"www.ejemplo-oficina.com",email:"office@example.com",phoneNumber:"123456789"}]}ngOnInit(){this.getState(),this.promoter&&(this.promoterFormService.populateForm(this.promoter),this.promoter.languages=this.promoter.languages||[],this.promoterOffices=S.cloneDeep(this.promoter.promoterOffices)||[],this.disabled?setTimeout(()=>{this.disabled=!1,setTimeout(()=>{this.disabled=!0,this.syncFiles()})}):this.syncFiles())}getWebsiteUrl(){var o;return`${this.byvaroEnvironment.apiDomain}api/v1/website/${null===(o=this.promoter)||void 0===o?void 0:o.id}/`}syncFiles(){setTimeout(()=>{const o={multiple:!1,size:"medium",showRemove:!this.disabled,showName:!1,rounded:!1,allowUpload:!this.disabled,accept:"image/*",files:[]};var t,l,m;this.fileUploaderManager&&(this.fileUploaderManager.config=S.cloneDeep(o),this.fileUploaderManager.createProfileFilePic(this.promoter)),this.bannerFileUploaderManagerComponent&&(this.bannerFileUploaderManagerComponent.config=S.cloneDeep({...o,rounded:!1}),this.bannerFileUploaderManagerComponent.createPromoterBanner(this.promoter)),this.catalogFileUploaderManagerComponent&&(this.catalogFileUploaderManagerComponent.config=S.cloneDeep({...o,multiple:!0,showName:!0,files:(null===(t=this.promoter)||void 0===t||null===(t=t.promoterFiles)||void 0===t?void 0:t.filter(c=>"catalog"===c.category))||[],accept:"image/*,application/pdf"})),this.imagesUploaderManagerComponent&&(this.imagesUploaderManagerComponent.config=S.cloneDeep({...o,multiple:!0,showName:!0,files:(null===(l=this.promoter)||void 0===l||null===(l=l.webImages)||void 0===l?void 0:l.map(c=>({id:null==c?void 0:c.imageName,name:null==c?void 0:c.imageName,url:null==c?void 0:c.imageUrl,category:"images",orderIndex:null==c?void 0:c.order,label:(null==c?void 0:c.label)||""})))||[],accept:"image/*"}),this.imagesUploaderManagerComponent.setEditingMode(this.editing)),this.mainImageUploaderManagerComponent&&(this.mainImageUploaderManagerComponent.config=S.cloneDeep({...o,multiple:!1,showName:!1,files:null!==(m=this.promoter)&&void 0!==m&&m.webMainImageName?[{id:this.promoter.webMainImageName,name:this.promoter.webMainImageName,url:this.promoter.webMainImageUrl||"",category:"images",order:0,label:""}]:[]}))})}getState(){this.state.getState().subscribe(o=>{this.currentUser=o.user})}get promoterForm(){return this.promoterFormService.promoterForm}get phonesControls(){return this.promoterFormService.phones.controls}get emailsControls(){return this.promoterFormService.emails.controls}onEditUser(){var o,t,l,m;this.editing=!0,this.disabled=!1,null===(o=this.fileUploaderManager)||void 0===o||o.setEditingMode(!0),null===(t=this.bannerFileUploaderManagerComponent)||void 0===t||t.setEditingMode(!0),null===(l=this.catalogFileUploaderManagerComponent)||void 0===l||l.setEditingMode(!0),this.imagesUploaderManagerComponent.setEditingMode(!0),null===(m=this.mainImageUploaderManagerComponent)||void 0===m||m.setEditingMode(!0)}onSaveUser(){var o=this;return(0,x.A)(function*(){try{var t,l,m,c,P,E;let I={...S.cloneDeep(o.promoter),...o.promoterForm.value};I=yield o.fileUploaderManager.processProfilePic(I),o.bannerFileUploaderManagerComponent&&(I=yield o.bannerFileUploaderManagerComponent.processPromoterBanner(I)),I.promoterOffices=S.cloneDeep(o.promoterOffices),o.mainImageUploaderManagerComponent&&(I=yield o.mainImageUploaderManagerComponent.processMainImage(I));const B=(null===(t=o.imagesUploaderManagerComponent)||void 0===t||null===(t=t.config)||void 0===t?void 0:t.files)||[];for(let p of B){if(null!=p&&p.new){var D,T;let C={imageName:"",category:"images",imageUrl:"",label:p.label,order:null==p?void 0:p.orderIndex};const R=yield o.api.uploadFile(p.fileBlob);C.imageName=null==R||null===(D=R.success)||void 0===D||null===(D=D.data)||void 0===D?void 0:D.fileName,C.imageUrl=null==R||null===(T=R.success)||void 0===T||null===(T=T.data)||void 0===T?void 0:T.fileUrl,I.webImages||(I.webImages=[]),I.webImages.push(C)}if(null!=p&&p.deleted&&(I.webImages=I.webImages.filter(C=>C.imageName!==p.id)),null!=p&&p.moved&&(null==p||!p.deleted)&&(null==p||!p.new)){let C=S.cloneDeep(p);delete C.moved,delete C.fileBase64,delete C.fileBlob,delete C.new,delete C.deleted,delete C.size,delete C.type;const R=I.webImages.findIndex(A=>A.imageName===C.id);-1!==R&&(I.webImages[R]={...I.webImages[R],...C})}}const X=(null===(l=o.catalogFileUploaderManagerComponent)||void 0===l||null===(l=l.config)||void 0===l?void 0:l.files)||[];for(let p of X){if(null!=p&&p.new){var $;const C={promoterId:I.id,name:"",category:p.category,label:p.label,orderIndex:null==p?void 0:p.orderIndex},R=yield o.api.uploadFile(p.fileBlob);C.name=null==R||null===($=R.success)||void 0===$||null===($=$.data)||void 0===$?void 0:$.fileName,yield o.api.createPromoterFiles(C)}if(null!=p&&p.deleted&&(yield o.api.deletePromoterFilesById(null==p?void 0:p.id)),null!=p&&p.moved&&(null==p||!p.deleted)&&(null==p||!p.new)){let C=S.cloneDeep(p);delete C.moved,delete C.fileBase64,delete C.fileBlob,delete C.new,delete C.deleted,delete C.size,delete C.type,yield o.api.updatePromoterFilesById(null==C?void 0:C.id,C)}}I.phones=I.phones.map(p=>p.phoneNumber),I.emails=I.emails.map(p=>p.emailAddress),delete I.promoterFiles,delete I.promotions,delete I.users;let O=S.cloneDeep(I);O.extraHtmlWeb=null===(m=o.promoterForm.get("extraHtmlWeb"))||void 0===m?void 0:m.value,O.extraHtmlWeb=O.extraHtmlWeb?btoa(O.extraHtmlWeb):"";const Y=yield o.api.updatePromoterById(I.id,O);null!=Y&&Y.success?o.toastService.showSuccessToast(o.translate.instant("text.promoter_update_success")):o.toastService.showErrorToast(o.translate.instant("text.promoter_update_error")),o.editing=!1,o.disabled=!0,null===(c=o.fileUploaderManager)||void 0===c||c.setEditingMode(!1),null===(P=o.bannerFileUploaderManagerComponent)||void 0===P||P.setEditingMode(!1),null===(E=o.catalogFileUploaderManagerComponent)||void 0===E||E.setEditingMode(!1),o.reloadData.emit()}catch(I){console.error(I),o.toastService.showErrorToast(o.translate.instant("text.promoter_update_error")),o.editing=!1,o.disabled=!0}})()}onAddLanguage(o){var t=this;return(0,x.A)(function*(){var l;const m={languageSelector:!0,showCountryCode:!1,selectedCodes:t.promoter.languages},c=yield t.popoverService.onShowCountrySelectorPopover(o,m);null!=c&&null!==(l=c.data)&&void 0!==l&&l.country&&t.promoter.languages.push(c.data.country.code)})()}onRemoveLanguage(o){this.promoter.languages=this.promoter.languages.filter(t=>t!==o)}getLanguageInfo(o){return this.utils.getLanguageInfo(o)}onAddNationality(o){var t=this;return(0,x.A)(function*(){var l,m;const c={languageSelector:!1,showCountryCode:!1,selectedCodes:[null===(l=t.promoterForm.get("country"))||void 0===l?void 0:l.value]},P=yield t.popoverService.onShowCountrySelectorPopover(o,c);var E;null!=P&&null!==(m=P.data)&&void 0!==m&&m.country&&(null===(E=t.promoterForm.get("country"))||void 0===E||E.setValue(P.data.country.code))})()}onRemoveNationality(){var o;null===(o=this.promoterForm.get("country"))||void 0===o||o.setValue("")}onSelectCountry(o,t,l){0===l||l?(console.log("OFFICE INDEX",o),this.promoterOffices[l].phoneNumber=(null==o?void 0:o.phoneCode)+" "):this.promoterFormService.onSelectCountry(o,t)}isControlInvalid(o){const t=this.promoterForm.get(o);return!(!t||!t.invalid||!t.dirty&&!t.touched)}isPhoneControlInvalid(o){var t;const l=null===(t=this.phonesControls[o])||void 0===t?void 0:t.get("phoneNumber");return!(!l||!l.invalid||!l.dirty&&!l.touched)}isEmailControlInvalid(o){var t;const l=null===(t=this.emailsControls[o])||void 0===t?void 0:t.get("emailAddress");return!(!l||!l.invalid||!l.dirty&&!l.touched)}onAddPhone(){this.promoterFormService.addPhone()}onRemovePhone(o){this.promoterFormService.removePhone(o)}onAddEmail(){this.promoterFormService.addEmail()}onRemoveEmail(o){this.promoterFormService.removeEmail(o)}getCountryInfo(o){return this.utils.getCountryInfo(o)}onAddOffice(){this.promoterOffices.push({name:"",address:"",web:"",email:"",phoneNumber:""})}onRemoveOffice(o){this.promoterOffices.splice(o,1)}}return(r=s).\u0275fac=function(o){return new(o||r)(e.rXU(g.ok),e.rXU(Ce),e.rXU(Ie.m),e.rXU(G.c),e.rXU(d.i),e.rXU(v.f),e.rXU(V.T),e.rXU(u.c$))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details-info"]],viewQuery:function(o,t){if(1&o&&(e.GBs(Fe,5),e.GBs(Pe,5),e.GBs(ke,5),e.GBs(Re,5),e.GBs(Ee,5)),2&o){let l;e.mGM(l=e.lsd())&&(t.fileUploaderManager=l.first),e.mGM(l=e.lsd())&&(t.bannerFileUploaderManagerComponent=l.first),e.mGM(l=e.lsd())&&(t.catalogFileUploaderManagerComponent=l.first),e.mGM(l=e.lsd())&&(t.imagesUploaderManagerComponent=l.first),e.mGM(l=e.lsd())&&(t.mainImageUploaderManagerComponent=l.first)}},inputs:{promoter:"promoter"},outputs:{reloadData:"reloadData"},decls:214,vars:194,consts:[["fileUploaderManagerComponent",""],["bannerFileUploaderManagerComponent",""],["catalogFileUploaderManagerComponent",""],["mainImageUploaderManagerComponent",""],["imagesUploaderManagerComponent",""],[1,"crm-header-modal","crm-header-modal-empty"],[1,"crm-buttons-group"],[1,"crm-boxes-user-create",3,"formGroup"],[1,"crm-box"],[1,"crm-section","size-medium-small"],[1,"crm-section-smaller-title"],["class","crm-section-smaller-title",4,"ngIf"],[1,"crm-section-title"],[1,"crm-section-inputs",3,"ngClass"],[1,"crm-input"],[1,"crm-input-label"],[1,"crm-input-input",3,"ngClass","appInputViewMode"],["type","text","formControlName","name",3,"placeholder"],["class","crm-input-error",4,"ngIf"],[1,"crm-input","crm-input-medium"],[1,"crm-section-items"],[1,"crm-item-option","crm-item-option-lang",3,"ngClass"],["type","button",1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-input",3,"appHideIfNoData","disabled"],[1,"crm-text",2,"font-style","normal","color","black"],[1,"crm-input-input","crm-input-input-textarea",3,"appInputViewMode"],[1,"crm-input-input",3,"appInputViewMode"],["type","text","formControlName","legalName",3,"placeholder"],["type","number","formControlName","foundationYear",3,"placeholder"],["type","text","formControlName","nifCif",3,"placeholder"],["type","number","formControlName","annualSales",3,"placeholder"],["type","number","formControlName","annualRevenue",3,"placeholder"],["type","number","formControlName","portfolioSize",3,"placeholder"],["type","text","formControlName","city",3,"placeholder"],["type","text","formControlName","address",3,"placeholder"],["type","text","formControlName","postalCode",3,"placeholder"],["type","text","formControlName","province",3,"placeholder"],["target","_blank",3,"href"],["formControlName","extraHtmlWeb",3,"placeholder"],["type","text","formControlName","webH1",3,"placeholder"],["type","text","formControlName","webH2",3,"placeholder"],["formControlName","webDescription",3,"placeholder"],["type","number","formControlName","webClientsCount",3,"placeholder"],["type","number","formControlName","webCitiesCount",3,"placeholder"],["type","number","formControlName","webYearsCount",3,"placeholder"],[3,"ngClass"],[1,"crm-block-dropdown","small"],[1,"crm-section","size-medium",3,"ngClass"],[1,"crm-section-margin-top"],[1,"crm-box","crm-section"],[3,"formGroup"],[1,"crm-section-buttons-right"],[1,"crm-section-inline-cards"],[1,"crm-card"],["class","crm-section-buttons-right",4,"ngIf"],[1,"crm-button"],[1,"crm-button-secondary","crm-button-secondary-primary"],[1,"crm-button",3,"click"],[1,"fa","fa-check"],[1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fa","fa-edit"],[1,"crm-input-error"],[1,"crm-item-option-left"],[1,"crm-item-option-flag"],[1,"crm-item-option-label"],[1,"crm-item-option-remove"],[1,"crm-item-option-remove",3,"click"],[1,"fas","fa-trash"],["type","button",1,"crm-button-secondary","crm-button-secondary-primary",3,"click"],[1,"fas","fa-add"],["rows","5","formControlName","aboutUs",3,"placeholder"],["rows","5","formControlName","storyAboutUs",3,"placeholder"],[1,"crm-item-option","crm-item-option-lang","edit"],[1,"crm-item-option","crm-item-option-lang"],[1,"crm-block-dropdown-title"],[1,"crm-block-dropdown-icon"],["name","chevron-up-outline"],[1,"crm-input-input-and-icon"],[1,"crm-input-input",3,"appInputViewMode","ngClass"],[3,"emitCountrySelected"],["type","text","formControlName","phoneNumber",3,"placeholder"],[1,"crm-input-input-and-icon-right"],[1,"crm-text","crm-text-underline","crm-text-underline-red"],[1,"crm-text","crm-text-underline","crm-text-underline-red",3,"click"],[1,"crm-section-buttons-group"],[1,"crm-input-input-and-icon",3,"appInputViewMode"],[1,"crm-input-input",3,"ngClass"],["type","email","formControlName","emailAddress",3,"placeholder"],[1,"crm-header-modal","crm-header-modal-no-padding",2,"margin-bottom","12px"],[1,"crm-card-title"],["class","crm-button-icon-solo red small",3,"click",4,"ngIf"],[1,"crm-card-content"],[1,"crm-section-inputs"],["type","text",3,"ngModelChange","ngModel","ngModelOptions"],["type","email",3,"ngModelChange","ngModel","ngModelOptions"],[3,"emitCountrySelected",4,"ngIf"],[1,"crm-button-icon-solo","red","small",3,"click"]],template:function(o,t){if(1&o&&(e.j41(0,"div",5),e.nrm(1,"div"),e.j41(2,"div",6),e.DNE(3,$e,2,1),e.k0s()(),e.j41(4,"form",7)(5,"div",8)(6,"div",9)(7,"div",10),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.nrm(10,"app-file-uploader-manager",null,0),e.DNE(12,we,2,0,"div",11),e.nrm(13,"app-file-uploader-manager",null,1),e.DNE(15,Se,3,3,"div",11),e.nrm(16,"app-file-uploader-manager",null,2),e.j41(18,"div",12),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",13)(22,"div",14)(23,"div",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"div",16),e.nrm(27,"input",17),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s(),e.DNE(30,Oe,3,3,"div",18),e.k0s(),e.j41(31,"div",19)(32,"div",15),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"div",20),e.Z7z(36,Ge,7,7,"div",21,e.fX1),e.DNE(38,Ne,4,3,"button",22),e.k0s()(),e.j41(39,"div",23)(40,"div",15),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.DNE(43,Ye,2,1,"div",24)(44,Ve,3,4,"div",25),e.k0s(),e.j41(45,"div",23)(46,"div",15),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.DNE(49,Be,2,1,"div",24)(50,Xe,3,4,"div",25),e.k0s()(),e.j41(51,"div",12),e.EFF(52),e.nI1(53,"translate"),e.k0s(),e.j41(54,"div",13)(55,"div",14)(56,"div",15),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"div",26),e.nrm(60,"input",27),e.nI1(61,"translate"),e.k0s()(),e.j41(62,"div",14)(63,"div",15),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"div",26),e.nrm(67,"input",28),e.nI1(68,"translate"),e.k0s()(),e.j41(69,"div",14)(70,"div",15),e.EFF(71,"NIF/CIF"),e.k0s(),e.j41(72,"div",26),e.nrm(73,"input",29),e.nI1(74,"translate"),e.k0s()(),e.j41(75,"div",14)(76,"div",15),e.EFF(77),e.nI1(78,"translate"),e.k0s(),e.j41(79,"div",26),e.nrm(80,"input",30),e.nI1(81,"translate"),e.k0s()(),e.j41(82,"div",14)(83,"div",15),e.EFF(84),e.nI1(85,"translate"),e.k0s(),e.j41(86,"div",26),e.nrm(87,"input",31),e.nI1(88,"translate"),e.k0s()(),e.j41(89,"div",14)(90,"div",15),e.EFF(91),e.nI1(92,"translate"),e.k0s(),e.j41(93,"div",26),e.nrm(94,"input",32),e.nI1(95,"translate"),e.k0s()(),e.j41(96,"div",14)(97,"div",15),e.EFF(98),e.nI1(99,"translate"),e.k0s(),e.j41(100,"div",20),e.DNE(101,ze,2,1)(102,We,1,1),e.k0s()(),e.j41(103,"div",14)(104,"div",15),e.EFF(105),e.nI1(106,"translate"),e.k0s(),e.j41(107,"div",26),e.nrm(108,"input",33),e.nI1(109,"translate"),e.k0s()(),e.j41(110,"div",14)(111,"div",15),e.EFF(112),e.nI1(113,"translate"),e.k0s(),e.j41(114,"div",26),e.nrm(115,"input",34),e.nI1(116,"translate"),e.k0s()(),e.j41(117,"div",14)(118,"div",15),e.EFF(119),e.nI1(120,"translate"),e.k0s(),e.j41(121,"div",26),e.nrm(122,"input",35),e.nI1(123,"translate"),e.k0s()(),e.j41(124,"div",14)(125,"div",15),e.EFF(126),e.nI1(127,"translate"),e.k0s(),e.j41(128,"div",26),e.nrm(129,"input",36),e.nI1(130,"translate"),e.k0s()(),e.j41(131,"div",12),e.EFF(132),e.nI1(133,"translate"),e.k0s(),e.nrm(134,"br"),e.j41(135,"a",37),e.EFF(136),e.nI1(137,"translate"),e.k0s(),e.nrm(138,"br"),e.j41(139,"div",14)(140,"div",15),e.EFF(141),e.nI1(142,"translate"),e.k0s(),e.j41(143,"div",25),e.nrm(144,"textarea",38),e.nI1(145,"translate"),e.k0s()(),e.j41(146,"div",14)(147,"div",15),e.EFF(148,"H1"),e.k0s(),e.j41(149,"div",26),e.nrm(150,"input",39),e.nI1(151,"translate"),e.k0s()(),e.j41(152,"div",14)(153,"div",15),e.EFF(154,"H2"),e.k0s(),e.j41(155,"div",26),e.nrm(156,"input",40),e.nI1(157,"translate"),e.k0s()(),e.j41(158,"div",14)(159,"div",15),e.EFF(160),e.nI1(161,"translate"),e.k0s(),e.j41(162,"div",25),e.nrm(163,"textarea",41),e.nI1(164,"translate"),e.k0s()(),e.j41(165,"div",14)(166,"div",15),e.EFF(167),e.nI1(168,"translate"),e.k0s(),e.j41(169,"div",26),e.nrm(170,"input",42),e.nI1(171,"translate"),e.k0s()(),e.j41(172,"div",14)(173,"div",15),e.EFF(174),e.nI1(175,"translate"),e.k0s(),e.j41(176,"div",26),e.nrm(177,"input",43),e.nI1(178,"translate"),e.k0s()(),e.j41(179,"div",14)(180,"div",15),e.EFF(181),e.nI1(182,"translate"),e.k0s(),e.j41(183,"div",26),e.nrm(184,"input",44),e.nI1(185,"translate"),e.k0s()(),e.j41(186,"div",10),e.EFF(187),e.nI1(188,"translate"),e.k0s(),e.nrm(189,"app-file-uploader-manager",null,3),e.j41(191,"div",45),e.DNE(192,Je,6,3,"div",46),e.j41(193,"div",47),e.nrm(194,"app-file-uploader-manager",48,4),e.k0s()()()()(),e.j41(196,"div",49)(197,"div",12),e.EFF(198),e.nI1(199,"translate"),e.k0s(),e.j41(200,"div",13),e.Z7z(201,Qe,14,21,"div",50,e.fX1),e.DNE(203,qe,7,8,"div",51),e.Z7z(204,ot,13,21,"div",50,e.fX1),e.DNE(206,nt,7,8,"div",51),e.j41(207,"div",12),e.EFF(208),e.nI1(209,"translate"),e.k0s(),e.j41(210,"div",52),e.Z7z(211,lt,50,63,"div",53,e.fX1),e.k0s(),e.DNE(213,at,6,3,"div",54),e.k0s()()()),2&o){const l=e.sdS(195);e.R7$(3),e.vxM("promoter"===(null==t.currentUser?null:t.currentUser.accountType)?3:-1),e.R7$(),e.Y8G("formGroup",t.promoterForm),e.R7$(4),e.SpI(" ",e.bMT(9,87,"text.profile_picture")," "),e.R7$(4),e.Y8G("ngIf",(null==t.promoter?null:t.promoter.bannerUrl)||!t.disabled),e.R7$(3),e.Y8G("ngIf",(null==t.promoter||null==t.promoter.promoterFiles?null:t.promoter.promoterFiles.length)>0||!t.disabled),e.R7$(4),e.SpI(" ",e.bMT(20,89,"text.general_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(180,J,t.disabled)),e.R7$(3),e.SpI(" ",e.bMT(25,91,"text.name")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(182,K,t.isControlInvalid("name")))("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.i5U(29,95,"text.input_placeholder",e.eq3(184,Z,e.bMT(28,93,"text.name")))),e.R7$(3),e.Y8G("ngIf",t.isControlInvalid("name")),e.R7$(3),e.SpI(" ",e.bMT(34,98,"text.languages")," "),e.R7$(3),e.Dyx(null==t.promoter?null:t.promoter.languages),e.R7$(2),e.vxM(t.disabled?-1:38),e.R7$(),e.Y8G("appHideIfNoData",t.promoterForm.controls.aboutUs.value)("disabled",t.disabled),e.R7$(2),e.SpI(" ",e.bMT(42,100,"text.about_us")," "),e.R7$(2),e.vxM(t.disabled?43:44),e.R7$(2),e.Y8G("appHideIfNoData",t.promoterForm.controls.storyAboutUs.value)("disabled",t.disabled),e.R7$(2),e.SpI(" ",e.bMT(48,102,"text.about_us")," "),e.R7$(2),e.vxM(t.disabled?49:50),e.R7$(3),e.SpI(" ",e.bMT(53,104,"text.additional_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(186,J,t.disabled)),e.R7$(3),e.JRh(e.bMT(58,106,"text.legal_name")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(61,108,"text.input_placeholder_legal_name")),e.R7$(4),e.JRh(e.bMT(65,110,"text.foundation_year")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(68,112,"text.input_placeholder_foundation_year")),e.R7$(5),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(74,114,"text.input_placeholder_nif_cif")),e.R7$(4),e.JRh(e.bMT(78,116,"text.annual_sales")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(81,118,"text.input_placeholder_annual_sales")),e.R7$(4),e.JRh(e.bMT(85,120,"text.annual_revenue")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(88,122,"text.input_placeholder_annual_revenue")),e.R7$(4),e.JRh(e.bMT(92,124,"text.portfolio_size")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(95,126,"text.input_placeholder_portfolio_size")),e.R7$(4),e.JRh(e.bMT(99,128,"text.country")),e.R7$(3),e.vxM(t.disabled?102:101),e.R7$(4),e.JRh(e.bMT(106,130,"text.city")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(109,132,"text.input_placeholder_city")),e.R7$(4),e.JRh(e.bMT(113,134,"text.address")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(116,136,"text.input_placeholder_address")),e.R7$(4),e.JRh(e.bMT(120,138,"text.postal_code")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(123,140,"text.input_placeholder_postal_code")),e.R7$(4),e.JRh(e.bMT(127,142,"text.province")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.FS9("placeholder",e.bMT(130,144,"text.input_placeholder_province")),e.R7$(3),e.SpI(" ",e.bMT(133,146,"text.web")," "),e.R7$(3),e.Y8G("href",t.getWebsiteUrl(),e.B4B),e.R7$(),e.JRh(e.bMT(137,148,"text.open_website")),e.R7$(5),e.SpI(" ",e.bMT(142,150,"text.extra_html_web")," "),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(145,152,"text.input_placeholder_aditional")),e.R7$(5),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(151,154,"text.input_placeholder_h1")),e.R7$(5),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(157,156,"text.input_placeholder_h2")),e.R7$(4),e.JRh(e.bMT(161,158,"text.web_description")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(164,160,"text.input_placeholder_description")),e.R7$(4),e.JRh(e.bMT(168,162,"text.clients_count")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(171,164,"text.input_placeholder_clients_count")),e.R7$(4),e.JRh(e.bMT(175,166,"text.cities_count")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(178,168,"text.input_placeholder_cities_count")),e.R7$(4),e.JRh(e.bMT(182,170,"text.years_count")),e.R7$(2),e.Y8G("appInputViewMode",t.disabled),e.R7$(),e.Y8G("placeholder",e.bMT(185,172,"text.input_placeholder_years_count")),e.R7$(3),e.SpI(" ",e.bMT(188,174,"text.main_image_web")," "),e.R7$(4),e.Y8G("ngClass",e.eq3(188,pe,t.disabled)),e.R7$(),e.vxM(t.disabled?-1:192),e.R7$(),e.Y8G("ngClass",e.eq3(190,pe,0===(null==l||null==l.config||null==l.config.files?null:l.config.files.length)&&t.disabled)),e.R7$(5),e.SpI(" ",e.bMT(199,176,"text.contact_info")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(192,J,t.disabled)),e.R7$(),e.Dyx(t.phonesControls),e.R7$(2),e.vxM(t.disabled?-1:203),e.R7$(),e.Dyx(t.emailsControls),e.R7$(2),e.vxM(t.disabled?-1:206),e.R7$(2),e.SpI(" ",e.bMT(209,178,"text.offices")," "),e.R7$(3),e.Dyx(t.promoterOffices),e.R7$(2),e.Y8G("ngIf",!t.disabled)}},dependencies:[n.YU,n.bT,g.qT,g.me,g.Q0,g.BC,g.cb,g.vS,b.iq,xe.M,g.j4,g.JD,Me.Z,de.F,ye.S,u.D9]}),s})();function dt(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",5)(1,"app-promoter-details-presentation",7),e.bIt("reloadData",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.ngOnInit())}),e.k0s()()}if(2&r){const i=e.XpG(2);e.R7$(),e.Y8G("promoter",i.promoter)}}function pt(r,s){if(1&r){const i=e.RV6();e.j41(0,"div",6)(1,"app-promoter-details-info",7),e.bIt("reloadData",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.ngOnInit())}),e.k0s()()}if(2&r){const i=e.XpG(2);e.R7$(),e.Y8G("promoter",i.promoter)}}function ct(r,s){if(1&r&&e.DNE(0,dt,2,1,"div",5)(1,pt,2,1,"div",6),2&r){const i=e.XpG();e.vxM("presentation"===i.activeTab?0:-1),e.R7$(),e.vxM("info"===i.activeTab?1:-1)}}const mt=[{path:"",component:(()=>{var r;class s{constructor(o,t,l,m,c,P){this.activatedRoute=o,this.toastService=t,this.headerService=l,this.router=m,this.api=c,this.translate=P,this.promoterParameterId=null,this.promoter=null,this.activeTab="info",this.promoterTabs=[{id:"1",title:"presentation",active:!0},{id:"2",title:"info",active:!1}]}ngOnInit(){var o=this;return(0,x.A)(function*(){if(o.promoterParameterId=o.activatedRoute.snapshot.paramMap.get("id"),"mine"===o.promoterParameterId){var t;const m=yield o.api.getCurrentPromoter();if(null!=m&&null!==(t=m.success)&&void 0!==t&&t.data){var l;o.promoter=m.success.data;let P={},E=null,D={page:0,itemsPerPage:50};const T=yield o.api.getUser(P,E,D);null!=T&&null!==(l=T.success)&&void 0!==l&&l.data&&(o.promoter.users=T.success.data)}}else o.getData();o.headerService.setConfig({title:"promoter_details"})})()}getData(){var o=this;return(0,x.A)(function*(){if(o.promoter=yield o.getPromoterById(),!o.promoter)return o.toastService.showToast({text:o.translate.instant("text.no_contact_with_id"),icon:"fas fa-exclamation-triangle",theme:"red",time:3e3}),void o.router.navigate(["/promoters"])})()}getPromoterById(){var o=this;return(0,x.A)(function*(){var t,l;if(!o.promoterParameterId)return null;const m=yield o.api.getPromoter({id:{equals:o.promoterParameterId}},null,null);m.error&&o.toastService.showToast({text:o.translate.instant("text.promoter_read_error"),icon:"fas fa-exclamation-triangle",theme:"red",time:3e3});const[c]=null==m||null===(t=m.success)||void 0===t?void 0:t.data,P=yield o.api.getUsersOfAccount(c.id,"promoter");return console.log("users:",P),c.users=(null===(l=P.success)||void 0===l?void 0:l.data)||[],c})()}onTabClicked(o){this.activeTab=o}}return(r=s).\u0275fac=function(o){return new(o||r)(e.rXU(M.nX),e.rXU(v.f),e.rXU(f.d),e.rXU(M.Ix),e.rXU(d.i),e.rXU(u.c$))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-promoter-details"]],decls:6,vars:2,consts:[[1,"crm-block-body"],[1,"crm-block-body-fixed"],[1,"crm-block-details-header"],[1,"crm-block-details-bottom"],[3,"tabClicked","tabs"],[1,"crm-block-body-blue-content",2,"padding","0"],[1,"crm-block-body-blue-content"],[3,"reloadData","promoter"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-tabs",4),e.bIt("tabClicked",function(m){return t.onTabClicked(m)}),e.k0s()()()(),e.DNE(5,ct,2,2),e.k0s()),2&o&&(e.R7$(4),e.Y8G("tabs",t.promoterTabs),e.R7$(),e.vxM(null!=t.promoter&&t.promoter.id?5:-1))},dependencies:[y.O,he,st]}),s})()}];let ut=(()=>{var r;class s{}return(r=s).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[M.iI.forChild(mt),M.iI]}),s})();var _t=a(2652),ft=a(6812),ue=a(9662),gt=a(3263),vt=a(7991);let ht=(()=>{var r;class s{}return(r=s).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[n.MD,b.bv,g.X1,gt.l,ue.Y,vt.S,u.h]}),s})(),bt=(()=>{var r;class s{}return(r=s).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[n.MD,g.YN,b.bv,ut,y.O,u.h,_t.T,g.X1,ft.u,de.F,ue.Y,ht]}),s})()},9520:(U,k,a)=>{a.d(k,{k:()=>L});var n=a(3953),g=a(6552),b=a(177),M=a(9465),x=a(3955);const e=h=>({"user-card-active":h});function v(h,j){if(1&h){const F=n.RV6();n.j41(0,"div",3)(1,"div",20)(2,"ion-checkbox",21),n.bIt("click",function(w){n.eBV(F);const W=n.XpG(2);return n.Njj(W.onTogglePromotionCheckbox(w))}),n.k0s()()()}if(2&h){const F=n.XpG(2);n.R7$(2),n.Y8G("value",F.user.checked)}}function f(h,j){if(1&h&&(n.qex(0),n.nrm(1,"span",25),n.bVm()),2&h){let F;const _=n.XpG().$implicit,w=n.XpG(3);n.R7$(),n.HbH(null==(F=w.utils.getLanguageInfo(_))?null:F.flagClass)}}function d(h,j){if(1&h&&(n.qex(0),n.DNE(1,f,2,2,"ng-container",19),n.bVm()),2&h){const F=j.index;n.R7$(),n.Y8G("ngIf",F<3)}}function u(h,j){if(1&h&&(n.j41(0,"span",26),n.EFF(1),n.k0s()),2&h){const F=n.XpG(3);n.R7$(),n.SpI(" +",F.user.languages.length-3," ")}}function y(h,j){if(1&h&&(n.j41(0,"div",22),n.DNE(1,d,2,1,"ng-container",23)(2,u,2,1,"span",24),n.k0s()),2&h){const F=n.XpG(2);n.R7$(),n.Y8G("ngForOf",F.user.languages),n.R7$(),n.Y8G("ngIf",F.user.languages.length>3)}}function G(h,j){1&h&&(n.j41(0,"div",27),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&h&&(n.R7$(),n.JRh(n.bMT(2,1,"text.no_languages")))}function V(h,j){1&h&&(n.j41(0,"div",28),n.nrm(1,"i",29),n.EFF(2),n.nI1(3,"translate"),n.k0s()),2&h&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"text.user_inactive")," "))}function H(h,j){if(1&h){const F=n.RV6();n.j41(0,"div")(1,"div",28),n.nrm(2,"i",29),n.EFF(3),n.nI1(4,"translate"),n.k0s(),n.j41(5,"div",30),n.bIt("click",function(){n.eBV(F);const w=n.XpG(2);return n.Njj(w.onCancelInvitation(w.user.id))}),n.EFF(6),n.nI1(7,"translate"),n.k0s()()}2&h&&(n.R7$(3),n.SpI(" ",n.bMT(4,2,"text.invitation_pending")," "),n.R7$(3),n.SpI(" ",n.bMT(7,4,"text.cancel_invitation")," "))}function z(h,j){if(1&h&&(n.j41(0,"div",2),n.DNE(1,v,3,1,"div",3),n.j41(2,"div",4)(3,"div",5),n.nrm(4,"img",6),n.k0s(),n.j41(5,"div",7)(6,"div",8),n.EFF(7),n.k0s(),n.j41(8,"div",9),n.EFF(9),n.k0s()()(),n.j41(10,"div",10)(11,"div",11),n.nrm(12,"i",12),n.j41(13,"span"),n.EFF(14),n.k0s()(),n.j41(15,"div",11),n.nrm(16,"i",13),n.j41(17,"span"),n.EFF(18),n.k0s()()(),n.j41(19,"div",14)(20,"div",15),n.nrm(21,"i",16),n.j41(22,"span"),n.EFF(23),n.k0s()(),n.DNE(24,y,3,2,"div",17)(25,G,3,3,"ng-template",null,0,n.C5r),n.k0s(),n.DNE(27,V,4,3,"div",18)(28,H,8,6,"div",19),n.k0s()),2&h){const F=n.sdS(26),_=n.XpG();n.Y8G("ngClass",n.eq3(13,e,null==_.user?null:_.user.checked)),n.R7$(),n.vxM(_.showCheckbox?1:-1),n.R7$(3),n.FS9("alt",null==_.user?null:_.user.name),n.Y8G("src",(null==_.user?null:_.user.photoUrl)||"assets/images/avatar.png",n.B4B),n.R7$(3),n.JRh(null==_.user?null:_.user.name),n.R7$(2),n.JRh(null==_.user?null:_.user.jobTitle),n.R7$(5),n.JRh(null==_.user?null:_.user.phone),n.R7$(4),n.JRh(null==_.user?null:_.user.email),n.R7$(5),n.JRh("Valencia"),n.R7$(),n.Y8G("ngIf",(null==_.user||null==_.user.languages?null:_.user.languages.length)>0)("ngIfElse",F),n.R7$(3),n.Y8G("ngIf",null==_.user?null:_.user.inactive),n.R7$(),n.Y8G("ngIf","invitation"===(null==_.options?null:_.options.type)&&!(null!=_.options&&_.options.externalUser))}}let L=(()=>{var h;class j{constructor(_){this.utils=_,this.isSkeleton=!1,this.user=null,this.options={type:"user",externalUser:!1},this.showCheckbox=!0,this.toggleUserCheckbox=new n.bkB,this.invitationCanceled=new n.bkB}ngOnInit(){}onTogglePromotionCheckbox(_){_.stopPropagation(),this.toggleUserCheckbox.emit()}onCancelInvitation(_){console.log("cancel invitation",_),this.invitationCanceled.emit(_)}}return(h=j).\u0275fac=function(_){return new(_||h)(n.rXU(g.T))},h.\u0275cmp=n.VBU({type:h,selectors:[["app-card-system-user"]],inputs:{isSkeleton:"isSkeleton",user:"user",options:"options",showCheckbox:"showCheckbox"},outputs:{toggleUserCheckbox:"toggleUserCheckbox",invitationCanceled:"invitationCanceled"},decls:1,vars:1,consts:[["noLanguages",""],["class","user-card",3,"ngClass",4,"ngIf"],[1,"user-card",3,"ngClass"],[1,"crm-card-floating-checkbox",2,"right","16px","left","inherit"],[1,"user-card-header"],[1,"user-card-image"],[3,"src","alt"],[1,"user-card-info"],[1,"user-card-name"],[1,"user-card-role"],[1,"user-card-contact"],[1,"user-card-contact-item"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"user-card-bottom"],[1,"user-card-location"],[1,"fas","fa-map-marker-alt"],["class","user-card-languages",4,"ngIf","ngIfElse"],["class","user-card-chip warning",4,"ngIf"],[4,"ngIf"],[1,"crm-input-checkbox"],[3,"click","value"],[1,"user-card-languages"],[4,"ngFor","ngForOf"],["class","user-card-lang-plus",4,"ngIf"],[1,"user-card-flag"],[1,"user-card-lang-plus"],[1,"user-card-no-langs"],[1,"user-card-chip","warning"],[1,"fas","fa-exclamation-triangle"],[1,"user-card-action",3,"click"]],template:function(_,w){1&_&&n.DNE(0,z,29,15,"div",1),2&_&&n.Y8G("ngIf",!w.isSkeleton&&w.user)},dependencies:[b.YU,b.Sq,b.bT,M.eY,M.hB,x.D9],styles:[".user-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;border:1px solid #eaeaea;padding:16px;width:300px;max-width:300px;position:relative;display:flex;flex-direction:column;gap:16px;cursor:pointer}.user-card-active[_ngcontent-%COMP%]{outline:2px solid var(--crm-primary-color)}.user-card-checkbox[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;z-index:1}.user-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-card-image[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;overflow:hidden;flex-shrink:0}.user-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-card-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-card-name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#212121}.user-card-role[_ngcontent-%COMP%]{font-size:14px;color:#666}.user-card-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.user-card-contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#6c6c6c}.user-card-contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:#9e9e9e}.user-card-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid #eaeaea;flex-wrap:wrap;gap:8px}.user-card-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#666}.user-card-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;color:#999}.user-card-languages[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.user-card-flag[_ngcontent-%COMP%]{width:20px;height:14px;background-size:cover;border-radius:2px}.user-card-lang-plus[_ngcontent-%COMP%]{font-size:13px;color:#666}.user-card-no-langs[_ngcontent-%COMP%]{font-size:13px;color:#999}.user-card-chip[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px;border-radius:6px;display:inline-flex;align-items:center;gap:6px;width:-moz-fit-content;width:fit-content}.user-card-chip.warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;border:1px solid #ffeeba}.user-card-action[_ngcontent-%COMP%]{font-size:13px;color:#dc3545;text-align:center;text-decoration:underline;cursor:pointer;margin-top:8px}.user-card-action[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),j})()},3263:(U,k,a)=>{a.d(k,{l:()=>e});var n=a(177),g=a(9465),b=a(9417),M=a(3955),x=a(3953);let e=(()=>{var v;class f{}return(v=f).\u0275fac=function(u){return new(u||v)},v.\u0275mod=x.$C({type:v}),v.\u0275inj=x.G2t({imports:[n.MD,b.YN,g.bv,M.h]}),f})()},4558:(U,k,a)=>{a.d(k,{w:()=>g});var n=a(3953);let g=(()=>{var b;class M{transform(e,...v){if(null==e||""===e)return"";let f;return f="string"==typeof e?parseFloat(e):e,isNaN(f)?"":f.toString().replace(/\.(?=\d+$)/,",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}}return(b=M).\u0275fac=function(e){return new(e||b)},b.\u0275pipe=n.EJ8({name:"thousandSeparator",type:b,pure:!0}),M})()}}]);