"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5034],{1129:(y,p,o)=>{o.d(p,{Z:()=>r});var e=o(3953),d=o(6069),C=o(1982);function i(t,a){if(1&t){const u=e.RV6();e.j41(0,"app-country-selector-popover",4),e.bIt("countrySelected",function(s){e.eBV(u);const v=e.XpG();return e.Njj(v.selectCountry(s))})("closePopover",function(){e.eBV(u);const s=e.XpG();return e.Njj(s.dropdownOpen=!1)}),e.k0s()}2&t&&e.Y8G("showCountryCode",!0)}let r=(()=>{var t;class a{constructor(){this.emitCountrySelected=new e.bkB,this.countries=d.X,this.selectedCountry=d.X[0],this.dropdownOpen=!1}ngOnChanges(){const n=this.extractCountryPhoneCodeFromPhoneNumber(this.selectedPhoneNumber);n!==this.extractCountryPhoneCodeFromPhoneNumber(this.selectedCountry.phoneCode)&&this.selectCountryByPhoneCode(n)}toggleDropdown(n){n.stopPropagation(),this.dropdownOpen=!this.dropdownOpen}selectCountry(n){n.event.stopPropagation(),this.selectedCountry=n.country,this.emitCountrySelected.emit(n.country),this.dropdownOpen=!1}selectCountryByPhoneCode(n){const s=this.countries.find(v=>v.phoneCode===n);s&&(this.selectedCountry=s,this.emitCountrySelected.emit(s))}extractCountryPhoneCodeFromPhoneNumber(n){return null==n?void 0:n.split(" ")[0]}}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-flag-country-selector"]],inputs:{selectedPhoneNumber:"selectedPhoneNumber"},outputs:{emitCountrySelected:"emitCountrySelected"},features:[e.OA$],decls:5,vars:3,consts:[["tabindex","0",1,"flag-country-selector-container",3,"click"],[1,"selected-country"],[1,"fas","fa-caret-down","dropdown-arrow"],[3,"showCountryCode"],[3,"countrySelected","closePopover","showCountryCode"]],template:function(n,s){1&n&&(e.j41(0,"div",0),e.bIt("click",function(P){return s.toggleDropdown(P)}),e.j41(1,"div",1),e.nrm(2,"span")(3,"i",2),e.k0s(),e.DNE(4,i,1,1,"app-country-selector-popover",3),e.k0s()),2&n&&(e.R7$(2),e.HbH(null==s.selectedCountry?null:s.selectedCountry.flagClass),e.R7$(2),e.vxM(s.dropdownOpen?4:-1))},dependencies:[C.u],styles:[".flag-country-selector-container[_ngcontent-%COMP%]{position:relative;width:50px;cursor:pointer;color:#000}.selected-country[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px;width:50px}.dropdown-arrow[_ngcontent-%COMP%]{margin-left:8px}.dropdown-options[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:200px;z-index:9999;background-color:#fff;border:1px solid #ccc;padding:8px 0;border-radius:12px;border:1px solid var(--crm-border-light-color);color:#000;max-height:150px;overflow-y:auto}.option[_ngcontent-%COMP%]{padding:8px;display:flex;align-items:center;cursor:pointer;font-size:14px}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;display:inline-block;margin-right:8px}.option[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.flag-country-selector-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:#000}.selected-country[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;width:18px;height:18px}"]}),a})()},6812:(y,p,o)=>{o.d(p,{u:()=>r});var e=o(177),d=o(9417),C=o(7754),i=o(3953);let r=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.$C({type:t}),t.\u0275inj=i.G2t({imports:[e.MD,d.YN,C.X]}),a})()},68:(y,p,o)=>{o.d(p,{k:()=>i});var e=o(177),d=o(9417),C=o(3953);let i=(()=>{var r;class t{}return(r=t).\u0275fac=function(u){return new(u||r)},r.\u0275mod=C.$C({type:r}),r.\u0275inj=C.G2t({imports:[e.MD,d.YN]}),t})()},2306:(y,p,o)=>{o.d(p,{T:()=>i});var e=o(177),d=o(9417),C=o(3953);let i=(()=>{var r;class t{}return(r=t).\u0275fac=function(u){return new(u||r)},r.\u0275mod=C.$C({type:r}),r.\u0275inj=C.G2t({imports:[e.MD,d.YN]}),t})()},7754:(y,p,o)=>{o.d(p,{X:()=>t});var e=o(177),d=o(9417),C=o(9465),i=o(3955),r=o(3953);let t=(()=>{var a;class u{}return(a=u).\u0275fac=function(s){return new(s||a)},a.\u0275mod=r.$C({type:a}),a.\u0275inj=r.G2t({imports:[e.MD,d.YN,C.bv,i.h]}),u})()},8383:(y,p,o)=>{o.r(p),o.d(p,{ContactCreatePageModule:()=>T});var e=o(177),d=o(9417),C=o(9465),i=o(5188),r=o(467),t=o(3953),a=o(4501),u=o(9333),n=o(2081),s=o(6552),v=o(8397),P=o(3303),O=o(8129),M=o(3955);const E=["contactForm"],D=[{path:"",component:(()=>{var c;class m{constructor(l,_,h,f,R,I){this.headerService=l,this.contactsService=_,this.router=h,this.api=f,this.utils=R,this.toastService=I,this.loadingButton=!1}ngOnInit(){}ionViewWillEnter(){this.headerService.setConfig({title:"contact_create"}),this.contactForm.contactForm.reset(),this.contactForm.contact=null,this.loadingButton=!1}onSubmit(){var l=this;return(0,r.A)(function*(){(yield l.contactsService.createOrUpdateContactFromForm(l.contactForm))&&(l.contactForm.contactForm.reset(),l.router.navigate(["/contacts"]))})()}}return(c=m).\u0275fac=function(l){return new(l||c)(t.rXU(a.d),t.rXU(u.F),t.rXU(i.Ix),t.rXU(n.i),t.rXU(s.T),t.rXU(v.f))},c.\u0275cmp=t.VBU({type:c,selectors:[["app-contact-create"]],viewQuery:function(l,_){if(1&l&&t.GBs(E,5),2&l){let h;t.mGM(h=t.lsd())&&(_.contactForm=h.first)}},decls:11,vars:4,consts:[["contactForm",""],[1,"crm-block-body"],[1,"crm-block-body-blue-content"],[1,"crm-header-modal","crm-header-modal-empty"],[1,"crm-buttons-group"],["type","submit",1,"crm-button",3,"click","appLoadingButton"],[1,"fa","fa-check"]],template:function(l,_){if(1&l){const h=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"div"),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(h),t.Njj(_.onSubmit())}),t.nrm(6,"i",6),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.nrm(9,"app-contact-form",null,0),t.k0s()()}2&l&&(t.R7$(5),t.Y8G("appLoadingButton",_.loadingButton),t.R7$(2),t.SpI(" ",t.bMT(8,2,"contacts.create.submit_button")," "))},dependencies:[P.q,O.K,M.D9]}),m})()}];let F=(()=>{var c;class m{}return(c=m).\u0275fac=function(l){return new(l||c)},c.\u0275mod=t.$C({type:c}),c.\u0275inj=t.G2t({imports:[i.iI.forChild(D),i.iI]}),m})();var S=o(6812),B=o(68),x=o(7294);let T=(()=>{var c;class m{}return(c=m).\u0275fac=function(l){return new(l||c)},c.\u0275mod=t.$C({type:c}),c.\u0275inj=t.G2t({imports:[e.MD,d.YN,C.bv,F,S.u,d.X1,B.k,x.J,M.h]}),m})()}}]);